(function(){"use strict";var o={5206:function(o,a,e){var r=e(8355),t=e(5130),i=e(6768);const n={class:"body"};function l(o,a,e,r,t,l){const s=(0,i.g2)("router-view"),c=(0,i.g2)("PieComponent");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("div",n,[(0,i.bF)(s)]),(0,i.bF)(c)])}const s={class:"text-center"},c=(0,i.Fv)('<div class="text-center p-2" data-v-798a0137><a href="https://puestito.online/" data-v-798a0137><img src="/favicon.ico" width="22" alt="" data-v-798a0137></a><div style="margin-left:10px;display:inline;" data-v-798a0137> Puestito Online </div><a style="margin-left:10px;" href="http://instagram.com/puestito.online" target="_blank" data-v-798a0137><img src="/recursos/instagram.png" width="20" alt="" data-v-798a0137></a></div>',1),d=[c];function u(o,a,e,r,t,n){return(0,i.uX)(),(0,i.CE)("footer",s,d)}var p={},m=e(1241);const g=(0,m.A)(p,[["render",u],["__scopeId","data-v-798a0137"]]);var b=g,k=(e(8077),{name:"App",components:{PieComponent:b},methods:{},mounted(){}});const v=(0,m.A)(k,[["render",l]]);var h=v,f=e(1387),L=e(4232);const C=o=>((0,i.Qi)("data-v-30786b36"),o=o(),(0,i.jt)(),o),y={class:"todo"},x={class:"container mt-4 mb-2"},w={class:"text-center"},P={key:0,class:"container"},E={class:"col-md-6 mt-2"},M={key:1,class:"text-center"},_={class:"row g-3 div-forms"},I={class:"col-md-6"},S=C((()=>(0,i.Lk)("h2",{class:"titulo-div-forms mb-2"},"Perfil",-1))),A=C((()=>(0,i.Lk)("hr",null,null,-1))),T={class:"row g-3 div-forms mt-2"},N={class:"col-md-6"},q=C((()=>(0,i.Lk)("h2",{class:"titulo-div-forms mb-2"},"Productos",-1))),X=C((()=>(0,i.Lk)("br",null,null,-1))),V=C((()=>(0,i.Lk)("hr",null,null,-1))),U={class:"row g-3 div-forms mt-2"},F={class:"col-md-6"},R=C((()=>(0,i.Lk)("h2",{class:"titulo-div-forms mb-2"}," Tu link ",-1))),D=["href"],z=C((()=>(0,i.Lk)("br",null,null,-1))),$=C((()=>(0,i.Lk)("hr",null,null,-1))),W={key:0,class:"div-forms mt-2"},J=C((()=>(0,i.Lk)("h2",{class:"titulo-div-forms mb-2"},"Tu código QR",-1))),Q={class:"col-md-6"},j=C((()=>(0,i.Lk)("label",{class:"form-label",for:"qrText"},"Texto1",-1))),O={class:"flex"},B={class:"col-md-6"},G=C((()=>(0,i.Lk)("label",{class:"form-label mt-2",for:"qrTitle"},"Texto2",-1))),H={class:"flex"},K={ref:"contenido",class:"mt-4 position-relative"},Y=["src"],Z={class:"p-4 frente"},oo=["href"],ao=C((()=>(0,i.Lk)("br",null,null,-1))),eo={class:"col-md-6"};function ro(o,a,e,r,n,l){const s=(0,i.g2)("NavbarAdminComponent"),c=(0,i.g2)("NavbarComponent"),d=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",y,[l.esAdmin()?((0,i.uX)(),(0,i.Wv)(s,{key:0})):((0,i.uX)(),(0,i.Wv)(c,{key:1})),(0,i.Lk)("div",x,[(0,i.Lk)("h1",w,"Bienvenid@, "+(0,L.v_)(n.nombreNegocio),1),l.esAdmin()?((0,i.uX)(),(0,i.CE)("div",P,[(0,i.Lk)("div",E,[(0,i.bF)(d,{class:"btn btn-menu",to:"/u/negocios"},{default:(0,i.k6)((()=>[(0,i.eW)("Listar Negocios")])),_:1})])])):((0,i.uX)(),(0,i.CE)("div",M,[(0,i.Lk)("div",_,[(0,i.Lk)("div",I,[S,(0,i.bF)(d,{class:"btn btn-menu",to:"/u/modificar"},{default:(0,i.k6)((()=>[(0,i.eW)("Ver Información")])),_:1})])]),A,(0,i.Lk)("div",T,[(0,i.Lk)("div",N,[q,(0,i.bF)(d,{class:"btn btn-menu",to:"/u/nuevoProducto"},{default:(0,i.k6)((()=>[(0,i.eW)("Nuevo Producto")])),_:1}),X,(0,i.bF)(d,{class:"btn btn-menu",to:"/u/productos"},{default:(0,i.k6)((()=>[(0,i.eW)("Listar Productos")])),_:1})])]),V,(0,i.Lk)("div",U,[(0,i.Lk)("div",F,[R,(0,i.Lk)("a",{href:"https://puestito.online/"+n.nombreUsuario,target:"_blank"},"https://puestito.online/"+(0,L.v_)(n.nombreUsuario),9,D),z])]),$,"2100"!==n.fechaVence?((0,i.uX)(),(0,i.CE)("div",W,[J,(0,i.Lk)("div",Q,[j,(0,i.Lk)("div",O,[(0,i.bo)((0,i.Lk)("input",{class:"form-control",name:"qrText",type:"text","onUpdate:modelValue":a[0]||(a[0]=o=>n.qrText=o)},null,512),[[t.Jo,n.qrText]]),(0,i.bo)((0,i.Lk)("input",{class:"form-control-color",type:"color",name:"qrTextColor","onUpdate:modelValue":a[1]||(a[1]=o=>n.qrTextColor=o)},null,512),[[t.Jo,n.qrTextColor]])])]),(0,i.Lk)("div",B,[G,(0,i.Lk)("div",H,[(0,i.bo)((0,i.Lk)("input",{class:"form-control",name:"qrTitle",type:"text","onUpdate:modelValue":a[2]||(a[2]=o=>n.qrTitle=o)},null,512),[[t.Jo,n.qrTitle]]),(0,i.bo)((0,i.Lk)("input",{class:"form-control-color",type:"color",name:"qrTitleColor","onUpdate:modelValue":a[3]||(a[3]=o=>n.qrTitleColor=o)},null,512),[[t.Jo,n.qrTitleColor]])])]),(0,i.Lk)("div",K,[(0,i.Lk)("img",{class:"portada",src:n.negocio.portada,alt:""},null,8,Y),(0,i.Lk)("div",Z,[(0,i.Lk)("h5",{class:"mt-2 qr-text-consulta",style:(0,L.Tr)({color:n.qrTextColor})},[(0,i.eW)((0,L.v_)(n.qrText),1),(0,i.Lk)("p",{class:"qr-text",style:(0,L.Tr)({color:n.qrTitleColor})},(0,L.v_)(n.qrTitle),5)],4),(0,i.Lk)("a",{style:{color:"black","text-decoration":"none"},ref:"qrcode",href:"https://puestito.online/"+n.nombreUsuario,target:"_blank"},null,8,oo),ao])],512),(0,i.Lk)("div",eo,[(0,i.Lk)("button",{onClick:a[4]||(a[4]=(...o)=>l.descargarQR&&l.descargarQR(...o)),class:"btn btn-menu margenbtn"},"Descargar QR")])])):(0,i.Q3)("",!0)]))])])}var to=e(852),io=e.n(to);const no=o=>((0,i.Qi)("data-v-70ebc5f6"),o=o(),(0,i.jt)(),o),lo={class:""},so={class:"navbar navbar-expand-lg navbar-dark bg-dark"},co={class:"container-fluid"},uo=no((()=>(0,i.Lk)("img",{class:"m-2",src:"/recursos/home.png",width:"25",alt:""},null,-1))),po=no((()=>(0,i.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDarkDropdown","aria-controls":"navbarNavDarkDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,i.Lk)("span",{class:"navbar-toggler-icon"})],-1))),mo={class:"collapse navbar-collapse",id:"navbarNavDarkDropdown"},go={class:"navbar-nav"},bo={class:"test nav-item"},ko={class:"test nav-item"},vo={class:"test nav-item"},ho={class:"test nav-item"},fo={class:"test nav-item"},Lo=no((()=>(0,i.Lk)("button",{class:"nav-link","data-bs-toggle":"modal","data-bs-target":"#exampleModal"}," Salir ",-1))),Co={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},yo={class:"modal-dialog"},xo={class:"modal-content"},wo=no((()=>(0,i.Lk)("div",{class:"modal-header text-center"},[(0,i.Lk)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"¿Cerrar sesión?"),(0,i.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Po={class:"modal-footer text-center"},Eo=no((()=>(0,i.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"No",-1)));function Mo(o,a,e,r,t,n){const l=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",lo,[(0,i.Lk)("nav",so,[(0,i.Lk)("div",co,[(0,i.bF)(l,{class:"navbar-brand",to:"/u/home"},{default:(0,i.k6)((()=>[uo,(0,i.eW)(" "+(0,L.v_)(n.leerUsuario()),1)])),_:1}),po,(0,i.Lk)("div",mo,[(0,i.Lk)("ul",go,[(0,i.Lk)("li",bo,[(0,i.bF)(l,{class:"nav-link",to:"/u/home"},{default:(0,i.k6)((()=>[(0,i.eW)("Inicio ")])),_:1})]),(0,i.Lk)("li",ko,[(0,i.bF)(l,{class:"nav-link",to:"/u/modificar"},{default:(0,i.k6)((()=>[(0,i.eW)("Pefil")])),_:1})]),(0,i.Lk)("li",vo,[(0,i.bF)(l,{class:"nav-link",to:"/u/nuevoProducto"},{default:(0,i.k6)((()=>[(0,i.eW)("Cargar Producto")])),_:1})]),(0,i.Lk)("li",ho,[(0,i.bF)(l,{class:"nav-link",to:"/u/productos"},{default:(0,i.k6)((()=>[(0,i.eW)("Listar Productos")])),_:1})]),(0,i.Lk)("li",fo,[Lo,(0,i.Lk)("div",Co,[(0,i.Lk)("div",yo,[(0,i.Lk)("div",xo,[wo,(0,i.Lk)("div",Po,[Eo,(0,i.Lk)("button",{type:"button",class:"btn btn-menu-danger","data-bs-dismiss":"modal",onClick:a[0]||(a[0]=(...o)=>n.cerrarSesion&&n.cerrarSesion(...o))},"Sí, cerrar sesión")])])])])])])])])])])}e(4114);var _o={mounted(){},methods:{isActiveProductos(){return"/u/nuevoProducto"==this.$route.path||"/u/productos"==this.$route.path},isActiveCategorias(){return"/u/nuevaCategoria"==this.$route.path||"/u/categorias"==this.$route.path},leerUsuario(){return localStorage.getItem("nombre")},cerrarSesion(){localStorage.clear(),np.push("/")}},components:{"router-link":f.Wk}};const Io=(0,m.A)(_o,[["render",Mo],["__scopeId","data-v-70ebc5f6"]]);var So=Io;const Ao=o=>((0,i.Qi)("data-v-ef922fbe"),o=o(),(0,i.jt)(),o),To={class:""},No={class:"navbar navbar-expand-lg navbar-dark bg-dark"},qo={class:"container-fluid"},Xo=Ao((()=>(0,i.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDarkDropdown","aria-controls":"navbarNavDarkDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,i.Lk)("span",{class:"navbar-toggler-icon"})],-1))),Vo={class:"collapse navbar-collapse",id:"navbarNavDarkDropdown"},Uo={class:"navbar-nav"},Fo={class:"test nav-item"},Ro={class:"test nav-item"},Do={class:"test nav-item"},zo=Ao((()=>(0,i.Lk)("button",{class:"nav-link","data-bs-toggle":"modal","data-bs-target":"#exampleModal"}," Salir ",-1))),$o={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Wo={class:"modal-dialog"},Jo={class:"modal-content"},Qo=Ao((()=>(0,i.Lk)("div",{class:"modal-header text-center"},[(0,i.Lk)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"¿Cerrar sesión?"),(0,i.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),jo={class:"modal-footer text-center"},Oo=Ao((()=>(0,i.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"No",-1)));function Bo(o,a,e,r,t,n){const l=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",To,[(0,i.Lk)("nav",No,[(0,i.Lk)("div",qo,[(0,i.bF)(l,{class:"navbar-brand",to:"/u/home"},{default:(0,i.k6)((()=>[(0,i.eW)((0,L.v_)(n.leerUsuario())+" | ",1)])),_:1}),Xo,(0,i.Lk)("div",Vo,[(0,i.Lk)("ul",Uo,[(0,i.Lk)("li",Fo,[(0,i.bF)(l,{class:"nav-link",to:"/u/home"},{default:(0,i.k6)((()=>[(0,i.eW)("Inicio")])),_:1})]),(0,i.Lk)("li",Ro,[(0,i.bF)(l,{class:"nav-link",to:"/u/negocios"},{default:(0,i.k6)((()=>[(0,i.eW)("Listar Negocios")])),_:1})]),(0,i.Lk)("li",Do,[zo,(0,i.Lk)("div",$o,[(0,i.Lk)("div",Wo,[(0,i.Lk)("div",Jo,[Qo,(0,i.Lk)("div",jo,[Oo,(0,i.Lk)("button",{type:"button",class:"btn btn-menu-danger","data-bs-dismiss":"modal",onClick:a[0]||(a[0]=(...o)=>n.cerrarSesion&&n.cerrarSesion(...o))},"Sí, cerrar sesión")])])])])])])])])])])}var Go={methods:{leerUsuario(){return localStorage.getItem("nombre")},cerrarSesion(){localStorage.clear(),np.push("/")}},components:{"router-link":f.Wk}};const Ho=(0,m.A)(Go,[["render",Bo],["__scopeId","data-v-ef922fbe"]]);var Ko=Ho,Yo=e(788),Zo=e(2125),oa=e.n(Zo),aa={data(){return{nombreUsuario:"",nombreNegocio:"",fechaVence:"",negocio:"",qrText:"",qrTitle:"",qrTextColor:"",qrTitleColor:""}},components:{NavbarComponent:So,NavbarAdminComponent:Ko,"router-link":f.Wk},mounted(){this.leerUsuario(),this.leerTextoQR(),"admin"!=this.nombreUsuario&&this.generarQR()},created(){this.obtenerInformacionNegocio()},methods:{leerTextoQR(){this.qrText=localStorage.getItem("qrText")||"CONSULTÁ EL",this.qrTitle=localStorage.getItem("qrTitle")||"MENÚ",this.qrTextColor=localStorage.getItem("qrTextColor")||"#000000",this.qrTitleColor=localStorage.getItem("qrTitleColor")||"#000000"},async obtenerInformacionNegocio(){try{this.obteniendoInfo=!0;const o=await r.A.get(`/miNegocio?usuario=${localStorage.getItem("usuario")}`);this.negocio=o.data}catch(o){console.error("Error al cargar los productos:",o)}finally{this.obteniendoInfo=!1}},generarQR(){const o=localStorage.getItem("nombre");if(o){const a=io()(0,"L"),e=9;a.size=e;const r="https://puestito.online/"+o;a.addData(r),a.make(),this.renderQRCode(a.createImgTag(e,0))}},renderQRCode(o){const a=this.$refs.qrcode;a.innerHTML=o,a.innerHTML+='<div class="mt-2" style="color:white;background: black;border-radius: 10px;">puestito.online/'+this.nombreUsuario+"</div>"},leerUsuario(){this.nombreUsuario=localStorage.getItem("usuario"),this.nombreNegocio=localStorage.getItem("nombre"),this.fechaVence=localStorage.getItem("año")},esAdmin(){return"admin"==localStorage.getItem("usuario")},descargarQR(){const o=this.$refs.contenido;localStorage.setItem("qrText",this.qrText),localStorage.setItem("qrTitle",this.qrTitle),localStorage.setItem("qrTitleColor",this.qrTitleColor),localStorage.setItem("qrTextColor",this.qrTextColor),oa()(o,{backgroundColor:null}).then((o=>{o.toBlob((o=>{(0,Yo.saveAs)(o,"contenido-"+this.nombreUsuario+".png")}))}))}}};const ea=(0,m.A)(aa,[["render",ro],["__scopeId","data-v-30786b36"]]);var ra=ea;const ta=o=>((0,i.Qi)("data-v-fd37ffee"),o=o(),(0,i.jt)(),o),ia={class:"navbar navbar-dark bg-black"},na={class:"container"},la={class:"flex"},sa=ta((()=>(0,i.Lk)("img",{src:"/favicon.ico",alt:"",class:"nav-logo"},null,-1))),ca={class:"ancho-busqueda input-group mauto"},da={class:"end btn-login"},ua=ta((()=>(0,i.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",fill:"currentColor",class:"bi bi-box-arrow-in-right",viewBox:"0 0 16 16"},[(0,i.Lk)("path",{"fill-rule":"evenodd",d:"M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0z"}),(0,i.Lk)("path",{"fill-rule":"evenodd",d:"M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z"})],-1))),pa=ta((()=>(0,i.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",fill:"currentColor",class:"bi bi-box-arrow-in-right",viewBox:"0 0 16 16"},[(0,i.Lk)("path",{"fill-rule":"evenodd",d:"M6 3.5a.5.5 0 0 1 .5-.5h8a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-8a.5.5 0 0 1-.5-.5v-2a.5.5 0 0 0-1 0v2A1.5 1.5 0 0 0 6.5 14h8a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-8A1.5 1.5 0 0 0 5 3.5v2a.5.5 0 0 0 1 0z"}),(0,i.Lk)("path",{"fill-rule":"evenodd",d:"M11.854 8.354a.5.5 0 0 0 0-.708l-3-3a.5.5 0 1 0-.708.708L10.293 7.5H1.5a.5.5 0 0 0 0 1h8.793l-2.147 2.146a.5.5 0 0 0 .708.708z"})],-1))),ma={class:"navbar bg-dark c-white mtb-0"},ga={class:"container"},ba=ta((()=>(0,i.Lk)("option",{value:"Todos",selected:""},"Todos",-1))),ka=["value"],va={class:"container2"},ha={key:0,class:"pantalla-carga text-center"},fa=ta((()=>(0,i.Lk)("div",{class:"logo-carga"},[(0,i.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:""}),(0,i.Lk)("div",{class:"texto-carga"},"Buscando Puestitos")],-1))),La=[fa],Ca={key:1},ya={class:"mt-2"},xa={class:"modalMapa",style:{height:"400px"}},wa={style:{"max-width":"150px"}},Pa={style:{"font-size":"20px"}},Ea=ta((()=>(0,i.Lk)("br",null,null,-1))),Ma={style:{"text-align":"center"}},_a=["href"],Ia=ta((()=>(0,i.Lk)("img",{src:"/favicon.ico",width:"20",alt:""},null,-1))),Sa=[Ia],Aa=["href"],Ta=ta((()=>(0,i.Lk)("img",{style:{margin:"0px 10px"},width:"20",src:"/recursos/instagram.png"},null,-1))),Na=[Ta],qa=["href"],Xa=ta((()=>(0,i.Lk)("img",{style:{margin:"0px 10px"},width:"20",src:"/recursos/facebook.png"},null,-1))),Va=[Xa],Ua={style:{margin:"5px 0px"}},Fa=ta((()=>(0,i.Lk)("b",null,"Dirección:",-1))),Ra={style:{margin:"5px 0px"}},Da=ta((()=>(0,i.Lk)("b",null,"Correo:",-1))),za={style:{margin:"5px 0px"}},$a=ta((()=>(0,i.Lk)("b",null,"Teléfono:",-1))),Wa={style:{"text-align":"center",margin:"7px 0px"}},Ja={class:"titulo-rubro"},Qa={class:"categoria-container"},ja={class:"carrusel"},Oa={class:"item-container"},Ba={key:0,class:"imagen"},Ga=["src"],Ha={key:1},Ka=ta((()=>(0,i.Lk)("img",{src:"/recursos/missing.png",alt:"",class:"imagen-negocio"},null,-1))),Ya=[Ka],Za={class:"item-nombre"},oe={class:"item-btn"},ae=["onClick"],ee=ta((()=>(0,i.Lk)("img",{src:"/recursos/pin.png",width:"30",alt:""},null,-1))),re=[ee],te={key:0,class:"text-center mt-3"};function ie(o,a,e,r,n,l){const s=(0,i.g2)("router-link"),c=(0,i.g2)("GMapMarker"),d=(0,i.g2)("GMapInfoWindow"),u=(0,i.g2)("GMapMap");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.Lk)("nav",ia,[(0,i.Lk)("div",na,[(0,i.Lk)("div",la,[(0,i.bF)(s,{to:"/"},{default:(0,i.k6)((()=>[sa])),_:1}),(0,i.Lk)("div",ca,[(0,i.bo)((0,i.Lk)("input",{class:"form-control","onUpdate:modelValue":a[0]||(a[0]=o=>n.busqueda=o),type:"text",name:"busqueda",id:"",placeholder:"Buscar puestitos o rubros...",title:"Ingrese una palabra clave..."},null,512),[[t.Jo,n.busqueda]]),(0,i.Lk)("button",{class:"btn-close btn-limpiar-busqueda",onClick:a[1]||(a[1]=(...o)=>l.limpiarBusqueda&&l.limpiarBusqueda(...o))})]),(0,i.Lk)("div",da,[n.usuario?((0,i.uX)(),(0,i.Wv)(s,{key:0,class:"inline-end c-white",to:"/u/home"},{default:(0,i.k6)((()=>[ua])),_:1})):((0,i.uX)(),(0,i.Wv)(s,{key:1,class:"inline-end c-white",to:"/u/login"},{default:(0,i.k6)((()=>[pa])),_:1}))])])])]),(0,i.Lk)("nav",ma,[(0,i.Lk)("div",ga,[(0,i.bo)((0,i.Lk)("select",{class:"navbar-filter",name:"rubro",id:"rubro","onUpdate:modelValue":a[2]||(a[2]=o=>n.rubro=o)},[ba,((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(l.rubrosUnicos,((o,a)=>((0,i.uX)(),(0,i.CE)("option",{key:a,value:o},(0,L.v_)(o),9,ka)))),128))],512),[[t.u1,n.rubro]]),(0,i.Lk)("button",{class:"navbar-filter",onClick:a[3]||(a[3]=(...o)=>l.mostrarMapa&&l.mostrarMapa(...o))},(0,L.v_)(n.mapaMostrado2?"Cerrar\n          Mapa":"Abrir Mapa"),1)])]),(0,i.Lk)("div",va,[n.cargando?((0,i.uX)(),(0,i.CE)("div",ha,La)):((0,i.uX)(),(0,i.CE)("div",Ca,[(0,i.Lk)("div",ya,[(0,i.bo)((0,i.Lk)("div",xa,[(0,i.bF)(u,{style:{height:"400px"},center:n.mapCenter,zoom:n.zoom,options:n.options},{default:(0,i.k6)((()=>[n.posicionActual?((0,i.uX)(),(0,i.Wv)(c,{key:0,position:n.posicionActual,options:{icon:"/recursos/pinself.png"},title:"Estás aquí."},null,8,["position","options","title"])):(0,i.Q3)("",!0),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(l.negociosFiltrados,((o,e)=>((0,i.uX)(),(0,i.Wv)(c,{key:e,position:o.location,title:o.nombre,onClick:o=>l.openInfoWindow(e),options:{icon:"/recursos/pin30.png"},id:"gmapm"},{default:(0,i.k6)((()=>[n.infoWindowOpened==e?((0,i.uX)(),(0,i.Wv)(d,{key:0,options:n.infoWindow[e].options,closeclick:!0,onCloseclick:a[4]||(a[4]=o=>l.openInfoWindow(null))},{default:(0,i.k6)((()=>[(0,i.Lk)("div",wa,[(0,i.Lk)("b",Pa,(0,L.v_)(o.nombre),1),Ea,(0,i.Lk)("div",Ma,[(0,i.Lk)("a",{style:{"text-decoration":"none",color:"white","font-size":"12px",padding:"4px 6px"},href:"https://puestito.online/"+o.usuario,target:"_blank"},Sa,8,_a),o.instagram?((0,i.uX)(),(0,i.CE)("a",{key:0,href:"https://instagram.com/"+o.instagram,target:"blank"},Na,8,Aa)):(0,i.Q3)("",!0),o.facebook?((0,i.uX)(),(0,i.CE)("a",{key:1,href:"https://facebook.com/"+o.facebook,target:"blank"},Va,8,qa)):(0,i.Q3)("",!0)]),(0,i.Lk)("p",Ua,[Fa,(0,i.eW)(" "+(0,L.v_)(o.direccion),1)]),(0,i.Lk)("p",Ra,[Da,(0,i.eW)(" "+(0,L.v_)(o.correo),1)]),(0,i.Lk)("p",za,[$a,(0,i.eW)(" "+(0,L.v_)(o.telefono),1)]),(0,i.Lk)("p",Wa,' "'+(0,L.v_)(o.descripcion)+'" ',1)])])),_:2},1032,["options"])):(0,i.Q3)("",!0)])),_:2},1032,["position","title","onClick","options"])))),128))])),_:1},8,["center","zoom","options"])],512),[[t.aG,n.mapaMostrado2]]),((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(l.negociosAgrupados,((o,a)=>((0,i.uX)(),(0,i.CE)("div",{key:a},[(0,i.Lk)("div",Ja,(0,L.v_)(a),1),(0,i.Lk)("div",Qa,[(0,i.Lk)("div",ja,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(o,((o,a)=>((0,i.uX)(),(0,i.CE)("div",{key:a,class:(0,L.C4)({"carrusel-item":!0,active:0===a})},[(0,i.Lk)("div",Oa,[(0,i.bF)(s,{class:"item-texto-block-end",to:"/"+o.usuario,target:"_blank"},{default:(0,i.k6)((()=>[o.imagen?((0,i.uX)(),(0,i.CE)("div",Ba,[(0,i.Lk)("img",{class:"imagen-negocio",src:o.imagen,alt:" "},null,8,Ga)])):((0,i.uX)(),(0,i.CE)("div",Ha,Ya)),(0,i.Lk)("div",Za,(0,L.v_)(o.nombre),1)])),_:2},1032,["to"]),(0,i.Lk)("div",oe,[null!==o.location?((0,i.uX)(),(0,i.CE)("a",{key:0,class:"cursor-pointer mt-1",onClick:a=>l.localizar(o)},re,8,ae)):(0,i.Q3)("",!0)])])],2)))),128))])])])))),128)),0===l.negociosFiltrados.length?((0,i.uX)(),(0,i.CE)("div",te," No se encontraron resultados para esa búsqueda. ")):(0,i.Q3)("",!0)])]))])])}var ne={components:{},name:"MapaComponent",data(){return{usuario:"",buscarMenu:!1,posicionActual:"",options:{disableDefaultUI:!0,styles:[{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"labels.icon",stylers:[{visibility:"off"}]}]},infoWindowOpened:null,infoWindow:[],mapCenter:{lat:-27.7876,lng:-64.2596},zoom:14,negocios:[],busqueda:"",rubro:"Todos",mapaMostrado:!1,mapaMostrado2:!1,cargando:!0}},created(){this.fetchNegocios()},mounted(){this.$route.params&&np.push("/",this.$route.params),this.obtenerUsuario()},computed:{negociosFiltrados(){let o=this.negocios;if("Todos"!==this.rubro&&(o=o.filter((o=>o.rubro===this.rubro))),""!==this.busqueda){const a=this.busqueda.toLowerCase();o=o.filter((o=>{const e=o.nombre?o.nombre.toLowerCase():"",r=o.descripcion?o.descripcion.toLowerCase():"",t=o.rubro?o.rubro.toLowerCase():"";return e.includes(a)||r.includes(a)||t.includes(a)}))}return o},negociosAgrupados(){const o={};this.negociosFiltrados.forEach((a=>{o[a.rubro]||(o[a.rubro]=[]),o[a.rubro].push(a)}));const a=Object.keys(o).sort(),e={};return a.forEach((a=>{e[a]=o[a]})),e},rubrosUnicos(){const o=new Set;return this.negocios.forEach((a=>{o.add(a.rubro)})),Array.from(o)}},methods:{obtenerUsuario(){this.usuario=localStorage.getItem("usuario")},limpiarBusqueda(){this.busqueda="",this.rubro="Todos"},async localizar(o){if(!this.mapaMostrado){this.mapaMostrado=!0,this.mapaMostrado2=!0;try{await this.inicializarMapa()}catch(a){console.error("Error al inicializar el mapa:",a)}}this.buscarMenu=!0,this.mapaMostrado2=!0,this.mapCenter=o.location,this.openInfoWindow(o.index),window.scrollTo({top:0,behavior:"smooth"})},openInfoWindow(o){this.infoWindowOpened==o?this.infoWindowOpened=null:this.infoWindowOpened=o},inicializarMapa(){return new Promise(((o,a)=>{try{navigator.geolocation?navigator.geolocation.getCurrentPosition((a=>{const e={lat:a.coords.latitude,lng:a.coords.longitude};this.posicionActual=e,o()}),(o=>{console.log("Error al geolocalizar. Inicializando en Plaza Libertad. ",o),a(o)})):(console.log("No funciona geolocation. Centrando mapa en Plaza Libertad."),o())}catch(e){console.error("Error al obtener la ubicación actual:",e),a(e)}}))},mostrarBusqueda(){this.buscarMenu?this.buscarMenu=!1:this.buscarMenu=!0},async mostrarMapa(){if(this.mapaMostrado2)this.mapaMostrado2=!1;else if(this.mapaMostrado)this.mapaMostrado2=!0;else{this.mapaMostrado=!0,this.mapaMostrado2=!0;try{await this.inicializarMapa(),this.mapCenter=this.posicionActual}catch(o){console.error("Error al inicializar el mapa:",o)}}},async fetchNegocios(){try{const o=await r.A.get("/negocios");this.negocios=o.data.filter(((o,a)=>{o.index=a;const e=new Date(o.fechaVence);return 2100!==e.getFullYear()})),this.infoWindow=Array(this.negocios.length).fill({open:!1,options:{pixelOffset:{width:0,height:-10},maxWidth:320,maxHeight:320}})}catch(o){console.error("Error al obtener los datos de los negocios:",o)}finally{this.cargando=!1}}}};const le=(0,m.A)(ne,[["render",ie],["__scopeId","data-v-fd37ffee"]]);var se=le;const ce=o=>((0,i.Qi)("data-v-1fa3bd85"),o=o(),(0,i.jt)(),o),de={key:0,class:"pantalla-carga text-center"},ue=ce((()=>(0,i.Lk)("div",{class:"logo-carga"},[(0,i.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:""}),(0,i.Lk)("div",{class:"texto-carga"},"Ingresando")],-1))),pe=[ue],me={class:"total"},ge={class:"fondo text-center"},be=ce((()=>(0,i.Lk)("img",{src:"/favicon.ico",width:"100",alt:"logo",class:"mb-4"},null,-1))),ke=ce((()=>(0,i.Lk)("h1",{class:"titulo"},"Puestito Online",-1))),ve={class:"width-size"},he=ce((()=>(0,i.Lk)("label",{for:"usuario"},"Usuario",-1))),fe={class:"width-size"},Le=ce((()=>(0,i.Lk)("label",{for:"contraseña"},"Contraseña",-1))),Ce=ce((()=>(0,i.Lk)("div",{class:"col-md-8"},[(0,i.Lk)("button",{type:"submit",class:"btn btn-entrar"},"Entrar")],-1)));function ye(o,a,e,r,n,l){const s=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",null,[n.ingresando?((0,i.uX)(),(0,i.CE)("div",de,pe)):(0,i.Q3)("",!0),(0,i.Lk)("div",me,[(0,i.Lk)("div",ge,[be,ke,(0,i.Lk)("form",{class:"row",onSubmit:a[3]||(a[3]=(0,t.D$)(((...o)=>l.login&&l.login(...o)),["prevent"]))},[(0,i.Lk)("div",ve,[he,(0,i.bo)((0,i.Lk)("input",{class:"form-control mb-3",type:"text","onUpdate:modelValue":a[0]||(a[0]=o=>n.usuario=o),required:"",onInput:a[1]||(a[1]=(...o)=>l.restrictInput&&l.restrictInput(...o))},null,544),[[t.Jo,n.usuario]])]),(0,i.Lk)("div",fe,[Le,(0,i.bo)((0,i.Lk)("input",{class:"form-control mb-4",type:"password","onUpdate:modelValue":a[2]||(a[2]=o=>n.contraseña=o),required:""},null,512),[[t.Jo,n.contraseña]])]),Ce,(0,i.bF)(s,{class:"mt-4",to:"/u/planes"},{default:(0,i.k6)((()=>[(0,i.eW)("¿Registrar Negocio?")])),_:1}),(0,i.bF)(s,{class:"mt-4",to:"/"},{default:(0,i.k6)((()=>[(0,i.eW)("Volver a Puestito Online")])),_:1})],32)])])])}var xe=e(4874),we=e.n(xe),Pe={components:{},data(){return{ingresando:!1,usuario:"","contraseña":""}},methods:{restrictInput(o){const a=o.target.value,e=/[\s!@#$%^&*()_+=[\]{};':"\\|,<>?`´¨~¡/°¬¿]/g;e.test(a)&&(this.usuario=this.usuario.substring(0,this.usuario.length-1))},checkAuthentication(){const o=!!localStorage.getItem("token");o&&this.$router.push("/u/home")},async login(){try{this.ingresando=!0;const o=await r.A.post("/login",{usuario:this.usuario,"contraseña":this.contraseña});if(200===o.status){const a=await r.A.post("/comprobar-vencimiento",{usuario:o.data.nomUsuario}),e=a.data;localStorage.setItem("token",o.data.token),localStorage.setItem("nombre",o.data.nombre),localStorage.setItem("usuario",o.data.nomUsuario),localStorage.setItem("año",e),this.$router.push("/u/home");const t=we().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",we().stopTimer),o.addEventListener("mouseleave",we().resumeTimer)}});t.fire({icon:"success",title:"Inicio de sesión exitoso."})}}catch(o){we().fire({icon:"error",text:"Usuario/contraseña incorrectos."})}finally{this.ingresando=!1}}},mounted(){this.checkAuthentication()}};const Ee=(0,m.A)(Pe,[["render",ye],["__scopeId","data-v-1fa3bd85"]]);var Me=Ee;const _e=o=>((0,i.Qi)("data-v-4245b03b"),o=o(),(0,i.jt)(),o),Ie={key:2,class:"pantalla-carga text-center"},Se=_e((()=>(0,i.Lk)("div",{class:"logo-carga"},[(0,i.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:""}),(0,i.Lk)("div",{class:"texto-carga"},"Procesando pago...")],-1))),Ae=[Se],Te={key:3,class:"pantalla-carga text-center"},Ne=_e((()=>(0,i.Lk)("div",{class:"logo-carga"},[(0,i.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:""}),(0,i.Lk)("div",{class:"texto-carga"},"Registrando...")],-1))),qe=[Ne],Xe={key:4,class:"container mt-4 mb-2"},Ve={key:0,class:"row g-3 mt-4 border"},Ue={class:"row g-3 border"},Fe=_e((()=>(0,i.Lk)("h4",{class:"titulo- mb-2"},"Información de acceso",-1))),Re=_e((()=>(0,i.Lk)("h4",{class:"subtitulo"},"Cómo ingresarás a la plataforma.",-1))),De={class:"col-md-6"},ze={class:"col-md-6"},$e={class:"col-md-12 subtitulo"},We=_e((()=>(0,i.Lk)("h4",{class:"titulo- mb-2"},"Información del negocio",-1))),Je=_e((()=>(0,i.Lk)("h4",{class:"subtitulo"}," Más adelante podés modificar esta información. ",-1))),Qe={class:"col-md-6"},je={class:"col-md-6"},Oe={class:"col-md-6"},Be=(0,i.Fv)('<option value="Elegí tu rubro" disabled data-v-4245b03b>Elegí tu rubro</option><option value="Artesanías" data-v-4245b03b>Artesanías</option><option value="Bar/Restaurante" data-v-4245b03b>Bar/Restaurante</option><option value="Carnicería" data-v-4245b03b>Carnicería</option><option value="Consultorio" data-v-4245b03b>Consultorio</option><option value="Estética" data-v-4245b03b>Estética</option><option value="Farmacia" data-v-4245b03b>Farmacia</option><option value="Ferretería" data-v-4245b03b>Ferretería</option><option value="Fiambrería" data-v-4245b03b>Fiambrería</option><option value="Florería" data-v-4245b03b>Florería</option><option value="Heladería" data-v-4245b03b>Heladería</option><option value="Indumentaria" data-v-4245b03b>Indumentaria</option><option value="Inmobiliaria" data-v-4245b03b>Inmobiliaria</option><option value="Juguetería" data-v-4245b03b>Juguetería</option><option value="Librería" data-v-4245b03b>Librería</option><option value="Limpieza" data-v-4245b03b>Limpieza</option><option value="Panadería" data-v-4245b03b>Panadería</option><option value="Peluquería" data-v-4245b03b>Peluquería</option><option value="Polirubro" data-v-4245b03b>Polirubro</option><option value="Pollería" data-v-4245b03b>Pollería</option><option value="Repostería" data-v-4245b03b>Repostería</option><option value="Rotisería" data-v-4245b03b>Rotisería</option><option value="Reparación/mantenimiento" data-v-4245b03b>Reparación/mantenimiento</option><option value="Servicios" data-v-4245b03b>Servicios</option><option value="Supermercado" data-v-4245b03b>Supermercado</option><option value="Tecnología" data-v-4245b03b>Tecnología</option><option value="Verdulería" data-v-4245b03b>Verdulería</option><option value="Veterinaria/Forrajería" data-v-4245b03b>Veterinaria/Forrajería</option>',28),Ge=[Be],He={class:"col-md-6"},Ke={class:"col-md-6"},Ye={class:"col-md-6"},Ze={class:"col-md-6"},or={class:"col-md-6"},ar={class:"col-md-6"},er=_e((()=>(0,i.Lk)("label",{class:"form-label text-center",for:"imagen"},"Logo (JPG/PNG)",-1))),rr={class:"col-md-6"},tr=_e((()=>(0,i.Lk)("label",{class:"form-label text-center",for:"portada"},"Portada (JPG/PNG)",-1))),ir=_e((()=>(0,i.Lk)("div",{class:"subtitulo"},"Puedes elegir las imágenes más tarde",-1))),nr=["disabled"],lr=["disabled"],sr={key:1,class:"row g-3 mt-4 border"},cr={class:"modalCategoriaContainer text-center"},dr={class:"modalCategoria"},ur={class:"modal-dialog modal-dialog-centered"},pr={class:"modal-content"},mr={class:"modal-header pl-2"},gr=_e((()=>(0,i.Lk)("h1",{class:"modal-title fs-5",id:"agregarCategoriaLabel"},"Recortar Imagen",-1))),br={class:"modal-body mt-2"},kr={class:"pantalla-cargas text-center"},vr=_e((()=>(0,i.Lk)("div",{class:"logo-carga"},[(0,i.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:""}),(0,i.Lk)("div",{class:"texto-carga"}," Cargando imagen ")],-1))),hr=[vr],fr={ref:"cropperImg",alt:"Croppear"},Lr={class:"modal-footer mt-2"},Cr={class:"modalCategoriaContainer text-center"},yr={class:"modalCategoria"},xr={class:"modal-dialog modal-dialog-centered"},wr={class:"modal-content"},Pr={class:"modal-header pl-2"},Er=_e((()=>(0,i.Lk)("h1",{class:"modal-title fs-5",id:"agregarCategoriaLabel"},"Recortar Imagen",-1))),Mr={class:"modal-body mt-2"},_r={class:"pantalla-cargas text-center"},Ir=_e((()=>(0,i.Lk)("div",{class:"logo-carga"},[(0,i.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:""}),(0,i.Lk)("div",{class:"texto-carga"}," Cargando imagen ")],-1))),Sr=[Ir],Ar={ref:"cropperPortada",alt:"Croppear"},Tr={class:"modal-footer mt-2"};function Nr(o,a,e,r,n,l){const s=(0,i.g2)("NavbarAdminComponent"),c=(0,i.g2)("NavbarPublicoComponent");return(0,i.uX)(),(0,i.CE)("div",null,["admin"==n.usuario?((0,i.uX)(),(0,i.Wv)(s,{key:0})):((0,i.uX)(),(0,i.Wv)(c,{key:1})),n.cargandoPago?((0,i.uX)(),(0,i.CE)("div",Ie,Ae)):(0,i.Q3)("",!0),n.cargandoRegistro?((0,i.uX)(),(0,i.CE)("div",Te,qe)):((0,i.uX)(),(0,i.CE)("div",Xe,[n.usuario?((0,i.uX)(),(0,i.CE)("div",sr,[(0,i.Lk)("button",{class:"btn btn-menu botones m-auto mb-2",type:"submit",onClick:a[15]||(a[15]=(...o)=>l.registrarNegocio&&l.registrarNegocio(...o))}," Ir a Pagar ")])):((0,i.uX)(),(0,i.CE)("div",Ve,[(0,i.Lk)("form",{onSubmit:a[14]||(a[14]=(0,t.D$)(((...o)=>l.registrarNegocio&&l.registrarNegocio(...o)),["prevent"])),id:"form-checkout"},[(0,i.Lk)("div",Ue,[Fe,Re,(0,i.Lk)("div",De,[(0,i.bo)((0,i.Lk)("input",{class:(0,L.C4)([{"usuario-disponible":!n.usuarioDisponible},"form-control"]),type:"text",id:"username","onUpdate:modelValue":a[0]||(a[0]=o=>n.negocio.usuario=o),onInput:a[1]||(a[1]=(...o)=>l.restrictInput&&l.restrictInput(...o)),onChange:a[2]||(a[2]=(...o)=>l.verificarDisponibilidad&&l.verificarDisponibilidad(...o)),placeholder:"Nombre de Usuario",required:""},null,34),[[t.Jo,n.negocio.usuario]])]),(0,i.Lk)("div",ze,[(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"password",id:"password","onUpdate:modelValue":a[3]||(a[3]=o=>n.negocio.contraseña=o),placeholder:"Contraseña",required:""},null,512),[[t.Jo,n.negocio.contraseña]])]),(0,i.Lk)("div",$e,"Tu link será puestito.online/"+(0,L.v_)(n.negocio.usuario),1),We,Je,(0,i.Lk)("div",Qe,[(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"text",id:"nombre","onUpdate:modelValue":a[4]||(a[4]=o=>n.negocio.nombre=o),placeholder:"Nombre del Negocio",required:""},null,512),[[t.Jo,n.negocio.nombre]])]),(0,i.Lk)("div",je,[(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"text",id:"descripcion","onUpdate:modelValue":a[5]||(a[5]=o=>n.negocio.descripcion=o),placeholder:"Descripción (40 caracteres)",maxlength:"40"},null,512),[[t.Jo,n.negocio.descripcion]])]),(0,i.Lk)("div",Oe,[(0,i.bo)((0,i.Lk)("select",{class:"form-select",name:"rubro",id:"rubro","onUpdate:modelValue":a[6]||(a[6]=o=>n.negocio.rubro=o)},Ge,512),[[t.u1,n.negocio.rubro]])]),(0,i.Lk)("div",He,[(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"email",id:"email","onUpdate:modelValue":a[7]||(a[7]=o=>n.negocio.email=o),placeholder:"Email",required:""},null,512),[[t.Jo,n.negocio.email]])]),(0,i.Lk)("div",Ke,[(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"text",id:"direccion","onUpdate:modelValue":a[8]||(a[8]=o=>n.negocio.direccion=o),placeholder:"Dirección (por ej. Libertad 20, Santiago del Estero, Argentina)"},null,512),[[t.Jo,n.negocio.direccion]])]),(0,i.Lk)("div",Ye,[(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"number",id:"telefono","onUpdate:modelValue":a[9]||(a[9]=o=>n.negocio.telefono=o),placeholder:"Teléfono (completo, por ej. 5493855223287)"},null,512),[[t.Jo,n.negocio.telefono]])]),(0,i.Lk)("div",Ze,[(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"text",id:"instagram","onUpdate:modelValue":a[10]||(a[10]=o=>n.negocio.instagram=o),placeholder:"Usuario de Instagram (por ej. puestito.online)"},null,512),[[t.Jo,n.negocio.instagram]])]),(0,i.Lk)("div",or,[(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"text",id:"facebook","onUpdate:modelValue":a[11]||(a[11]=o=>n.negocio.facebook=o),placeholder:"Usuario de Facebook (por ej. puestito.online)"},null,512),[[t.Jo,n.negocio.facebook]])]),(0,i.Lk)("div",ar,[er,(0,i.Lk)("input",{class:"form-control",type:"file",name:"imagen",id:"imagen",accept:"image/jpeg, image/png",onChange:a[12]||(a[12]=o=>l.imagenSeleccionada(o))},null,32)]),(0,i.Lk)("div",rr,[tr,(0,i.Lk)("input",{class:"form-control",type:"file",name:"portada",id:"portada",accept:"image/jpeg, image/png",onChange:a[13]||(a[13]=o=>l.portadaSeleccionada(o))},null,32)]),ir,n.plan?((0,i.uX)(),(0,i.CE)("button",{key:1,disabled:!n.usuarioDisponible,class:"btn btn-menu botones m-auto mt-2 mb-2",type:"submit"}," Ir a Pagar ",8,lr)):((0,i.uX)(),(0,i.CE)("button",{key:0,disabled:!n.usuarioDisponible,class:"btn btn-menu botones m-auto mt-2 mb-2",type:"submit"}," Registrar ",8,nr))])],32)]))])),(0,i.bo)((0,i.Lk)("div",cr,[(0,i.Lk)("div",dr,[(0,i.Lk)("div",ur,[(0,i.Lk)("div",pr,[(0,i.Lk)("div",mr,[gr,(0,i.Lk)("button",{type:"button",class:"btn-close",onClick:a[16]||(a[16]=(...o)=>l.cerrarCrop&&l.cerrarCrop(...o)),"aria-label":"Close"})]),(0,i.Lk)("div",br,[(0,i.bo)((0,i.Lk)("div",kr,hr,512),[[t.aG,n.cargandoCropper]]),(0,i.Lk)("img",fr,null,512)]),(0,i.Lk)("div",Lr,[(0,i.Lk)("button",{type:"button",class:"btn",onClick:a[17]||(a[17]=(...o)=>l.cerrarCrop&&l.cerrarCrop(...o))},"Cerrar"),(0,i.Lk)("button",{class:"btn btn-menu",onClick:a[18]||(a[18]=(...o)=>l.guardarImagenRecortada&&l.guardarImagenRecortada(...o))},"Recortar")])])])])],512),[[t.aG,n.modalCropImage]]),(0,i.bo)((0,i.Lk)("div",Cr,[(0,i.Lk)("div",yr,[(0,i.Lk)("div",xr,[(0,i.Lk)("div",wr,[(0,i.Lk)("div",Pr,[Er,(0,i.Lk)("button",{type:"button",class:"btn-close",onClick:a[19]||(a[19]=(...o)=>l.cerrarCropPortada&&l.cerrarCropPortada(...o)),"aria-label":"Close"})]),(0,i.Lk)("div",Mr,[(0,i.bo)((0,i.Lk)("div",_r,Sr,512),[[t.aG,n.cargandoCropperPortada]]),(0,i.Lk)("img",Ar,null,512)]),(0,i.Lk)("div",Tr,[(0,i.Lk)("button",{type:"button",class:"btn",onClick:a[20]||(a[20]=(...o)=>l.cerrarCropPortada&&l.cerrarCropPortada(...o))},"Cerrar"),(0,i.Lk)("button",{class:"btn btn-menu",onClick:a[21]||(a[21]=(...o)=>l.guardarPortadaRecortada&&l.guardarPortadaRecortada(...o))},"Recortar")])])])])],512),[[t.aG,n.modalCropPortada]])])}const qr=o=>((0,i.Qi)("data-v-e20a7162"),o=o(),(0,i.jt)(),o),Xr={class:"navbar navbar-dark bg-dark"},Vr=qr((()=>(0,i.Lk)("img",{src:"/favicon.ico",width:"30",height:"30",class:"d-inline-block align-top",alt:""},null,-1)));function Ur(o,a,e,r,t,n){const l=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("nav",Xr,[(0,i.bF)(l,{class:"navbar-brand",to:"/"},{default:(0,i.k6)((()=>[Vr,(0,i.eW)(" Puestito Online ")])),_:1}),t.usuario?((0,i.uX)(),(0,i.Wv)(l,{key:0,to:"/u/home"},{default:(0,i.k6)((()=>[(0,i.eW)("Mi Negocio")])),_:1})):((0,i.uX)(),(0,i.Wv)(l,{key:1,to:"/u/login"},{default:(0,i.k6)((()=>[(0,i.eW)("Login")])),_:1}))])}var Fr={data(){return{usuario:""}},mounted(){this.obtenerUsuario()},methods:{obtenerUsuario(){this.usuario=localStorage.getItem("usuario")}}};const Rr=(0,m.A)(Fr,[["render",Ur],["__scopeId","data-v-e20a7162"]]);var Dr=Rr,zr=e(3534),$r={components:{NavbarAdminComponent:Ko,NavbarPublicoComponent:Dr},data(){return{cargandoRegistro:!1,cargandoCropper:!0,cargandoCropperPortada:!0,modalCropImage:!1,modalCropPortada:!1,cropper:null,cropperPortada:null,imageToCrop:"",usuarioDisponible:!0,cargandoPago:!1,esperandoPago:!0,plan:null,ref:null,usuario:"",negocio:{usuario:"","contraseña":"",nombre:"",fechaVence:"",email:"",imagen:"",portada:"",direccion:"",telefono:"",descripcion:"",instagram:"",facebook:"",rubro:"Elegí tu rubro"}}},mounted(){this.obtenerPlan(),this.checkAuthentication()},methods:{restrictInput(o){const a=o.target.value,e=/[\s!@#$%^&*()_+=[\]{};':"\\|,<>?`´¨~¡/°¬¿]/g;e.test(a)&&(this.negocio.usuario=this.negocio.usuario.substring(0,this.negocio.usuario.length-1))},checkAuthentication(){const o=!!localStorage.getItem("token");o&&this.$router.push("/u/home")},portadaSeleccionada(o){try{const a=o.target.files[0];if(a){const o=new FileReader;o.onload=async o=>{this.imageToCrop=o.target.result,this.modalCropPortada=!0,window.scrollTo({top:0,behavior:"smooth"});let a=this.$refs.cropperPortada;a.src=this.imageToCrop,this.$nextTick((()=>{const o=document.querySelector("cropper-canvas");o&&o.parentNode.removeChild(o),this.cropperPortada=new zr.Ay(a,{template:"<cropper-canvas background style='height:50vh;'>\n                                    <cropper-image alt='Lol' rotatable=false>asd</cropper-image>\n                                        <cropper-shade hidden></cropper-shade>\n                                        <cropper-handle  action='move' plain></cropper-handle>\n                                        <cropper-selection initial-coverage='0.5' aspect-ratio='0.75' movable resizable zoomable>\n                                            <cropper-grid role='grid' covered></cropper-grid>\n                                            <cropper-crosshair centered></cropper-crosshair>\n                                            <cropper-handle action='move'\n                                                theme-color='rgba(255, 255, 255, 0.35)'></cropper-handle>\n                                            <cropper-handle action='ne-resize'></cropper-handle>\n                                            <cropper-handle action='nw-resize'></cropper-handle>\n                                            <cropper-handle action='se-resize'></cropper-handle>\n                                            <cropper-handle action='sw-resize'></cropper-handle>\n                                        </cropper-selection>\n                                    </cropper-canvas >"})}))},o.readAsDataURL(a)}}catch(a){console.log(a)}finally{this.cargandoCropperPortada=!1}},async guardarPortadaRecortada(){try{const o=await this.cropperPortada.getCropperSelection().$toCanvas();this.negocioModificar.portada=o.toDataURL()}catch(o){console.error("Error al guardar la imagen recortada:",o)}finally{this.modalCropPortada=!1}},imagenSeleccionada(o){try{const a=o.target.files[0];if(a){const o=new FileReader;o.onload=async o=>{this.imageToCrop=o.target.result,this.modalCropImage=!0,window.scrollTo({top:0,behavior:"smooth"});let a=this.$refs.cropperImg;a.src=this.imageToCrop,this.$nextTick((()=>{const o=document.querySelector("cropper-canvas");o&&o.parentNode.removeChild(o),this.cropper=new zr.Ay(a,{template:"<cropper-canvas background style='height:50vh;'>\n                                    <cropper-image alt='Lol' rotatable=false>asd</cropper-image>\n                                        <cropper-shade hidden></cropper-shade>\n                                        <cropper-handle  action='move' plain></cropper-handle>\n                                        <cropper-selection initial-coverage='0.5' aspect-ratio='1' movable resizable zoomable>\n                                            <cropper-grid role='grid' covered></cropper-grid>\n                                            <cropper-crosshair centered></cropper-crosshair>\n                                            <cropper-handle action='move'\n                                                theme-color='rgba(255, 255, 255, 0.35)'></cropper-handle>\n                                            <cropper-handle action='ne-resize'></cropper-handle>\n                                            <cropper-handle action='nw-resize'></cropper-handle>\n                                            <cropper-handle action='se-resize'></cropper-handle>\n                                            <cropper-handle action='sw-resize'></cropper-handle>\n                                        </cropper-selection>\n                                    </cropper-canvas >"})}))},o.readAsDataURL(a)}}catch(a){console.log(a)}finally{this.cargandoCropper=!1}},cerrarCrop(){this.modalCropImage=!1},cerrarCropPortada(){this.modalCropPortada=!1},async guardarImagenRecortada(){try{const o=await this.cropper.getCropperSelection().$toCanvas();this.negocio.imagen=o.toDataURL()}catch(o){console.error("Error al guardar la imagen recortada:",o)}finally{this.modalCropImage=!1}},async verificarDisponibilidad(){try{const o=await r.A.post("/verificar-usuario",{usuario:this.negocio.usuario});this.usuarioDisponible=o.data,this.usuarioDisponible||we().fire({icon:"error",text:"Ese usuario ya existe. Por favor elegí otro."})}catch(o){console.error(o)}},verificarRubro(){return"Elegí tu rubro"!=this.negocio.rubro||(we().fire({icon:"error",text:"Por favor selecciona un rubro."}),!1)},async obtenerPlan(){this.plan=localStorage.getItem("plan"),this.usuario=localStorage.getItem("usuario")},async registrarNegocio(){this.cargandoRegistro=!0,this.plan?(this.cargandoPago=!0,this.usuario?this.mejorarPlan():this.verificarRubro()&&(this.verificarDisponibilidad(),this.usuarioDisponible&&(this.usuario=this.negocio.usuario,this.contratarPlan()))):this.verificarRubro()&&(this.verificarDisponibilidad(),this.usuarioDisponible&&(this.usuario=this.negocio.usuario,this.registrarGratis()))},async verificarPago(){let o;while(this.esperandoPago){await new Promise((o=>setTimeout(o,5e3)));const a=await r.A.post("/facturar/verificarPago",{ref:this.ref});if(o=a.data,"approved"===o)break}return o},async mejorarPlan(){const o=await r.A.post("/facturar/crearOrden",{plan:this.plan,usuario:this.usuario});try{window.open(await o.data.response.init_point,"_blank"),this.ref=JSON.parse(o.data.response.external_reference);const a=await this.verificarPago();"approved"===a?(this.registrarMejora(),this.cargandoPago=!1):(this.cargandoPago=!1,we().fire({icon:"error",text:"No se pudo verificar el pago."}))}catch(a){console.log(a)}},async contratarPlan(){try{const a=await r.A.post("/facturar/crearOrden",{plan:this.plan,usuario:this.usuario});try{let o=new Date;const e=o.getMonth();o.setMonth(Number(e)+Number(this.plan)),this.negocio.fechaVence=o.toISOString().slice(0,19).replace("T"," "),window.open(await a.data.response.init_point,"_blank"),this.ref=JSON.parse(a.data.response.external_reference);const r=await this.verificarPago();"approved"===r?(this.registrar(),this.cargandoPago=!1):(this.cargandoPago=!1,we().fire({icon:"error",text:"No se pudo verificar el pago."}))}catch(o){console.log(o)}}catch(o){console.log(o)}},async registrarMejora(){let o=new Date;const a=o.getMonth();o.setMonth(Number(a)+Number(this.plan));const e=o.getFullYear();o=o.toISOString().slice(0,19).replace("T"," ");try{r.A.put("/facturar/acreditar",{usuario:this.usuario,fecha:o}),this.cargandoPago=!1,localStorage.setItem("año",e),np.push("/u/login");const a=we().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:5e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",we().stopTimer),o.addEventListener("mouseleave",we().resumeTimer)}});a.fire({icon:"success",title:"Pago exitoso."})}catch(t){console.log(t)}},async registrarGratis(){let o=new Date;o.setMonth(o.getMonth()+1),this.negocio.fechaVence=o.toISOString().slice(0,19).replace("T"," "),this.registrar()},async registrar(){await r.A.post("/register",this.negocio).then((()=>{np.push("/u/login");const o=we().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",we().stopTimer),o.addEventListener("mouseleave",we().resumeTimer)}});o.fire({icon:"success",title:"Registro exitoso."})})).catch((o=>{we().fire({icon:"error",text:o.response.data.message}),console.error("Error al registrar usuario:",o)})).finally((()=>{this.cargandoRegistro=!1}))}}};const Wr=(0,m.A)($r,[["render",Nr],["__scopeId","data-v-4245b03b"]]);var Jr=Wr;const Qr=o=>((0,i.Qi)("data-v-28bf6fc0"),o=o(),(0,i.jt)(),o),jr={key:0,class:"pantalla-carga text-center"},Or=Qr((()=>(0,i.Lk)("div",{class:"logo-carga"},[(0,i.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:""}),(0,i.Lk)("div",{class:"texto-carga"}," Cargando negocios ")],-1))),Br=[Or],Gr={class:"container mt-4 mb-2"},Hr=Qr((()=>(0,i.Lk)("h1",null,"Negocios",-1))),Kr={class:"izquierda ancho-busqueda"},Yr={key:0},Zr=["src"],ot={class:"item-texto-block m-2"},at={key:0,class:"item-descripcion"},et=Qr((()=>(0,i.Lk)("b",null,"Nombre de usuario:",-1))),rt={class:"item-descripcion"},tt=Qr((()=>(0,i.Lk)("b",null,"Nombre del negocio:",-1))),it={key:1,class:"item-descripcion"},nt=Qr((()=>(0,i.Lk)("b",null,"Descripción:",-1))),lt={key:2,class:"item-descripcion"},st=Qr((()=>(0,i.Lk)("b",null,"Fecha de Vencimiento:",-1))),ct=["onClick"],dt=["onClick"],ut={class:"item-texto-block-end"},pt=["href"],mt=Qr((()=>(0,i.Lk)("img",{width:"40",src:"/recursos/instagram.png"},null,-1))),gt=[mt],bt={key:1},kt=["href"],vt=Qr((()=>(0,i.Lk)("img",{width:"36",src:"/recursos/facebook.png"},null,-1))),ht=[vt],ft={key:3},Lt={class:"item-btn"},Ct=Qr((()=>(0,i.Lk)("img",{src:"/favicon.ico",width:"30",alt:""},null,-1))),yt={class:"modal fade",id:"modificarProducto",tabindex:"-1","aria-labelledby":"modificarProductoLabel","aria-hidden":"true",ref:"modalModificar"},xt={class:"modal-dialog modal-dialog-centered"},wt={class:"modal-content"},Pt=Qr((()=>(0,i.Lk)("div",{class:"modal-header"},[(0,i.Lk)("h1",{class:"modal-title fs-5",id:"modificarProductoLabel"},"Modificar Datos"),(0,i.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Et={class:"modal-body"},Mt={class:"row g-3 div-forms border"},_t=Qr((()=>(0,i.Lk)("h4",{class:"titulo-div-forms mb-2"},"Información del Usuario",-1))),It=Qr((()=>(0,i.Lk)("h4",{class:"titulo-div-forms mb-2"},"Información del Negocio",-1))),St=Qr((()=>(0,i.Lk)("label",{class:"form-label mr-2",for:"imagen"},"Imagen (JPG/PNG)",-1))),At=Qr((()=>(0,i.Lk)("div",{class:"text-end"},[(0,i.Lk)("button",{class:"btn btn-menu botones mt-3",type:"submit","aria-label":"Close"},"Modificar")],-1)));function Tt(o,a,e,r,n,l){const s=(0,i.g2)("NavbarAdminComponent"),c=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.bF)(s),n.cargando?((0,i.uX)(),(0,i.CE)("div",jr,Br)):(0,i.Q3)("",!0),(0,i.Lk)("div",Gr,[Hr,(0,i.Lk)("div",Kr,[(0,i.bo)((0,i.Lk)("input",{class:"form-control barra-busqueda","onUpdate:modelValue":a[0]||(a[0]=o=>n.busqueda=o),type:"text",name:"busqueda",id:"",placeholder:"Buscar",title:"Ingrese una palabra clave..."},null,512),[[t.Jo,n.busqueda]])]),(0,i.Lk)("ul",null,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(l.negociosFiltrados,((o,a)=>((0,i.uX)(),(0,i.CE)("li",{class:"item-container mt-2",key:a},[o.imagen?((0,i.uX)(),(0,i.CE)("div",Yr,[(0,i.Lk)("img",{class:"imagen",src:o.imagen,alt:" "},null,8,Zr)])):(0,i.Q3)("",!0),(0,i.Lk)("div",ot,[o.usuario?((0,i.uX)(),(0,i.CE)("div",at,[et,(0,i.eW)(' "'+(0,L.v_)(o.usuario)+'" ',1)])):(0,i.Q3)("",!0),(0,i.Lk)("div",rt,[tt,(0,i.eW)(" "+(0,L.v_)(o.nombre),1)]),o.descripcion?((0,i.uX)(),(0,i.CE)("div",it,[nt,(0,i.eW)(' "'+(0,L.v_)(o.descripcion)+'" ',1)])):(0,i.Q3)("",!0),o.fechaVence?((0,i.uX)(),(0,i.CE)("div",lt,[st,(0,i.eW)(' "'+(0,L.v_)(l.formatear(o.fechaVence))+'" ',1)])):(0,i.Q3)("",!0),(0,i.Lk)("button",{class:"btn btn-menu derecha mt-2 mb-2",title:"Modificar","data-bs-toggle":"modal","data-bs-target":"#modificarProducto",onClick:a=>l.modificarNegocio(o)},"Modificar",8,ct),(0,i.Lk)("button",{class:"btn btn-menu-danger derecha m-2",onClick:a=>l.eliminarNegocio(o.usuario)},"Eliminar",8,dt)]),(0,i.Lk)("div",ut,[o.instagram?((0,i.uX)(),(0,i.CE)("a",{key:0,class:"m-2",href:"https://instagram.com/"+o.instagram,target:"blank"},gt,8,pt)):((0,i.uX)(),(0,i.CE)("div",bt,"Sin Instagram")),o.facebook?((0,i.uX)(),(0,i.CE)("a",{key:2,class:"m-2",href:"https://facebook.com/"+o.facebook,target:"blank"},ht,8,kt)):((0,i.uX)(),(0,i.CE)("div",ft,"Sin Facebook"))]),(0,i.Lk)("div",Lt,[(0,i.bF)(c,{class:"item-texto-block-end",to:"/"+o.usuario},{default:(0,i.k6)((()=>[Ct])),_:2},1032,["to"])])])))),128))])]),(0,i.Lk)("div",yt,[(0,i.Lk)("div",xt,[(0,i.Lk)("div",wt,[Pt,(0,i.Lk)("div",Et,[(0,i.Lk)("form",{onSubmit:a[12]||(a[12]=(0,t.D$)((o=>l.modificarPerfil(n.negocioModificar)),["prevent"]))},[(0,i.Lk)("div",Mt,[_t,(0,i.Lk)("div",null,[(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"text",id:"nombre","onUpdate:modelValue":a[1]||(a[1]=o=>n.negocioModificar.usuario=o),placeholder:"Nombre de Usuario",disabled:""},null,512),[[t.Jo,n.negocioModificar.usuario]])]),(0,i.Lk)("div",null,[(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"password",id:"nombre","onUpdate:modelValue":a[2]||(a[2]=o=>n.negocioModificar.contraseña=o),placeholder:"Contraseña"},null,512),[[t.Jo,n.negocioModificar.contraseña]])]),It,(0,i.Lk)("div",null,[(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"text",id:"nombre","onUpdate:modelValue":a[3]||(a[3]=o=>n.negocioModificar.nombre=o),placeholder:"Nombre del Negocio",required:""},null,512),[[t.Jo,n.negocioModificar.nombre]])]),(0,i.Lk)("div",null,[(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"email",id:"correo","onUpdate:modelValue":a[4]||(a[4]=o=>n.negocioModificar.correo=o),placeholder:"Correo"},null,512),[[t.Jo,n.negocioModificar.correo]])]),(0,i.Lk)("div",null,[(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"number",id:"telefono","onUpdate:modelValue":a[5]||(a[5]=o=>n.negocioModificar.telefono=o),placeholder:"Teléfono"},null,512),[[t.Jo,n.negocioModificar.telefono]])]),(0,i.Lk)("div",null,[(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"text",id:"direccion","onUpdate:modelValue":a[6]||(a[6]=o=>n.negocioModificar.direccion=o),placeholder:"Dirección",required:""},null,512),[[t.Jo,n.negocioModificar.direccion]])]),(0,i.Lk)("div",null,[(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"text",id:"descripcion","onUpdate:modelValue":a[7]||(a[7]=o=>n.negocioModificar.descripcion=o),placeholder:"Descripción"},null,512),[[t.Jo,n.negocioModificar.descripcion]])]),(0,i.Lk)("div",null,[(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"date",id:"fechaVence","onUpdate:modelValue":a[8]||(a[8]=o=>n.negocioModificar.fechaVence=o),placeholder:"Fecha de Vencimiento"},null,512),[[t.Jo,n.negocioModificar.fechaVence]])]),(0,i.Lk)("div",null,[(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"text",id:"instagram","onUpdate:modelValue":a[9]||(a[9]=o=>n.negocioModificar.instagram=o),placeholder:"Instagram"},null,512),[[t.Jo,n.negocioModificar.instagram]])]),(0,i.Lk)("div",null,[(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"text",id:"facebook","onUpdate:modelValue":a[10]||(a[10]=o=>n.negocioModificar.facebook=o),placeholder:"Facebook"},null,512),[[t.Jo,n.negocioModificar.facebook]])]),(0,i.Lk)("div",null,[St,(0,i.Lk)("input",{class:"form-control",type:"file",name:"imagen",id:"imagen",accept:"image/jpeg, image/png",onChange:a[11]||(a[11]=(...a)=>o.imagenSeleccionada&&o.imagenSeleccionada(...a))},null,32)])]),At],32)])])])],512)])}var Nt=e(5768),qt={components:{NavbarAdminComponent:Ko},data(){return{cargando:!0,negocios:[],busqueda:"",negocioModificar:{usuario:"","contraseña":"",nombre:"",descripcion:"",correo:"",direccion:"",telefono:"",instagram:"",facebook:"",imagen:"",fechaVence:""}}},mounted(){this.fetchNegocios()},methods:{eliminarNegocio(o){we().fire({icon:"info",title:"<strong>¿Estas segur@?</strong>",html:"",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonText:"No, cancelar",confirmButtonText:"Sí, eliminar!"}).then((a=>{a.isConfirmed&&r.A.delete("/eliminarNegocio",{data:{usuario:o}}).then((()=>{const o=we().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:1e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",we().stopTimer),o.addEventListener("mouseleave",we().resumeTimer)}});o.fire({icon:"success",title:"Negocio eliminado."}),setTimeout((function(){location.reload()}),1e3)})).catch((o=>{console.log("error"),console.error("Error al eliminar:",o)}))}))},modificarPerfil(o){o.fechaVence=new Date(o.fechaVence).toISOString().slice(0,19).replace("T"," "),r.A.put("/modificarPerfilAdmin",{negocio:o}).then((()=>{const o=we().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:1e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",we().stopTimer),o.addEventListener("mouseleave",we().resumeTimer)}});o.fire({icon:"success",title:"Datos modificados."}),setTimeout((function(){location.reload()}),1e3)})).catch((o=>{console.log("error"),console.error("Error al actualizar la información en la base de datos:",o)}))},modificarNegocio(o){this.negocioModificar.usuario=o.usuario,this.negocioModificar.contraseña=o.contraseña,this.negocioModificar.nombre=o.nombre,this.negocioModificar.descripcion=o.descripcion,this.negocioModificar.correo=o.correo,this.negocioModificar.direccion=o.direccion,this.negocioModificar.telefono=o.telefono,this.negocioModificar.instagram=o.instagram,this.negocioModificar.facebook=o.facebook,this.negocioModificar.imagen=o.imagen,this.negocioModificar.fechaVence=(0,Nt.GP)(new Date(o.fechaVence),"yyyy-MM-dd"),console.log(this.negocioModificar)},formatear(o){return(0,Nt.GP)(new Date(o),"dd/MM/yyyy")},async fetchNegocios(){try{const o=await r.A.get("/listarNegocios");this.negocios=o.data}catch(o){console.error("Error al obtener los datos de los negocios:",o)}finally{this.cargando=!1}}},computed:{negociosFiltrados(){return this.negocios.filter((o=>{const a=o.nombre||"",e=o.descripcion||"";return a.toLowerCase().includes(this.busqueda.toLowerCase())||e.toLowerCase().includes(this.busqueda.toLowerCase())}))}}};const Xt=(0,m.A)(qt,[["render",Tt],["__scopeId","data-v-28bf6fc0"]]);var Vt=Xt;const Ut=o=>((0,i.Qi)("data-v-d1236a74"),o=o(),(0,i.jt)(),o),Ft={class:"container mt-4 mb-2"},Rt=Ut((()=>(0,i.Lk)("h1",{class:"text-center"},"Cargar Producto",-1))),Dt={class:"row g-3 div-forms mt-2"},zt=Ut((()=>(0,i.Lk)("h4",{class:"titulo-div-forms mb-2"},"Información del Producto",-1))),$t={class:"col-md-6"},Wt={class:"col-md-12 mt-3"},Jt={class:"col-md-6"},Qt=Ut((()=>(0,i.Lk)("option",{selected:"",disabled:""},"Categoría",-1))),jt=["value"],Ot={class:"col-md-6 izq"},Bt={class:"col-md-6"},Gt={class:"col-md-6"},Ht={class:"col-md-6"},Kt=Ut((()=>(0,i.Lk)("label",{class:"form-label mr-2",for:"imagen"},"Imagen (JPG/PNG)",-1))),Yt=["disabled"],Zt={class:"modalCategoriaContainer text-center"},oi={class:"modalCategoria"},ai={class:"modal-dialog modal-dialog-centered"},ei={class:"modal-content"},ri={class:"modal-header pl-2"},ti=Ut((()=>(0,i.Lk)("h1",{class:"modal-title fs-5",id:"agregarCategoriaLabel"},"Recortar Imagen",-1))),ii={class:"modal-body mt-2"},ni={class:"pantalla-cargas text-center"},li=Ut((()=>(0,i.Lk)("div",{class:"logo-carga"},[(0,i.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:""}),(0,i.Lk)("div",{class:"texto-carga"}," Cargando imagen ")],-1))),si=[li],ci={ref:"cropperImg",alt:"Croppear"},di={class:"modal-footer mt-2"},ui={key:0,class:"modalCategoriaContainer"},pi={class:"modalCategoria"},mi={class:"modal-dialog modal-dialog-centered"},gi={class:"modal-content"},bi={class:"modal-header pl-2"},ki=Ut((()=>(0,i.Lk)("h1",{class:"modal-title fs-5",id:"agregarCategoriaLabel"},"Nueva Categoría",-1))),vi={class:"modal-body mt-2"},hi={class:"modal-footer mt-2"},fi=["disabled"],Li={class:"modal fade",id:"importar",tabindex:"-1","aria-labelledby":"importarLabel","aria-hidden":"true"},Ci={class:"modal-dialog modal-dialog-centered"},yi={class:"modal-content"},xi=Ut((()=>(0,i.Lk)("div",{class:"modal-header"},[(0,i.Lk)("h1",{class:"modal-title fs-5",id:"importarLabel"},"Importar desde Excel"),(0,i.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),wi={class:"modal-body text-center"},Pi=Ut((()=>(0,i.Lk)("p",{class:"text-center"},[(0,i.eW)("Asegurate de que en tu planilla de Excel existan las columnas con encabezados "),(0,i.Lk)("strong",null,'"Producto"'),(0,i.eW)(", en donde se encontrará el nombre del producto, y "),(0,i.Lk)("strong",null,'"Precio"'),(0,i.eW)(", en donde se encontrará el precio del producto. "),(0,i.Lk)("u",null,"(Se ignorará el resto de columnas)"),(0,i.eW)(". Más adelante podrás modificar la información de los mismos en la pestaña "),(0,i.Lk)("strong",null,'"Listar Productos"'),(0,i.eW)(". ")],-1))),Ei=Ut((()=>(0,i.Lk)("img",{class:"m-auto",src:"/recursos/ejemplo-xlsx.png",width:"100%",alt:""},null,-1))),Mi=Ut((()=>(0,i.Lk)("div",{class:"modal-footer"},[(0,i.Lk)("button",{type:"button",class:"btn","data-bs-dismiss":"modal"},"Cerrar"),(0,i.Lk)("button",{class:"btn btn-menu",type:"submit"},"Importar")],-1))),_i=Ut((()=>(0,i.Lk)("div",{class:"text-end"},[(0,i.Lk)("i",null," o importar listado desde Excel ->"),(0,i.Lk)("button",{type:"button",class:"btn btn-importar","data-bs-toggle":"modal","data-bs-target":"#importar"},[(0,i.Lk)("img",{src:"/recursos/xlsx.png",width:"50",alt:"",title:"Importar desde Excel"})])],-1)));function Ii(o,a,e,r,n,l){const s=(0,i.g2)("NavbarComponent");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.bF)(s),(0,i.Lk)("div",Ft,[Rt,(0,i.Lk)("form",{onSubmit:a[7]||(a[7]=(0,t.D$)((o=>l.nuevoProducto(this.producto)),["prevent"])),enctype:"multipart/form-data"},[(0,i.Lk)("div",Dt,[zt,(0,i.Lk)("div",$t,[(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"text",id:"nombre","onUpdate:modelValue":a[0]||(a[0]=o=>n.producto.nombre=o),placeholder:"Nombre del Producto",required:""},null,512),[[t.Jo,n.producto.nombre]])]),(0,i.Lk)("div",Wt,[(0,i.bo)((0,i.Lk)("textarea",{class:"form-control",type:"text",id:"descripcion","onUpdate:modelValue":a[1]||(a[1]=o=>n.producto.descripcion=o),placeholder:"Descripción"},null,512),[[t.Jo,n.producto.descripcion]])]),(0,i.Lk)("div",Jt,[(0,i.bo)((0,i.Lk)("select",{class:"form-select","onUpdate:modelValue":a[2]||(a[2]=o=>n.producto.categoria=o),id:"",required:""},[Qt,((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.categorias,(o=>((0,i.uX)(),(0,i.CE)("option",{key:o.id,value:o.categoria_nombre},(0,L.v_)(o.categoria_nombre),9,jt)))),128))],512),[[t.u1,n.producto.categoria]])]),(0,i.Lk)("div",Ot,[(0,i.Lk)("button",{type:"button",class:"btn btn-agregar",onClick:a[3]||(a[3]=(...o)=>l.agregarCategoriaModal&&l.agregarCategoriaModal(...o))}," Agregar Categoría ")]),(0,i.Lk)("div",Bt,[(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"number",id:"precio","onUpdate:modelValue":a[4]||(a[4]=o=>n.producto.precio=o),placeholder:"Precio (sin $)"},null,512),[[t.Jo,n.producto.precio]])]),(0,i.Lk)("div",Gt,[(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"number",id:"stock","onUpdate:modelValue":a[5]||(a[5]=o=>n.producto.stock=o),placeholder:"Stock (opcional)"},null,512),[[t.Jo,n.producto.stock]])]),(0,i.Lk)("div",Ht,[Kt,(0,i.Lk)("input",{class:"form-control mb-3",type:"file",name:"imagen",id:"imagen",accept:"image/jpeg, image/png",onChange:a[6]||(a[6]=o=>l.imagenSeleccionada(o))},null,32)])]),(0,i.Lk)("div",null,[(0,i.Lk)("button",{class:"btn btn-menu botones mt-3",disabled:!n.botonAgregarProductoEnabled,type:"submit"},"Agregar",8,Yt)])],32),(0,i.bo)((0,i.Lk)("div",Zt,[(0,i.Lk)("div",oi,[(0,i.Lk)("div",ai,[(0,i.Lk)("div",ei,[(0,i.Lk)("div",ri,[ti,(0,i.Lk)("button",{type:"button",class:"btn-close",onClick:a[8]||(a[8]=(...o)=>l.cerrarCrop&&l.cerrarCrop(...o)),"aria-label":"Close"})]),(0,i.Lk)("div",ii,[(0,i.bo)((0,i.Lk)("div",ni,si,512),[[t.aG,n.cargandoCropper]]),(0,i.Lk)("img",ci,null,512)]),(0,i.Lk)("div",di,[(0,i.Lk)("button",{type:"button",class:"btn",onClick:a[9]||(a[9]=(...o)=>l.cerrarCrop&&l.cerrarCrop(...o))},"Cerrar"),(0,i.Lk)("button",{class:"btn btn-menu",onClick:a[10]||(a[10]=(...o)=>l.guardarImagenRecortada&&l.guardarImagenRecortada(...o))},"Recortar")])])])])],512),[[t.aG,n.modalCropImage]]),n.agregarCategoriaModalAbierto?((0,i.uX)(),(0,i.CE)("div",ui,[(0,i.Lk)("div",pi,[(0,i.Lk)("div",mi,[(0,i.Lk)("div",gi,[(0,i.Lk)("div",bi,[ki,(0,i.Lk)("button",{type:"button",class:"btn-close",onClick:a[11]||(a[11]=(...o)=>l.cerrarCategoriaModal&&l.cerrarCategoriaModal(...o)),"aria-label":"Close"})]),(0,i.Lk)("div",vi,[(0,i.Lk)("form",{onSubmit:a[14]||(a[14]=(0,t.D$)(((...o)=>l.agregarCategoria&&l.agregarCategoria(...o)),["prevent"]))},[(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"text",id:"nombre","onUpdate:modelValue":a[12]||(a[12]=o=>n.categoria_nombre=o),placeholder:"Nombre de la Categoría",required:""},null,512),[[t.Jo,n.categoria_nombre]]),(0,i.Lk)("div",hi,[(0,i.Lk)("button",{type:"button",class:"btn",onClick:a[13]||(a[13]=(...o)=>l.cerrarCategoriaModal&&l.cerrarCategoriaModal(...o))},"Cerrar"),(0,i.Lk)("button",{class:"btn btn-agregar",type:"submit",disabled:!n.botonAgregarCategoriaEnabled},"Agregar",8,fi)])],32)])])])])])):(0,i.Q3)("",!0),(0,i.Lk)("div",Li,[(0,i.Lk)("div",Ci,[(0,i.Lk)("div",yi,[xi,(0,i.Lk)("form",{onSubmit:a[16]||(a[16]=(0,t.D$)(((...o)=>l.importar&&l.importar(...o)),["prevent"]))},[(0,i.Lk)("div",wi,[Pi,Ei,(0,i.Lk)("input",{class:"form-control mt-4",accept:".xlsx, .xls",type:"file",name:"importar",id:"importar",onChange:a[15]||(a[15]=(...o)=>l.cargarImportacion&&l.cargarImportacion(...o)),required:""},null,32)]),Mi],32)])])])]),_i])}e(6573),e(8100),e(7936),e(7467),e(4732),e(9577);var Si=e(3230),Ai={components:{NavbarComponent:So},data(){return{cargandoCropper:!0,cropper:null,imageToCrop:"",modalCropImage:!1,botonAgregarProductoEnabled:!0,botonAgregarCategoriaEnabled:!0,agregarCategoriaModalAbierto:!1,archivo:null,usuario:"",producto:{nombre:"",descripcion:"",categoria:"Categoría",precio:"",imagen:"",stock:"",usuario:""},categoria_nombre:"",categorias:[]}},created(){this.obtenerCategorias(),this.obtenerUsuario()},methods:{cerrarCategoriaModal(){this.agregarCategoriaModalAbierto=!1},agregarCategoriaModal(){window.scrollTo({top:0,behavior:"smooth"}),this.agregarCategoriaModalAbierto=!0},cargarImportacion(o){this.archivo=o.target.files[0]},async importar(){if(!this.archivo)return void console.error("No se ha seleccionado ningún archivo");const o=new FileReader;o.onload=async o=>{try{const a=new Uint8Array(o.target.result),e=Si.LF(a,{type:"array"}),r=e.SheetNames[0],t=e.Sheets[r],i=Si.Wp.sheet_to_json(t);await this.guardarProductos(i)}catch(a){console.error("Error al leer el archivo:",a)}},o.readAsArrayBuffer(this.archivo)},async guardarProductos(o){try{for(const e of o){let o=e["Precio"];try{(o.startsWith("$")||o.startsWith("€"))&&(o=o.replace("$","").replace("€","")),o.includes(",")&&(o=o.replace(",","."))}catch{}const r={nombre:e["Producto"],precio:parseFloat(o),categoria:"Varios",disponibilidad:1,imagen:"",usuario:this.usuario};try{this.nuevoProducto(r)}catch(a){we().fire({icon:"error",text:"No se pudo agregar el producto."})}}}catch(a){we().fire({icon:"error",text:"No se pudo agregar el producto. Verifica la información del Excel."+a})}},obtenerUsuario(){this.producto.usuario=this.usuario=localStorage.getItem("usuario")},obtenerCategorias(){r.A.get(`/categorias?usuario=${localStorage.getItem("usuario")}`).then((o=>{this.categorias=o.data})).catch((o=>{console.error("Error al obtener las categorías:",o)}))},iniciarCropper(){},imagenSeleccionada(o){try{const a=o.target.files[0];if(a){const o=new FileReader;o.onload=async o=>{this.imageToCrop=o.target.result,this.modalCropImage=!0;let a=this.$refs.cropperImg;a.src=this.imageToCrop,this.$nextTick((()=>{const o=document.querySelector("cropper-canvas");o&&o.parentNode.removeChild(o),this.cropper=new zr.Ay(a,{template:"<cropper-canvas background style='height:50vh;'>\n                                    <cropper-image alt='Lol' rotatable=false>asd</cropper-image>\n                                        <cropper-shade hidden></cropper-shade>\n                                        <cropper-handle  action='move' plain></cropper-handle>\n                                        <cropper-selection initial-coverage='0.5' aspect-ratio='1' movable resizable zoomable>\n                                            <cropper-grid role='grid' covered></cropper-grid>\n                                            <cropper-crosshair centered></cropper-crosshair>\n                                            <cropper-handle action='move'\n                                                theme-color='rgba(255, 255, 255, 0.35)'></cropper-handle>\n                                            <cropper-handle action='ne-resize'></cropper-handle>\n                                            <cropper-handle action='nw-resize'></cropper-handle>\n                                            <cropper-handle action='se-resize'></cropper-handle>\n                                            <cropper-handle action='sw-resize'></cropper-handle>\n                                        </cropper-selection>\n                                    </cropper-canvas >"})}))},o.readAsDataURL(a)}}catch(a){console.log(a)}finally{this.cargandoCropper=!1}},cerrarCrop(){this.modalCropImage=!1},async guardarImagenRecortada(){try{const o=await this.cropper.getCropperSelection().$toCanvas();this.producto.imagen=o.toDataURL()}catch(o){console.error("Error al guardar la imagen recortada:",o)}finally{this.modalCropImage=!1}},nuevoProducto(o){"Categoría"==o.categoria?we().fire({icon:"error",text:"Elegí o agregá una categoría."}):(this.botonAgregarProductoEnabled=!1,r.A.post("/nuevoProducto",{producto:o}).then((()=>{const o=we().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",we().stopTimer),o.addEventListener("mouseleave",we().resumeTimer)}});o.fire({icon:"success",title:"Producto agregado."}),setTimeout((function(){location.reload()}),2e3)})).catch((()=>{we().fire({icon:"error",text:"No se pudo agregar el producto."})})))},agregarCategoria(){try{this.botonAgregarCategoriaEnabled=!1,r.A.post("nuevaCategoria",{categoria_nombre:this.categoria_nombre,usuario_nombre:localStorage.getItem("usuario")}).then((()=>{this.obtenerCategorias(),this.producto.categoria=this.categoria_nombre,this.categoria_nombre="";const o=we().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",we().stopTimer),o.addEventListener("mouseleave",we().resumeTimer)}});o.fire({icon:"success",title:"Categoría agregada."}),this.agregarCategoriaModalAbierto=!1})).catch((o=>{we().fire({icon:"error",text:"No se pudo agregar la categoría. "+o.response.data.message})}))}catch(o){console.log(o)}finally{this.botonAgregarCategoriaEnabled=!0}}},mounted(){}};const Ti=(0,m.A)(Ai,[["render",Ii],["__scopeId","data-v-d1236a74"]]);var Ni=Ti;const qi=o=>((0,i.Qi)("data-v-0ce483ac"),o=o(),(0,i.jt)(),o),Xi={key:0,class:"pantalla-carga text-center"},Vi=qi((()=>(0,i.Lk)("div",{class:"logo-carga"},[(0,i.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:""}),(0,i.Lk)("div",{class:"texto-carga"},"Cargando productos")],-1))),Ui=[Vi],Fi={class:"container mt-4 mb-2"},Ri=qi((()=>(0,i.Lk)("h1",{class:"text-center"},"Listar Productos",-1))),Di={class:"flex"},zi={class:"izquierda ancho-busqueda"},$i={class:"ancho mt-2"},Wi=["id"],Ji={key:0},Qi={class:"flex"},ji=["onClick"],Oi={key:0,class:"inline"},Bi={key:1,class:"inline"},Gi={class:"flex-end"},Hi=["onClick"],Ki={class:"p-2"},Yi={key:0,class:"item-imagen"},Zi=["src"],on={class:"item-texto-block"},an={class:"item-texto-block-start"},en={class:"item-nombre"},rn={class:"item-precio"},tn={key:0,class:"item-descripcion"},nn={key:1,class:"item-stock"},ln={class:"item-texto-block-end"},sn={class:"justify-content-center"},cn={class:"form-check form-switch"},dn=["onChange","checked"],un=["onClick"],pn=["onClick"],mn={key:0,class:"text-center mt-3"},gn={class:"modalCategoria"},bn={class:"modal-dialog modal-dialog-centered"},kn={class:"modal-content"},vn={class:"modal-header"},hn=qi((()=>(0,i.Lk)("h1",{class:"modal-title fs-5",id:"modificarProductoLabel"}," Modificar Producto ",-1))),fn=qi((()=>(0,i.Lk)("hr",null,null,-1))),Ln={class:"modal-body"},Cn={class:"row g-3 div-forms"},yn={class:"col-md-6"},xn=qi((()=>(0,i.Lk)("label",{class:"form-label",for:"nombre"},"Nombre",-1))),wn={class:"col-md-6"},Pn=qi((()=>(0,i.Lk)("label",{class:"form-label",for:"descripcion"},"Descripción",-1))),En={class:"col-md-6"},Mn=qi((()=>(0,i.Lk)("label",{class:"form-label",for:"categoria"},"Categoría",-1))),_n=qi((()=>(0,i.Lk)("option",{selected:"",disabled:""},"Categoría",-1))),In=["value"],Sn={class:"col-md-6"},An=qi((()=>(0,i.Lk)("label",{class:"form-label",for:"precio"},"Precio",-1))),Tn={class:"col-md-6"},Nn=qi((()=>(0,i.Lk)("label",{class:"form-label",for:"stock"},"Stock (si no manejás stock de este producto poné -1)",-1))),qn={class:"col-md-6"},Xn=qi((()=>(0,i.Lk)("label",{class:"form-label mr-2",for:"imagen"},"Imagen (JPG/PNG)",-1))),Vn={class:"modal-footer mt-2"},Un=qi((()=>(0,i.Lk)("button",{class:"btn btn-menu",type:"submit"},"Modificar",-1))),Fn={key:1,class:"modalCategoriaContainer"},Rn={class:"modalCategoria"},Dn={class:"modal-dialog modal-dialog-centered"},zn={class:"modal-content"},$n={class:"modal-header pl-2"},Wn=qi((()=>(0,i.Lk)("h1",{class:"modal-title fs-5",id:"agregarCategoriaLabel"},"Nueva Categoría",-1))),Jn={class:"modal-body mt-2"},Qn={class:"modal-footer mt-2"},jn=qi((()=>(0,i.Lk)("button",{class:"btn btn-agregar",type:"submit"},"Agregar",-1))),On={key:2,class:"modalCategoriaContainer"},Bn={class:"modalCategoria"},Gn={class:"modal-dialog modal-dialog-centered"},Hn={class:"modal-content"},Kn={class:"modal-header pl-2"},Yn=qi((()=>(0,i.Lk)("h1",{class:"modal-title fs-5",id:"agregarCategoriaLabel"},"Modificar Categoría",-1))),Zn={class:"modal-body mt-2"},ol={class:"modal-footer mt-2"},al=qi((()=>(0,i.Lk)("button",{class:"btn btn-agregar",type:"submit"},"Modificar",-1))),el={class:"modalCategoriaContainer text-center"},rl={class:"modalCategoria"},tl={class:"modal-dialog modal-dialog-centered"},il={class:"modal-content"},nl={class:"modal-header pl-2"},ll=qi((()=>(0,i.Lk)("h1",{class:"modal-title fs-5",id:"agregarCategoriaLabel"},"Recortar Imagen",-1))),sl={class:"modal-body mt-2"},cl={class:"pantalla-cargas text-center"},dl=qi((()=>(0,i.Lk)("div",{class:"logo-carga"},[(0,i.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:""}),(0,i.Lk)("div",{class:"texto-carga"}," Cargando imagen ")],-1))),ul=[dl],pl={ref:"cropperImg",alt:"Croppear"},ml={class:"modal-footer mt-2"};function gl(o,a,e,r,n,l){const s=(0,i.g2)("NavbarComponent");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.bF)(s),n.cargando?((0,i.uX)(),(0,i.CE)("div",Xi,Ui)):(0,i.Q3)("",!0),(0,i.Lk)("div",Fi,[Ri,(0,i.Lk)("div",Di,[(0,i.Lk)("div",zi,[(0,i.bo)((0,i.Lk)("input",{class:"form-control barra-busqueda","onUpdate:modelValue":a[0]||(a[0]=o=>n.busqueda=o),type:"text",name:"busqueda",id:"",placeholder:"Buscar",title:"Ingrese una palabra clave..."},null,512),[[t.Jo,n.busqueda]])])]),(0,i.Lk)("div",$i,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(l.categoriasOrdenadas,((o,a)=>((0,i.uX)(),(0,i.CE)("div",{class:"mt-2",key:a,id:o},[l.filteredProductos(o)?((0,i.uX)(),(0,i.CE)("div",Ji,[(0,i.Lk)("div",Qi,[(0,i.Lk)("div",{class:(0,L.C4)(["titulo-categoria",{"fondo-oscuro":n.categoriaSeleccionada===o}]),onClick:a=>l.toggleCategoria(o)},[(0,i.eW)((0,L.v_)(o)+" ",1),n.categoriaSeleccionada===o?((0,i.uX)(),(0,i.CE)("div",Oi,"↓")):((0,i.uX)(),(0,i.CE)("div",Bi,"→"))],10,ji),(0,i.Lk)("div",Gi,[(0,i.Lk)("img",{class:"pointer",onClick:a=>l.abrirModificarCategoriaModal(o),width:"41.2",src:"/recursos/edit.png",alt:""},null,8,Hi)])]),(0,i.Lk)("div",{class:(0,L.C4)({"categoria-productos":!0,"categoria-activa":n.categoriaSeleccionada===o})},[(0,i.Lk)("div",Ki,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(l.filteredProductos(o),((o,a)=>((0,i.uX)(),(0,i.CE)("div",{class:"item-container mt-2",key:a},[o.producto_imagen?((0,i.uX)(),(0,i.CE)("div",Yi,[(0,i.Lk)("div",null,[(0,i.Lk)("img",{class:"imagen",src:o.producto_imagen,alt:" "},null,8,Zi)])])):(0,i.Q3)("",!0),(0,i.Lk)("div",on,[(0,i.Lk)("div",an,[(0,i.Lk)("div",en,(0,L.v_)(o.producto_nombre),1),(0,i.Lk)("div",rn," $"+(0,L.v_)(o.producto_precio),1),o.producto_descripcion?((0,i.uX)(),(0,i.CE)("div",tn,' "'+(0,L.v_)(o.producto_descripcion)+'" ',1)):(0,i.Q3)("",!0),-1!==o.producto_stock?((0,i.uX)(),(0,i.CE)("div",nn," Stock: "+(0,L.v_)(o.producto_stock),1)):(0,i.Q3)("",!0)])]),(0,i.Lk)("div",ln,[(0,i.Lk)("div",sn,[(0,i.Lk)("div",cn,[(0,i.Lk)("input",{type:"checkbox",onChange:a=>l.actualizarEstadoProducto(o),class:"form-check-input",name:"",id:"productoDisponible",checked:1===o.producto_disponibilidad},null,40,dn)])]),(0,i.Lk)("img",{class:"pointer",onClick:a=>l.modificar(o),width:"41.2",src:"/recursos/edit.png",alt:""},null,8,un),(0,i.Lk)("img",{class:"pointer",onClick:a=>l.eliminar(o.producto_id),width:"41.2",src:"/recursos/delete.png",alt:""},null,8,pn)])])))),128))])],2)])):(0,i.Q3)("",!0)],8,Wi)))),128)),0===l.productosFiltrados.length?((0,i.uX)(),(0,i.CE)("div",mn," No se encontraron resultados. ")):(0,i.Q3)("",!0)]),n.modificarModalAbierto?((0,i.uX)(),(0,i.CE)("div",{key:0,class:"modalCategoriaContainer",style:(0,L.Tr)({height:n.modalHeight+"px"})},[(0,i.Lk)("div",gn,[(0,i.Lk)("div",bn,[(0,i.Lk)("div",kn,[(0,i.Lk)("div",vn,[hn,(0,i.Lk)("button",{type:"button",class:"btn-close",onClick:a[1]||(a[1]=(...o)=>l.cerrarModificarModal&&l.cerrarModificarModal(...o)),"aria-label":"Close"})]),fn,(0,i.Lk)("div",Ln,[(0,i.Lk)("form",{onSubmit:a[10]||(a[10]=(0,t.D$)((o=>l.modificarProducto(this.productoModificar)),["prevent"]))},[(0,i.Lk)("div",Cn,[(0,i.Lk)("div",yn,[xn,(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"text",id:"nombre","onUpdate:modelValue":a[2]||(a[2]=o=>n.productoModificar.producto_nombre=o),required:""},null,512),[[t.Jo,n.productoModificar.producto_nombre]])]),(0,i.Lk)("div",wn,[Pn,(0,i.bo)((0,i.Lk)("textarea",{class:"form-control",type:"text",id:"descripcion","onUpdate:modelValue":a[3]||(a[3]=o=>n.productoModificar.producto_descripcion=o),placeholder:"Descripción"},null,512),[[t.Jo,n.productoModificar.producto_descripcion]])]),(0,i.Lk)("div",En,[Mn,(0,i.bo)((0,i.Lk)("select",{class:"form-select","onUpdate:modelValue":a[4]||(a[4]=o=>n.productoModificar.producto_categoria=o),id:"",required:""},[_n,((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.categorias,(o=>((0,i.uX)(),(0,i.CE)("option",{key:o.id,value:o.categoria_nombre},(0,L.v_)(o.categoria_nombre),9,In)))),128))],512),[[t.u1,n.productoModificar.producto_categoria]]),(0,i.Lk)("button",{type:"button",class:"btn btn-agregar mt-2",onClick:a[5]||(a[5]=(...o)=>l.agregarCategoriaModal&&l.agregarCategoriaModal(...o))}," Agregar Categoría ")]),(0,i.Lk)("div",Sn,[An,(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"number",id:"precio","onUpdate:modelValue":a[6]||(a[6]=o=>n.productoModificar.producto_precio=o),placeholder:"Precio (sin $)"},null,512),[[t.Jo,n.productoModificar.producto_precio]])]),(0,i.Lk)("div",Tn,[Nn,(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"number",id:"stock","onUpdate:modelValue":a[7]||(a[7]=o=>n.productoModificar.producto_stock=o),placeholder:"Stock"},null,512),[[t.Jo,n.productoModificar.producto_stock]])]),(0,i.Lk)("div",qn,[Xn,(0,i.Lk)("input",{class:"form-control",type:"file",name:"imagen",id:"imagen",accept:"image/jpeg, image/png",onChange:a[8]||(a[8]=(...o)=>l.imagenSeleccionada&&l.imagenSeleccionada(...o))},null,32)])]),(0,i.Lk)("div",Vn,[(0,i.Lk)("button",{type:"button",class:"btn",onClick:a[9]||(a[9]=(...o)=>l.cerrarModificarModal&&l.cerrarModificarModal(...o))},"Cerrar"),Un])],32)])])])])],4)):(0,i.Q3)("",!0),n.agregarCategoriaModalAbierto?((0,i.uX)(),(0,i.CE)("div",Fn,[(0,i.Lk)("div",Rn,[(0,i.Lk)("div",Dn,[(0,i.Lk)("div",zn,[(0,i.Lk)("div",$n,[Wn,(0,i.Lk)("button",{type:"button",class:"btn-close",onClick:a[11]||(a[11]=(...o)=>l.cerrarCategoriaModal&&l.cerrarCategoriaModal(...o)),"aria-label":"Close"})]),(0,i.Lk)("div",Jn,[(0,i.Lk)("form",{onSubmit:a[14]||(a[14]=(0,t.D$)(((...o)=>l.agregarCategoria&&l.agregarCategoria(...o)),["prevent"]))},[(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"text",id:"nombre","onUpdate:modelValue":a[12]||(a[12]=o=>n.categoria_nombre=o),placeholder:"Nombre de la Categoría",required:""},null,512),[[t.Jo,n.categoria_nombre]]),(0,i.Lk)("div",Qn,[(0,i.Lk)("button",{type:"button",class:"btn",onClick:a[13]||(a[13]=(...o)=>l.cerrarCategoriaModal&&l.cerrarCategoriaModal(...o))},"Cerrar"),jn])],32)])])])])])):(0,i.Q3)("",!0),n.modificarCategoriaModalAbierto?((0,i.uX)(),(0,i.CE)("div",On,[(0,i.Lk)("div",Bn,[(0,i.Lk)("div",Gn,[(0,i.Lk)("div",Hn,[(0,i.Lk)("div",Kn,[Yn,(0,i.Lk)("button",{type:"button",class:"btn-close",onClick:a[15]||(a[15]=(...o)=>l.cerrarModificarCategoriaModal&&l.cerrarModificarCategoriaModal(...o)),"aria-label":"Close"})]),(0,i.Lk)("div",Zn,[(0,i.Lk)("form",{onSubmit:a[18]||(a[18]=(0,t.D$)(((...o)=>l.modificarCategoria&&l.modificarCategoria(...o)),["prevent"]))},[(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"text",id:"nombre","onUpdate:modelValue":a[16]||(a[16]=o=>n.categoriaNueva=o),placeholder:"Nombre de la Categoría",required:""},null,512),[[t.Jo,n.categoriaNueva]]),(0,i.Lk)("div",ol,[(0,i.Lk)("button",{type:"button",class:"btn",onClick:a[17]||(a[17]=(...o)=>l.cerrarModificarCategoriaModal&&l.cerrarModificarCategoriaModal(...o))},"Cerrar"),al])],32)])])])])])):(0,i.Q3)("",!0),(0,i.bo)((0,i.Lk)("div",el,[(0,i.Lk)("div",rl,[(0,i.Lk)("div",tl,[(0,i.Lk)("div",il,[(0,i.Lk)("div",nl,[ll,(0,i.Lk)("button",{type:"button",class:"btn-close",onClick:a[19]||(a[19]=(...o)=>l.cerrarCrop&&l.cerrarCrop(...o)),"aria-label":"Close"})]),(0,i.Lk)("div",sl,[(0,i.bo)((0,i.Lk)("div",cl,ul,512),[[t.aG,n.cargandoCropper]]),(0,i.Lk)("img",pl,null,512)]),(0,i.Lk)("div",ml,[(0,i.Lk)("button",{type:"button",class:"btn",onClick:a[20]||(a[20]=(...o)=>l.cerrarCrop&&l.cerrarCrop(...o))},"Cerrar"),(0,i.Lk)("button",{class:"btn btn-menu",onClick:a[21]||(a[21]=(...o)=>l.guardarImagenRecortada&&l.guardarImagenRecortada(...o))},"Recortar")])])])])],512),[[t.aG,n.modalCropImage]])])])}var bl={components:{NavbarComponent:So},data(){return{cargandoCropper:!0,cropper:null,imageToCrop:"",modalCropImage:!1,categoriaSeleccionada:null,cargando:!0,productos:[],productoModificar:"",busqueda:"",usuario:localStorage.getItem("usuario"),producto:{nombre:"",descripcion:"",categoria:"Categoría",precio:"",imagen:"",stock:"",usuario:""},categoria_nombre:"",categoriaVieja:"",categoriaNueva:"",categorias:[],agregarCategoriaModalAbierto:!1,modificarModalAbierto:!1,modificarCategoriaModalAbierto:!1,modalHeight:""}},created(){this.fetchProductos()},computed:{categoriasOrdenadas(){return[...new Set(this.productosFiltrados.map((o=>o.producto_categoria)))].sort()},productosFiltrados(){const o=o=>o.normalize("NFD").replace(/[\u0300-\u036f]/g,"");return this.productos.filter((a=>{const e=a.producto_nombre||"",r=a.producto_descripcion||"",t=a.producto_categoria||"",i=a.producto_precio||"",n=o(this.busqueda.toLowerCase());return o(e.toLowerCase()).includes(n)||o(r.toLowerCase()).includes(n)||o(t.toLowerCase()).includes(n)||o(i.toString().toLowerCase()).includes(n)}))},categoriasConProductosFiltrados(){return[...new Set(this.productosFiltrados.map((o=>o.producto_categoria)))]}},methods:{modificarCategoria(){r.A.put("/modificarCategoria",{usuario:this.usuario,categoriaVieja:this.categoriaVieja,categoriaNueva:this.categoriaNueva}).then((()=>{const o=we().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:1e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",we().stopTimer),o.addEventListener("mouseleave",we().resumeTimer)}});o.fire({icon:"success",title:"Categoría modificada."}),setTimeout((function(){location.reload()}),1e3)})).catch((o=>{we().fire({icon:"error",text:"No se pudo modificar la categoría. "+o.response.data.message})})).finally((()=>{this.modificarCategoriaModalAbierto=!1}))},cerrarModificarModal(){this.modificarModalAbierto=!1},cerrarCategoriaModal(){this.agregarCategoriaModalAbierto=!1},agregarCategoriaModal(){window.scrollTo({top:0,behavior:"smooth"}),this.agregarCategoriaModalAbierto=!0},cerrarModificarCategoriaModal(){this.modificarCategoriaModalAbierto=!1},abrirModificarCategoriaModal(o){window.scrollTo({top:0,behavior:"smooth"}),this.modificarCategoriaModalAbierto=!0,this.categoriaVieja=this.categoriaNueva=o},toggleCategoria(o){this.categoriaSeleccionada===o?this.categoriaSeleccionada=null:this.categoriaSeleccionada=o},filteredProductos(o){return this.productosFiltrados.filter((a=>a.producto_categoria===o))},async fetchCategorias(){r.A.get(`/categorias?usuario=${localStorage.getItem("usuario")}`).then((o=>{this.categorias=o.data})).catch((o=>{console.error("Error al obtener las categorías:",o)}))},modificar(o){this.fetchCategorias(),this.productoModificar=o;const a=document.body.clientHeight;this.modalHeight=a,window.scrollTo({top:0,behavior:"smooth"}),this.modificarModalAbierto=!0},actualizarEstadoProducto(o){o.producto_disponibilidad?o.producto_disponibilidad=0:o.producto_disponibilidad=1,r.A.put("/actualizarDisponibilidad",{productoId:o.producto_id,nuevoEstado:o.producto_disponibilidad}).then((()=>{})).catch((a=>{console.error("Error al actualizar el estado en la base de datos:",a),o.producto_disponibilidad=!o.producto_disponibilidad}))},async fetchProductos(){try{const o=await r.A.get(`/productos?usuario=${this.usuario}`);this.productos=o.data}catch(o){console.error("Error al cargar los productos:",o)}finally{this.cargando=!1}},modificarProducto(o){r.A.put("/modificarProducto",{producto:o}).then((()=>{this.modificarModalAbierto=!1;const o=we().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",we().stopTimer),o.addEventListener("mouseleave",we().resumeTimer)}});o.fire({icon:"success",title:"Producto modificado."})})).catch((o=>{console.error("Error al actualizar el estado en la base de datos:",o)}))},eliminar(o){we().fire({icon:"info",title:"<strong>¿Estas segur@?</strong>",html:"",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonText:"No, cancelar",confirmButtonText:"Sí, eliminar!"}).then((a=>{a.isConfirmed&&r.A.delete("/eliminarProducto",{data:{productoId:o}}).then((()=>{const a=this.productos.findIndex((a=>a.producto_id===o));-1!==a&&this.productos.splice(a,1);const e=we().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",we().stopTimer),o.addEventListener("mouseleave",we().resumeTimer)}});e.fire({icon:"success",title:"Producto eliminado."})})).catch((o=>{console.error("Error al eliminar el producto:",o),we().fire({icon:"error",title:"Error al eliminar",text:o.message})}))}))},agregarCategoria(){r.A.post("nuevaCategoria",{categoria_nombre:this.categoria_nombre,usuario_nombre:localStorage.getItem("usuario")}).then((()=>{this.productoModificar.producto_categoria=this.categoria_nombre,this.categoria_nombre="";const o=we().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",we().stopTimer),o.addEventListener("mouseleave",we().resumeTimer)}});o.fire({icon:"success",title:"Categoría agregada."}),this.agregarCategoriaModalAbierto=!1})).catch((o=>{we().fire({icon:"error",text:"No se pudo agregar la categoría. "+o.response.data.message})}))},imagenSeleccionada(o){try{const a=o.target.files[0];if(a){const o=new FileReader;o.onload=async o=>{this.imageToCrop=o.target.result,this.modalCropImage=!0;let a=this.$refs.cropperImg;a.src=this.imageToCrop,this.$nextTick((()=>{const o=document.querySelector("cropper-canvas");o&&o.parentNode.removeChild(o),this.cropper=new zr.Ay(a,{template:"<cropper-canvas background style='height:50vh;'>\n                                    <cropper-image alt='Lol' rotatable=false>asd</cropper-image>\n                                        <cropper-shade hidden></cropper-shade>\n                                        <cropper-handle  action='move' plain></cropper-handle>\n                                        <cropper-selection initial-coverage='0.5' aspect-ratio='1' movable resizable zoomable>\n                                            <cropper-grid role='grid' covered></cropper-grid>\n                                            <cropper-crosshair centered></cropper-crosshair>\n                                            <cropper-handle action='move'\n                                                theme-color='rgba(255, 255, 255, 0.35)'></cropper-handle>\n                                            <cropper-handle action='ne-resize'></cropper-handle>\n                                            <cropper-handle action='nw-resize'></cropper-handle>\n                                            <cropper-handle action='se-resize'></cropper-handle>\n                                            <cropper-handle action='sw-resize'></cropper-handle>\n                                        </cropper-selection>\n                                    </cropper-canvas >"})}))},o.readAsDataURL(a)}}catch(a){console.log(a)}finally{this.cargandoCropper=!1}},cerrarCrop(){this.modalCropImage=!1},async guardarImagenRecortada(){try{const o=await this.cropper.getCropperSelection().$toCanvas();this.productoModificar.producto_imagen=o.toDataURL()}catch(o){console.error("Error al guardar la imagen recortada:",o)}finally{this.modalCropImage=!1}}}};const kl=(0,m.A)(bl,[["render",gl],["__scopeId","data-v-0ce483ac"]]);var vl=kl;function hl(o,a,e,r,t,n){const l=(0,i.g2)("NavbarComponent");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.bF)(l)])}var fl={components:{NavbarComponent:So}};const Ll=(0,m.A)(fl,[["render",hl]]);var Cl=Ll;const yl=o=>((0,i.Qi)("data-v-a97a2612"),o=o(),(0,i.jt)(),o),xl={key:0,class:"pantalla-carga text-center"},wl=yl((()=>(0,i.Lk)("div",{class:"logo-carga"},[(0,i.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:""}),(0,i.Lk)("div",{class:"texto-carga"}," Cargando productos ")],-1))),Pl=[wl],El={key:1},Ml={class:"container"},_l={class:"flex"},Il=["src"],Sl={class:"ancho-busqueda input-group mcenter"},Al=yl((()=>(0,i.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,i.Lk)("span",{class:"navbar-toggler-icon"})],-1))),Tl={class:"collapse navbar-collapse text-end bg-dark",id:"navbarSupportedContent"},Nl={class:"navbar-nav m-2"},ql={key:0,class:"nav-item"},Xl=["onClick"],Vl={class:"container2"},Ul={key:0},Fl={class:"presentacion"},Rl={class:"imagen-container"},Dl=["src"],zl={key:1,src:"/recursos/missing.png",class:"img-negocio",alt:""},$l={class:"texto-superpuesto"},Wl={class:"texto-superpuesto2"},Jl={class:"text-center redes"},Ql=["href"],jl=["href"],Ol=yl((()=>(0,i.Lk)("img",{width:"40",src:"/recursos/instagram.png"},null,-1))),Bl=[Ol],Gl=["href"],Hl=yl((()=>(0,i.Lk)("img",{width:"36",src:"/recursos/facebook.png"},null,-1))),Kl=[Hl],Yl=yl((()=>(0,i.Lk)("br",null,null,-1))),Zl={class:"text-center"},os=yl((()=>(0,i.Lk)("hr",null,null,-1))),as=yl((()=>(0,i.Lk)("img",{class:"ml",src:"/recursos/whatsapp.png",width:"30",alt:""},null,-1))),es=yl((()=>(0,i.Lk)("hr",null,null,-1))),rs={class:"body-container"},ts={class:"ancho"},is=["id"],ns={key:0},ls=["onClick"],ss={key:0,class:"inline"},cs={key:1,class:"inline"},ds={class:"p-2"},us={key:0,class:"item-imagen"},ps=["src"],ms={class:"item-texto-block"},gs={class:"item-texto-block-start"},bs={class:"item-nombre"},ks={class:"item-precio"},vs={key:0,class:"item-descripcion"},hs={key:1,class:"item-texto-block-end"},fs=["onClick"],Ls={class:"cantidad"},Cs=["onClick","disabled"],ys={key:0,class:"ver-carrito"},xs={class:"ver-carrito-btn","data-bs-toggle":"modal","data-bs-target":"#modalCarrito"},ws={key:1,class:"text-center mt-3"},Ps={key:1},Es={class:"error-content"},Ms=yl((()=>(0,i.Lk)("h1",{class:"display-1 text-danger"},"404",-1))),_s=yl((()=>(0,i.Lk)("h2",{class:"display-4"},"Puestito no encontrado",-1))),Is=yl((()=>(0,i.Lk)("p",{class:"lead"},"Lo sentimos, el puestito que buscas no se encuentra disponible o no tiene productos disponibles.",-1))),Ss={class:"modal fade",id:"modalCarrito",tabindex:"-1","aria-labelledby":"modalCarritoLabel","aria-hidden":"true"},As={class:"modal-dialog"},Ts={class:"modal-content"},Ns=yl((()=>(0,i.Lk)("div",{class:"modal-header"},[(0,i.Lk)("h5",{class:"modal-title"},"¿Todo listo para encargar?"),(0,i.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),qs={class:"modal-body"},Xs={key:0,class:"item-imagen"},Vs=["src"],Us={class:"item-texto-block"},Fs={class:"item-texto-block-start"},Rs={class:"item-nombre"},Ds={class:"item-precio"},zs={key:0,class:"item-descripcion"},$s={class:"item-texto-block-end"},Ws=["onClick"],Js={class:"cantidad"},Qs=["onClick","disabled"],js={class:"text-end mt-4"},Os={class:"modal-footer"},Bs=["disabled"],Gs={class:"modal fade",id:"modalPedido",tabindex:"-1","aria-labelledby":"modalPedidoLabel","aria-hidden":"true"},Hs={class:"modal-dialog"},Ks={class:"modal-content"},Ys=yl((()=>(0,i.Lk)("div",{class:"modal-header"},[(0,i.Lk)("h5",{class:"modal-title"},"Información del pedido"),(0,i.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Zs={class:"modal-body"},oc=yl((()=>(0,i.Lk)("label",{class:"mt-2",for:"nombre"},"Nombre y Apellido",-1))),ac=yl((()=>(0,i.Lk)("label",{class:"mt-2",for:"medioPago"},"Medio de Pago",-1))),ec=yl((()=>(0,i.Lk)("option",{value:"Transferencia"},"Transferencia",-1))),rc=yl((()=>(0,i.Lk)("option",{value:"Efectivo"},"Efectivo",-1))),tc=[ec,rc],ic=yl((()=>(0,i.Lk)("label",{class:"mt-2",for:"direccion"},"Dirección de entrega",-1))),nc=yl((()=>(0,i.Lk)("label",{class:"mt-2",for:"detalles"},"Detalles del pedido",-1))),lc={class:"modal-footer"},sc=["disabled"];function cc(o,a,e,r,n,l){const s=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",null,[n.cargando?((0,i.uX)(),(0,i.CE)("div",xl,Pl)):((0,i.uX)(),(0,i.CE)("div",El,[(0,i.Lk)("nav",{class:(0,L.C4)(["navbar navbar-dark bg-dark",{"navbar-hidden":n.isHidden}])},[(0,i.Lk)("div",Ml,[(0,i.Lk)("div",_l,[(0,i.Lk)("a",{onClick:a[0]||(a[0]=(...o)=>l.scrollToInicio&&l.scrollToInicio(...o)),href:"#"},[(0,i.Lk)("img",{class:"nav-logo",src:n.negocio.imagen,alt:""},null,8,Il)]),(0,i.Lk)("div",Sl,[(0,i.bo)((0,i.Lk)("input",{class:"form-control","onUpdate:modelValue":a[1]||(a[1]=o=>n.busqueda=o),type:"text",name:"busqueda",id:"",placeholder:"Buscar producto",title:"Ingrese una palabra clave..."},null,512),[[t.Jo,n.busqueda]]),(0,i.Lk)("button",{class:"btn-close btn-limpiar-busqueda",onClick:a[2]||(a[2]=(...o)=>l.limpiarBusqueda&&l.limpiarBusqueda(...o))})]),Al]),(0,i.Lk)("div",Tl,[(0,i.Lk)("ul",Nl,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(l.categoriasOrdenadas,((o,a)=>((0,i.uX)(),(0,i.CE)("div",{key:a},[l.categoriasConProductosFiltrados.includes(o)?((0,i.uX)(),(0,i.CE)("li",ql,[(0,i.Lk)("a",{class:"nav-link",onClick:a=>{l.scrollToCategoria(o),l.collapseNavbar()}},(0,L.v_)(o),9,Xl)])):(0,i.Q3)("",!0)])))),128))])])])],2),(0,i.Lk)("div",Vl,[n.productos.length?((0,i.uX)(),(0,i.CE)("div",Ul,[(0,i.Lk)("div",Fl,[(0,i.Lk)("div",Rl,[n.negocio.portada?((0,i.uX)(),(0,i.CE)("img",{key:0,src:n.negocio.portada,alt:"",class:"img-negocio"},null,8,Dl)):((0,i.uX)(),(0,i.CE)("img",zl)),(0,i.Lk)("div",$l,[(0,i.eW)("BIENVENIDOS "),(0,i.Lk)("div",Wl,(0,L.v_)(n.negocio.descripcion),1),(0,i.Lk)("div",Jl,[n.negocio.direccion?((0,i.uX)(),(0,i.CE)("a",{key:0,class:"link-dir",href:"https://www.google.com/maps/search/"+encodeURIComponent(n.negocio.direccion),target:"_blank"},(0,L.v_)(n.negocio.direccion),9,Ql)):(0,i.Q3)("",!0),n.negocio.instagram?((0,i.uX)(),(0,i.CE)("a",{key:1,class:"mauto",href:"https://instagram.com/"+n.negocio.instagram,target:"blank"},Bl,8,jl)):(0,i.Q3)("",!0),n.negocio.facebook?((0,i.uX)(),(0,i.CE)("a",{key:2,class:"mauto",href:"https://facebook.com/"+n.negocio.facebook,target:"blank"},Kl,8,Gl)):(0,i.Q3)("",!0),(0,i.eW)(),Yl,(0,i.Lk)("div",Zl,[(0,i.bo)((0,i.Lk)("img",{src:"/recursos/scroll-down.png",class:(0,L.C4)(["scroll-down",{"fade-in-out":n.isHidden}]),alt:""},null,2),[[t.aG,n.isHidden]])])])])])]),os,(0,i.Lk)("div",{class:"text-center mt-2 mensajeWpp p-2",onClick:a[3]||(a[3]=(...o)=>l.enviarMensaje&&l.enviarMensaje(...o))},[(0,i.eW)(" Enviá tu consulta "),as]),es,(0,i.Lk)("div",rs,[(0,i.Lk)("div",ts,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(l.categoriasOrdenadas,((o,a)=>((0,i.uX)(),(0,i.CE)("div",{class:"mt-2",key:a,id:o},[l.filteredProductos(o)?((0,i.uX)(),(0,i.CE)("div",ns,[(0,i.Lk)("div",{class:(0,L.C4)(["titulo-categoria",{"fondo-oscuro":n.categoriaSeleccionada===o}]),onClick:a=>l.toggleCategoria(o)},[(0,i.eW)((0,L.v_)(o)+" ",1),n.categoriaSeleccionada===o?((0,i.uX)(),(0,i.CE)("div",ss,"↓")):((0,i.uX)(),(0,i.CE)("div",cs,"→"))],10,ls),(0,i.Lk)("div",{class:(0,L.C4)({"categoria-productos":!0,"categoria-activa":n.categoriaSeleccionada===o})},[(0,i.Lk)("div",ds,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(l.filteredProductos(o),((o,a)=>((0,i.uX)(),(0,i.CE)("div",{class:"item-container mt-2",key:a},[o.producto_imagen?((0,i.uX)(),(0,i.CE)("div",us,[(0,i.Lk)("div",null,[(0,i.Lk)("img",{class:"imagen",src:o.producto_imagen,alt:" "},null,8,ps)])])):(0,i.Q3)("",!0),(0,i.Lk)("div",ms,[(0,i.Lk)("div",gs,[(0,i.Lk)("div",bs,(0,L.v_)(o.producto_nombre),1),(0,i.Lk)("div",ks," $"+(0,L.v_)(o.producto_precio),1),o.producto_descripcion?((0,i.uX)(),(0,i.CE)("div",vs,' "'+(0,L.v_)(o.producto_descripcion)+'" ',1)):(0,i.Q3)("",!0)])]),2100!==n.negocio.fechaVence?((0,i.uX)(),(0,i.CE)("div",hs,[(0,i.Lk)("button",{class:"btn-mas",onClick:a=>l.agregarAlCarrito(o)}," + ",8,fs),(0,i.Lk)("div",Ls,(0,L.v_)(o.cantidadSeleccionada),1),(0,i.Lk)("button",{class:"btn-menos",onClick:a=>l.quitarDelCarrito(o),disabled:!o.cantidadSeleccionada}," - ",8,Cs)])):(0,i.Q3)("",!0)])))),128))])],2)])):(0,i.Q3)("",!0)],8,is)))),128)),n.carrito.length>0?((0,i.uX)(),(0,i.CE)("div",ys,[(0,i.Lk)("button",xs,"Ver Carrito $"+(0,L.v_)(n.total),1)])):(0,i.Q3)("",!0),0===l.productosFiltrados.length?((0,i.uX)(),(0,i.CE)("div",ws," No se encontraron resultados para esa búsqueda. ")):(0,i.Q3)("",!0)])])])):((0,i.uX)(),(0,i.CE)("div",Ps,[(0,i.Lk)("div",Es,[Ms,_s,Is,(0,i.bF)(s,{to:"/"},{default:(0,i.k6)((()=>[(0,i.eW)("Volver a Puestito Online")])),_:1})])]))])])),(0,i.Lk)("div",Ss,[(0,i.Lk)("div",As,[(0,i.Lk)("div",Ts,[Ns,(0,i.Lk)("div",qs,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(n.carrito,((o,a)=>((0,i.uX)(),(0,i.CE)("div",{class:"item-container mt-2",key:a},[o.producto_imagen?((0,i.uX)(),(0,i.CE)("div",Xs,[(0,i.Lk)("div",null,[(0,i.Lk)("img",{class:"imagen",src:o.producto_imagen,alt:" "},null,8,Vs)])])):(0,i.Q3)("",!0),(0,i.Lk)("div",Us,[(0,i.Lk)("div",Fs,[(0,i.Lk)("div",Rs,(0,L.v_)(o.producto_nombre),1),(0,i.Lk)("div",Ds," $"+(0,L.v_)(o.producto_precio),1),o.producto_descripcion?((0,i.uX)(),(0,i.CE)("div",zs,' "'+(0,L.v_)(o.producto_descripcion)+'" ',1)):(0,i.Q3)("",!0)])]),(0,i.Lk)("div",$s,[(0,i.Lk)("button",{class:"btn-mas",onClick:a=>l.agregarAlCarrito(o)}," + ",8,Ws),(0,i.Lk)("div",Js,(0,L.v_)(o.cantidadSeleccionada),1),(0,i.Lk)("button",{class:"btn-menos",onClick:a=>l.quitarDelCarrito(o),disabled:!o.cantidadSeleccionada}," - ",8,Qs)])])))),128)),(0,i.Lk)("h4",js,"Total: $"+(0,L.v_)(n.total),1)]),(0,i.Lk)("div",Os,[(0,i.Lk)("button",{type:"button",class:"btn btn-limpiar","data-bs-dismiss":"modal","aria-label":"Close",onClick:a[4]||(a[4]=(...o)=>l.limpiarCarrito&&l.limpiarCarrito(...o))},"Limpiar carrito"),(0,i.Lk)("button",{type:"button",class:"btn btn-menu",disabled:!n.carrito.length>0,"data-bs-toggle":"modal","data-bs-target":"#modalPedido"},"Realizar pedido",8,Bs)])])])]),(0,i.Lk)("div",Gs,[(0,i.Lk)("div",Hs,[(0,i.Lk)("div",Ks,[Ys,(0,i.Lk)("form",{onSubmit:a[9]||(a[9]=(0,t.D$)(((...o)=>l.realizarPedido&&l.realizarPedido(...o)),["prevent"]))},[(0,i.Lk)("div",Zs,[oc,(0,i.bo)((0,i.Lk)("input",{type:"text",id:"nombre",class:"form-control",placeholder:"(obligatorio)","onUpdate:modelValue":a[5]||(a[5]=o=>n.pedido.nombre=o),required:""},null,512),[[t.Jo,n.pedido.nombre]]),ac,(0,i.bo)((0,i.Lk)("select",{class:"form-control form-select",id:"medioPago","onUpdate:modelValue":a[6]||(a[6]=o=>n.pedido.medio=o),required:""},tc,512),[[t.u1,n.pedido.medio]]),ic,(0,i.bo)((0,i.Lk)("input",{type:"text",id:"direccion",class:"form-control",placeholder:"(opcional)","onUpdate:modelValue":a[7]||(a[7]=o=>n.pedido.direccion=o)},null,512),[[t.Jo,n.pedido.direccion]]),nc,(0,i.bo)((0,i.Lk)("input",{type:"text",id:"detalles",class:"form-control",placeholder:"(opcional)","onUpdate:modelValue":a[8]||(a[8]=o=>n.pedido.detalle=o)},null,512),[[t.Jo,n.pedido.detalle]])]),(0,i.Lk)("div",lc,[(0,i.Lk)("button",{type:"submit",class:"btn btn-menu",disabled:!n.carrito.length>0},"Realizar pedido",8,sc)])],32)])])])])}var dc={data(){return{isHidden:!0,categoriaSeleccionada:null,mostrarModal:!0,nombreUsuario:"",nombreNegocio:"",productos:[],busqueda:"",negocio:"",cargando:!0,carrito:[],total:0,pedido:{nombre:"",medio:"Transferencia",direccion:"",detalle:""}}},mounted(){window.addEventListener("scroll",this.handleScroll),this.nombreUsuario=this.$route.params.nombreNegocio,this.obtenerInformacionNegocio()},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},computed:{categoriasOrdenadas(){return[...new Set(this.productosFiltrados.map((o=>o.producto_categoria)))].sort()},productosFiltrados(){const o=o=>o.normalize("NFD").replace(/[\u0300-\u036f]/g,"");return this.productos.filter((a=>{const e=a.producto_nombre||"",r=a.producto_descripcion||"",t=a.producto_categoria||"",i=a.producto_precio||"",n=o(this.busqueda.toLowerCase());return o(e.toLowerCase()).includes(n)||o(r.toLowerCase()).includes(n)||o(t.toLowerCase()).includes(n)||o(i.toString().toLowerCase()).includes(n)}))},categoriasConProductosFiltrados(){return[...new Set(this.productosFiltrados.map((o=>o.producto_categoria)))]}},methods:{handleScroll(){let o=window.pageYOffset||document.documentElement.scrollTop;this.isHidden=0===o},toggleCategoria(o){this.categoriaSeleccionada===o?this.categoriaSeleccionada=null:this.categoriaSeleccionada=o},async obtenerCarrito(){if(null!==sessionStorage.getItem("carrito")){this.carrito=JSON.parse(sessionStorage.getItem("carrito")),this.total=parseFloat(sessionStorage.getItem("total"));for(const o of this.productos){const a=this.carrito.findIndex((a=>a.producto_id===o.producto_id));-1!==a&&(o.cantidadSeleccionada=this.carrito[a].cantidadSeleccionada)}}null!==localStorage.getItem("pedido")&&(this.pedido=JSON.parse(localStorage.getItem("pedido")))},enviarMensaje(){const o=navigator.userAgent||navigator.vendor||window.opera,a=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(o);let e=a?"whatsapp://send":"https://web.whatsapp.com/send";const r=`Hola ${this.negocio.nombre}!`,t=`${e}?phone=${this.negocio.telefono}&text=${encodeURIComponent(r)}`;try{window.open(t),location.reload(1)}catch(i){we().fire({icon:"error",text:"Por favor habilita las ventanas emergentes para ir a WhatsApp."+i.response.data.message})}},realizarPedido(){localStorage.setItem("pedido",JSON.stringify(this.pedido));const o=`¡Hola *${this.negocio.nombre}*! \nQuiero realizar un pedido:\n\n`,a=this.carrito.reduce(((o,a)=>{const e=a.producto_categoria;return o[e]||(o[e]=[]),o[e].push(a),o}),{});let e="";for(const u in a)e+=`*${u}:*\n`,a[u].forEach((o=>{e+=`- *${o.producto_nombre}:* $${o.producto_precio} (${o.cantidadSeleccionada})\n`})),e+="\n";const r=`*Total: $${this.total}*\n\n`;let t=`*Nombre:* ${this.pedido.nombre}\n*Medio de pago:* ${this.pedido.medio}\n`;this.pedido.direccion&&(t+=`*Dirección:* ${this.pedido.direccion}\n`),this.pedido.detalle&&(t+=`*Detalle:* ${this.pedido.detalle}\n`),t+="\n¡Muchas gracias!";const i=o+e+r+t;console.log(i);const n=navigator.userAgent||navigator.vendor||window.opera,l=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(n);let s=l?"whatsapp://send":"https://web.whatsapp.com/send";const c=`${s}?phone=${this.negocio.telefono}&text=${encodeURIComponent(i)}`;try{window.open(c),location.reload(1)}catch(d){we().fire({icon:"error",text:"Por favor habilita las ventanas emergentes para ir a WhatsApp."+d.response.data.message})}},agregarAlCarrito(o){const a=this.carrito.findIndex((a=>a.producto_id===o.producto_id));-1!==a?(o.cantidadSeleccionada++,this.carrito[a].cantidadSeleccionada=o.cantidadSeleccionada,this.total+=Number(o.producto_precio)):(o.cantidadSeleccionada=1,this.carrito.push(o),this.total+=Number(o.producto_precio)),sessionStorage.setItem("carrito",JSON.stringify(this.carrito)),sessionStorage.setItem("total",JSON.stringify(this.total))},quitarDelCarrito(o){const a=this.carrito.findIndex((a=>a.producto_id===o.producto_id));-1!==a&&(o.cantidadSeleccionada--,this.carrito[a].cantidadSeleccionada=o.cantidadSeleccionada,this.total-=Number(o.producto_precio),0===this.carrito[a].cantidadSeleccionada&&this.carrito.splice(a,1)),sessionStorage.setItem("carrito",JSON.stringify(this.carrito)),sessionStorage.setItem("total",JSON.stringify(this.total))},limpiarCarrito(){sessionStorage.clear(),this.carrito=[],this.total=0,this.productos.forEach((o=>{o.cantidadSeleccionada=0}))},async obtenerInformacionNegocio(){try{const o=await r.A.get(`/negocio?usuario=${this.nombreUsuario}`);this.negocio=o.data,this.nombreNegocio=o.data.nombre,await this.fetchProductos()}catch(o){console.error("Error al cargar los productos:",o)}finally{this.cargando=!1}},scrollToCategoria(o){const a=document.getElementById(o);if(a){const o=document.querySelector(".navbar").offsetHeight,e=a.getBoundingClientRect().top;window.scrollTo({top:window.scrollY+e-o,behavior:"smooth"})}this.toggleCategoria(o)},scrollToInicio(){window.scrollTo({top:0,behavior:"smooth"})},collapseNavbar(){const o=document.querySelector(".navbar-toggler"),a=document.querySelector(".navbar-collapse");o&&a.classList.contains("show")&&o.click()},async fetchProductos(){try{const o=await r.A.get(`/productos?usuario=${this.nombreUsuario}`),a=o.data.filter((o=>o.producto_disponibilidad)),e=a.sort(((o,a)=>{const e=o.producto_nombre.toUpperCase(),r=a.producto_nombre.toUpperCase();return e<r?-1:e>r?1:0}));e.forEach((o=>{o.cantidadSeleccionada=0})),this.productos=e,this.obtenerCarrito()}catch(o){console.error("Error al cargar los productos:",o)}},filteredProductos(o){return this.productosFiltrados.filter((a=>a.producto_categoria===o&&1===a.producto_disponibilidad))},limpiarBusqueda(){this.busqueda=""}}};const uc=(0,m.A)(dc,[["render",cc],["__scopeId","data-v-a97a2612"]]);var pc=uc;const mc=o=>((0,i.Qi)("data-v-dca14d12"),o=o(),(0,i.jt)(),o),gc={key:0,class:"pantalla-carga text-center"},bc=mc((()=>(0,i.Lk)("div",{class:"logo-carga"},[(0,i.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:""}),(0,i.Lk)("div",{class:"texto-carga"},"Cargando información")],-1))),kc=[bc],vc={class:"container mt-4 mb-2 text-center"},hc={key:0},fc=mc((()=>(0,i.Lk)("h1",{class:"text-center"},"Perfil",-1))),Lc={class:"p-2 text-center"},Cc={key:0,class:"textoTarjeta"},yc=mc((()=>(0,i.Lk)("h4",{class:"titulo-div-forms mb-2 mt-2"},"Esta es una cuenta gratis.",-1))),xc={key:1,class:"textoTarjeta"},wc=mc((()=>(0,i.Lk)("h4",{class:"titulo-div-forms mb-2 mt-2"},"Esta es una cuenta Premium.",-1))),Pc={class:"titulo-div-forms"},Ec=mc((()=>(0,i.Lk)("hr",{class:"m-2"},null,-1))),Mc={class:"textoTarjeta"},_c={class:"table table-light table-striped"},Ic=mc((()=>(0,i.Lk)("thead",null,[(0,i.Lk)("th"),(0,i.Lk)("th")],-1))),Sc=mc((()=>(0,i.Lk)("td",null,[(0,i.Lk)("strong",null,"Logo:")],-1))),Ac={key:0},Tc=["src"],Nc={key:1},qc=mc((()=>(0,i.Lk)("td",null,[(0,i.Lk)("strong",null,"Portada:")],-1))),Xc={key:0},Vc=["src"],Uc={key:1},Fc=mc((()=>(0,i.Lk)("td",null,[(0,i.Lk)("strong",null,"Nombre:")],-1))),Rc=mc((()=>(0,i.Lk)("td",null,[(0,i.Lk)("strong",null,"Correo:")],-1))),Dc=mc((()=>(0,i.Lk)("td",null,[(0,i.Lk)("strong",null,"Teléfono:")],-1))),zc=mc((()=>(0,i.Lk)("td",null,[(0,i.Lk)("strong",null,"Dirección:")],-1))),$c=mc((()=>(0,i.Lk)("td",null,[(0,i.Lk)("strong",null,"Descripción:")],-1))),Wc=mc((()=>(0,i.Lk)("td",null,[(0,i.Lk)("strong",null,"Rubro:")],-1))),Jc=mc((()=>(0,i.Lk)("td",null,[(0,i.Lk)("strong",null,"Instagram:")],-1))),Qc={key:0},jc={key:1},Oc=mc((()=>(0,i.Lk)("td",null,[(0,i.Lk)("strong",null,"Facebook:")],-1))),Bc={key:0},Gc={key:1},Hc=mc((()=>(0,i.Lk)("button",{class:"btn btn-menu mt-2 mb-2",title:"Modificar","data-bs-toggle":"modal","data-bs-target":"#modificarProducto"},"Modificar Datos",-1))),Kc=mc((()=>(0,i.Lk)("br",null,null,-1))),Yc={class:"modal fade",id:"modificarProducto",tabindex:"-1","aria-labelledby":"modificarDatosLabel","aria-hidden":"true",ref:"modalModificar"},Zc={class:"modal-dialog modal-dialog-centered"},od={class:"modal-content"},ad=mc((()=>(0,i.Lk)("div",{class:"modal-header"},[(0,i.Lk)("h1",{class:"modal-title fs-5",id:"modificarDatosLabel"},"Modificar Datos"),(0,i.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),ed={class:"modal-body"},rd={class:"row g-3 div-forms text-start"},td=mc((()=>(0,i.Lk)("h4",{class:"titulo-div-forms mb-2"},"Información del Negocio",-1))),id=mc((()=>(0,i.Lk)("label",{class:"form-label",for:"nombre"},"Nombre",-1))),nd=mc((()=>(0,i.Lk)("label",{class:"form-label",for:"correo"},"Correo",-1))),ld=mc((()=>(0,i.Lk)("label",{class:"form-label",for:"telefono"},"Teléfono",-1))),sd=mc((()=>(0,i.Lk)("label",{class:"form-label",for:"direccion"},"Dirección",-1))),cd=mc((()=>(0,i.Lk)("label",{class:"form-label",for:"descripcion"},"Descripción",-1))),dd=mc((()=>(0,i.Lk)("label",{class:"form-label",for:"rubro"},"Rubro",-1))),ud=(0,i.Fv)('<option value="Elegí tu rubro" selected disabled data-v-dca14d12>Elegí tu rubro</option><option value="Artesanías" data-v-dca14d12>Artesanías</option><option value="Bar/Restaurante" data-v-dca14d12>Bar/Restaurante</option><option value="Carnicería" data-v-dca14d12>Carnicería</option><option value="Consultorio" data-v-dca14d12>Consultorio</option><option value="Estética" data-v-dca14d12>Estética</option><option value="Farmacia" data-v-dca14d12>Farmacia</option><option value="Ferretería" data-v-dca14d12>Ferretería</option><option value="Fiambrería" data-v-dca14d12>Fiambrería</option><option value="Florería" data-v-dca14d12>Florería</option><option value="Heladería" data-v-dca14d12>Heladería</option><option value="Indumentaria" data-v-dca14d12>Indumentaria</option><option value="Inmobiliaria" data-v-dca14d12>Inmobiliaria</option><option value="Juguetería" data-v-dca14d12>Juguetería</option><option value="Librería" data-v-dca14d12>Librería</option><option value="Limpieza" data-v-dca14d12>Limpieza</option><option value="Panadería" data-v-dca14d12>Panadería</option><option value="Peluquería" data-v-dca14d12>Peluquería</option><option value="Polirubro" data-v-dca14d12>Polirubro</option><option value="Pollería" data-v-dca14d12>Pollería</option><option value="Repostería" data-v-dca14d12>Repostería</option><option value="Rotisería" data-v-dca14d12>Rotisería</option><option value="Reparación/mantenimiento" data-v-dca14d12>Reparación/mantenimiento </option><option value="Servicios" data-v-dca14d12>Servicios</option><option value="Supermercado" data-v-dca14d12>Supermercado</option><option value="Tecnología" data-v-dca14d12>Tecnología</option><option value="Verdulería" data-v-dca14d12>Verdulería</option><option value="Veterinaria/Forrajería" data-v-dca14d12>Veterinaria/Forrajería</option>',28),pd=[ud],md=mc((()=>(0,i.Lk)("label",{class:"form-label",for:"instagram"},"Instagram",-1))),gd=mc((()=>(0,i.Lk)("label",{class:"form-label",for:"facebook"},"Facebook",-1))),bd=mc((()=>(0,i.Lk)("label",{class:"form-label mr-2",for:"imagen"},"Logo (JPG/PNG)",-1))),kd=mc((()=>(0,i.Lk)("label",{class:"form-label mr-2",for:"portada"},"Portada (JPG/PNG)",-1))),vd=mc((()=>(0,i.Lk)("div",{class:"text-end"},[(0,i.Lk)("button",{type:"button",class:"btn mt-3","data-bs-dismiss":"modal"},"Cerrar"),(0,i.Lk)("button",{class:"btn btn-menu mt-3",type:"submit","data-bs-dismiss":"modal"},"Modificar")],-1))),hd={class:"modalCategoriaContainer text-center"},fd={class:"modalCategoria"},Ld={class:"modal-dialog modal-dialog-centered"},Cd={class:"modal-content"},yd={class:"modal-header pl-2"},xd=mc((()=>(0,i.Lk)("h1",{class:"modal-title fs-5",id:"agregarCategoriaLabel"},"Recortar Imagen",-1))),wd={class:"modal-body mt-2"},Pd={class:"pantalla-cargas text-center"},Ed=mc((()=>(0,i.Lk)("div",{class:"logo-carga"},[(0,i.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:""}),(0,i.Lk)("div",{class:"texto-carga"}," Cargando imagen ")],-1))),Md=[Ed],_d={ref:"cropperImg",alt:"Croppear"},Id={class:"modal-footer mt-2"},Sd={class:"modalCategoriaContainer text-center"},Ad={class:"modalCategoria"},Td={class:"modal-dialog modal-dialog-centered"},Nd={class:"modal-content"},qd={class:"modal-header pl-2"},Xd=mc((()=>(0,i.Lk)("h1",{class:"modal-title fs-5",id:"agregarCategoriaLabel"},"Recortar Imagen",-1))),Vd={class:"modal-body mt-2"},Ud={class:"pantalla-cargas text-center"},Fd=mc((()=>(0,i.Lk)("div",{class:"logo-carga"},[(0,i.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:""}),(0,i.Lk)("div",{class:"texto-carga"}," Cargando imagen ")],-1))),Rd=[Fd],Dd={ref:"cropperPortada",alt:"Croppear"},zd={class:"modal-footer mt-2"};function $d(o,a,e,r,n,l){const s=(0,i.g2)("NavbarComponent");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.bF)(s),n.obteniendoInfo?((0,i.uX)(),(0,i.CE)("div",gc,kc)):(0,i.Q3)("",!0),(0,i.Lk)("div",vc,[n.negocio?((0,i.uX)(),(0,i.CE)("div",hc,[fc,(0,i.Lk)("div",Lc,["2100"==n.añoVence?((0,i.uX)(),(0,i.CE)("div",Cc,[yc,(0,i.Lk)("button",{onClick:a[0]||(a[0]=(...o)=>l.mejorarPlan&&l.mejorarPlan(...o)),class:"btn btn-agregar"},"Mejorar Plan")])):((0,i.uX)(),(0,i.CE)("div",xc,[wc,(0,i.Lk)("h4",Pc,"Vence: "+(0,L.v_)(n.fechaVence),1)])),Ec,(0,i.Lk)("div",Mc,[(0,i.Lk)("table",_c,[Ic,(0,i.Lk)("tbody",null,[(0,i.Lk)("tr",null,[Sc,n.negocio.imagen?((0,i.uX)(),(0,i.CE)("td",Ac,[(0,i.Lk)("img",{class:"imagen round",src:n.negocio.imagen,alt:" "},null,8,Tc)])):((0,i.uX)(),(0,i.CE)("td",Nc,"Sin logo."))]),(0,i.Lk)("tr",null,[qc,n.negocio.portada?((0,i.uX)(),(0,i.CE)("td",Xc,[(0,i.Lk)("img",{class:"imagen",src:n.negocio.portada,alt:" "},null,8,Vc)])):((0,i.uX)(),(0,i.CE)("td",Uc,"Sin portada."))]),(0,i.Lk)("tr",null,[Fc,(0,i.Lk)("td",null,(0,L.v_)(n.negocio.nombre),1)]),(0,i.Lk)("tr",null,[Rc,(0,i.Lk)("td",null,(0,L.v_)(n.negocio.correo),1)]),(0,i.Lk)("tr",null,[Dc,(0,i.Lk)("td",null,(0,L.v_)(n.negocio.telefono),1)]),(0,i.Lk)("tr",null,[zc,(0,i.Lk)("td",null,(0,L.v_)(n.negocio.direccion),1)]),(0,i.Lk)("tr",null,[$c,(0,i.Lk)("td",null,(0,L.v_)(n.negocio.descripcion),1)]),(0,i.Lk)("tr",null,[Wc,(0,i.Lk)("td",null,(0,L.v_)(n.negocio.rubro),1)]),(0,i.Lk)("tr",null,[Jc,n.negocio.instagram?((0,i.uX)(),(0,i.CE)("td",Qc,(0,L.v_)(n.negocio.instagram),1)):((0,i.uX)(),(0,i.CE)("td",jc,"Sin instagram."))]),(0,i.Lk)("tr",null,[Oc,n.negocio.facebook?((0,i.uX)(),(0,i.CE)("td",Bc,(0,L.v_)(n.negocio.facebook),1)):((0,i.uX)(),(0,i.CE)("td",Gc,"Sin facebook."))])])]),Hc]),Kc]),(0,i.Lk)("div",Yc,[(0,i.Lk)("div",Zc,[(0,i.Lk)("div",od,[ad,(0,i.Lk)("div",ed,[(0,i.Lk)("form",{onSubmit:a[11]||(a[11]=(0,t.D$)(((...o)=>l.modificarPerfil&&l.modificarPerfil(...o)),["prevent"]))},[(0,i.Lk)("div",rd,[td,(0,i.Lk)("div",null,[id,(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"text",id:"nombre",name:"nombre","onUpdate:modelValue":a[1]||(a[1]=o=>n.negocioModificar.nombre=o),placeholder:"Nombre del Negocio",required:""},null,512),[[t.Jo,n.negocioModificar.nombre]])]),(0,i.Lk)("div",null,[nd,(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"email",id:"correo","onUpdate:modelValue":a[2]||(a[2]=o=>n.negocioModificar.correo=o),placeholder:"Correo"},null,512),[[t.Jo,n.negocioModificar.correo]])]),(0,i.Lk)("div",null,[ld,(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"number",id:"telefono","onUpdate:modelValue":a[3]||(a[3]=o=>n.negocioModificar.telefono=o),placeholder:"Teléfono"},null,512),[[t.Jo,n.negocioModificar.telefono]])]),(0,i.Lk)("div",null,[sd,(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"text",id:"direccion","onUpdate:modelValue":a[4]||(a[4]=o=>n.negocioModificar.direccion=o),placeholder:"Dirección"},null,512),[[t.Jo,n.negocioModificar.direccion]])]),(0,i.Lk)("div",null,[cd,(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"text",id:"descripcion","onUpdate:modelValue":a[5]||(a[5]=o=>n.negocioModificar.descripcion=o),placeholder:"Descripción",maxlength:"40"},null,512),[[t.Jo,n.negocioModificar.descripcion]])]),(0,i.Lk)("div",null,[dd,(0,i.bo)((0,i.Lk)("select",{class:"form-select",name:"rubro",id:"rubro","onUpdate:modelValue":a[6]||(a[6]=o=>n.negocioModificar.rubro=o)},pd,512),[[t.u1,n.negocioModificar.rubro]])]),(0,i.Lk)("div",null,[md,(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"text",id:"instagram","onUpdate:modelValue":a[7]||(a[7]=o=>n.negocioModificar.instagram=o),placeholder:"Instagram"},null,512),[[t.Jo,n.negocioModificar.instagram]])]),(0,i.Lk)("div",null,[gd,(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"text",id:"facebook","onUpdate:modelValue":a[8]||(a[8]=o=>n.negocioModificar.facebook=o),placeholder:"Facebook"},null,512),[[t.Jo,n.negocioModificar.facebook]])]),(0,i.Lk)("div",null,[bd,(0,i.Lk)("input",{class:"form-control",type:"file",name:"imagen",id:"imagen",accept:"image/jpeg, image/png",onChange:a[9]||(a[9]=(...o)=>l.imagenSeleccionada&&l.imagenSeleccionada(...o))},null,32)]),(0,i.Lk)("div",null,[kd,(0,i.Lk)("input",{class:"form-control",type:"file",name:"portada",id:"portada",accept:"image/jpeg, image/png",onChange:a[10]||(a[10]=(...o)=>l.portadaSeleccionada&&l.portadaSeleccionada(...o))},null,32)])]),vd],32)])])])],512),(0,i.bo)((0,i.Lk)("div",hd,[(0,i.Lk)("div",fd,[(0,i.Lk)("div",Ld,[(0,i.Lk)("div",Cd,[(0,i.Lk)("div",yd,[xd,(0,i.Lk)("button",{type:"button",class:"btn-close",onClick:a[12]||(a[12]=(...o)=>l.cerrarCrop&&l.cerrarCrop(...o)),"aria-label":"Close"})]),(0,i.Lk)("div",wd,[(0,i.bo)((0,i.Lk)("div",Pd,Md,512),[[t.aG,n.cargandoCropper]]),(0,i.Lk)("img",_d,null,512)]),(0,i.Lk)("div",Id,[(0,i.Lk)("button",{type:"button",class:"btn",onClick:a[13]||(a[13]=(...o)=>l.cerrarCrop&&l.cerrarCrop(...o))},"Cerrar"),(0,i.Lk)("button",{class:"btn btn-menu",onClick:a[14]||(a[14]=(...o)=>l.guardarImagenRecortada&&l.guardarImagenRecortada(...o))},"Recortar")])])])])],512),[[t.aG,n.modalCropImage]]),(0,i.bo)((0,i.Lk)("div",Sd,[(0,i.Lk)("div",Ad,[(0,i.Lk)("div",Td,[(0,i.Lk)("div",Nd,[(0,i.Lk)("div",qd,[Xd,(0,i.Lk)("button",{type:"button",class:"btn-close",onClick:a[15]||(a[15]=(...o)=>l.cerrarCropPortada&&l.cerrarCropPortada(...o)),"aria-label":"Close"})]),(0,i.Lk)("div",Vd,[(0,i.bo)((0,i.Lk)("div",Ud,Rd,512),[[t.aG,n.cargandoCropperPortada]]),(0,i.Lk)("img",Dd,null,512)]),(0,i.Lk)("div",zd,[(0,i.Lk)("button",{type:"button",class:"btn",onClick:a[16]||(a[16]=(...o)=>l.cerrarCropPortada&&l.cerrarCropPortada(...o))},"Cerrar"),(0,i.Lk)("button",{class:"btn btn-menu",onClick:a[17]||(a[17]=(...o)=>l.guardarPortadaRecortada&&l.guardarPortadaRecortada(...o))},"Recortar")])])])])],512),[[t.aG,n.modalCropPortada]])])):(0,i.Q3)("",!0)])])}var Wd={components:{NavbarComponent:So},data(){return{obteniendoInfo:!1,cargandoCropper:!0,cargandoCropperPortada:!0,modalCropImage:!1,modalCropPortada:!1,cropper:null,cropperPortada:null,imageToCrop:"",fechaVence:"","añoVence":"",negocio:"",negocioModificar:""}},mounted(){},created(){this.obtenerInformacionNegocio()},methods:{mejorarPlan(){np.push("/u/planes")},modificarPerfil(){this.obteniendoInfo=!0,r.A.put("/modificarPerfil",{negocio:this.negocioModificar}).then((()=>{localStorage.setItem("nombre",this.negocioModificar.nombre);const o=we().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",we().stopTimer),o.addEventListener("mouseleave",we().resumeTimer)}});o.fire({icon:"success",title:"Datos modificados."})})).catch((o=>{console.error("Error al actualizar la información en la base de datos:",o),this.obteniendoInfo=!1})).finally((()=>{this.obteniendoInfo=!1}))},async obtenerInformacionNegocio(){try{this.obteniendoInfo=!0;const o=await r.A.get(`/miNegocio?usuario=${localStorage.getItem("usuario")}`);this.negocio=o.data,this.negocioModificar=o.data;const a=new Date(o.data.fechaVence);this.añoVence=a.getFullYear(),this.fechaVence=a.getDate()+"/"+(Number(a.getMonth())+1)+"/"+a.getFullYear()}catch(o){console.error("Error al cargar los productos:",o)}finally{this.obteniendoInfo=!1}},portadaSeleccionada(o){try{const a=o.target.files[0];if(a){const o=new FileReader;o.onload=async o=>{this.imageToCrop=o.target.result,this.modalCropPortada=!0,window.scrollTo({top:0,behavior:"smooth"});let a=this.$refs.cropperPortada;a.src=this.imageToCrop,this.$nextTick((()=>{const o=document.querySelector("cropper-canvas");o&&o.parentNode.removeChild(o),this.cropperPortada=new zr.Ay(a,{template:"<cropper-canvas background style='height:50vh;'>\n                                    <cropper-image alt='Lol' rotatable=false></cropper-image>\n                                        <cropper-shade hidden></cropper-shade>\n                                        <cropper-handle  action='move' plain></cropper-handle>\n                                        <cropper-selection initial-coverage='0.5' aspect-ratio='0.75' movable resizable zoomable>\n                                            <cropper-grid role='grid' covered></cropper-grid>\n                                            <cropper-crosshair centered></cropper-crosshair>\n                                            <cropper-handle action='move'\n                                                theme-color='rgba(255, 255, 255, 0.35)'></cropper-handle>\n                                            <cropper-handle action='ne-resize'></cropper-handle>\n                                            <cropper-handle action='nw-resize'></cropper-handle>\n                                            <cropper-handle action='se-resize'></cropper-handle>\n                                            <cropper-handle action='sw-resize'></cropper-handle>\n                                        </cropper-selection>\n                                    </cropper-canvas >"})}))},o.readAsDataURL(a)}}catch(a){console.log(a)}finally{this.cargandoCropperPortada=!1}},async guardarPortadaRecortada(){try{const o=await this.cropperPortada.getCropperSelection().$toCanvas();this.negocioModificar.portada=o.toDataURL()}catch(o){console.error("Error al guardar la imagen recortada:",o)}finally{this.modalCropPortada=!1}},imagenSeleccionada(o){try{const a=o.target.files[0];if(a){const o=new FileReader;o.onload=async o=>{this.imageToCrop=o.target.result,this.modalCropImage=!0,window.scrollTo({top:0,behavior:"smooth"});let a=this.$refs.cropperImg;a.src=this.imageToCrop,this.$nextTick((()=>{const o=document.querySelector("cropper-canvas");o&&o.parentNode.removeChild(o),this.cropper=new zr.Ay(a,{template:"<cropper-canvas background style='height:50vh;'>\n                                    <cropper-image  alt='Lol' rotatable=false></cropper-image>\n                                        <cropper-shade hidden></cropper-shade>\n                                        <cropper-handle  action='move' plain></cropper-handle>\n                                        <cropper-selection initial-coverage='0.5' aspect-ratio='1' movable resizable zoomable>\n                                            <cropper-grid role='grid' covered></cropper-grid>\n                                            <cropper-crosshair centered></cropper-crosshair>\n                                            <cropper-handle action='move'\n                                                theme-color='rgba(255, 255, 255, 0.35)'></cropper-handle>\n                                            <cropper-handle action='ne-resize'></cropper-handle>\n                                            <cropper-handle action='nw-resize'></cropper-handle>\n                                            <cropper-handle action='se-resize'></cropper-handle>\n                                            <cropper-handle action='sw-resize'></cropper-handle>\n                                        </cropper-selection>\n                                    </cropper-canvas >"})}))},o.readAsDataURL(a)}}catch(a){console.log(a)}finally{this.cargandoCropper=!1}},async guardarImagenRecortada(){try{const o=await this.cropper.getCropperSelection().$toCanvas();this.negocioModificar.imagen=o.toDataURL()}catch(o){console.error("Error al guardar la imagen recortada:",o)}finally{this.modalCropImage=!1}},cerrarCrop(){this.modalCropImage=!1},cerrarCropPortada(){this.modalCropPortada=!1}}};const Jd=(0,m.A)(Wd,[["render",$d],["__scopeId","data-v-dca14d12"]]);var Qd=Jd;const jd=o=>((0,i.Qi)("data-v-4dc41fdd"),o=o(),(0,i.jt)(),o),Od={class:"contenedor"},Bd={class:"mt-4 mb-4"},Gd=jd((()=>(0,i.Lk)("h1",{class:"text-center"},"¡Potenciá tu negocio!",-1))),Hd=jd((()=>(0,i.Lk)("hr",null,null,-1))),Kd={key:0},Yd={class:"row justify-content-center text-center mb-4"},Zd={class:"col-md-6"},ou=jd((()=>(0,i.Lk)("div",{class:"titulo-plan"},[(0,i.Lk)("h3",null,"Plan Básico")],-1))),au={class:"border mt-2 p-2 text-center"},eu=jd((()=>(0,i.Lk)("div",{class:"titulo-plan"}," Gratis ",-1))),ru=jd((()=>(0,i.Lk)("ul",{class:"text-start"},[(0,i.Lk)("li",null,"✅ Página + Menú online."),(0,i.Lk)("li",null,"⚠️ Visualización en nuestra plataforma."),(0,i.Lk)("li",null,"⚠️ Carrito y pedidos por WhatsApp."),(0,i.Lk)("li",null,"⚠️ Código QR para el menú.")],-1))),tu={class:"gris mt-2"},iu=jd((()=>(0,i.Lk)("br",null,null,-1))),nu=jd((()=>(0,i.Lk)("hr",null,null,-1))),lu={class:"row justify-content-center text-center"},su=jd((()=>(0,i.Lk)("div",{class:"col-md-6"},[(0,i.Lk)("div",{class:"titulo-plan"},[(0,i.Lk)("h3",null,"Plan Completo")]),(0,i.Lk)("div",{class:"mt-2 p-2 text-center"},[(0,i.Lk)("ul",{class:"text-start"},[(0,i.Lk)("li",null,"✅ Página + Menú online."),(0,i.Lk)("li",null,"✅ Visualización en nuestra plataforma."),(0,i.Lk)("li",null,"✅ Carrito y pedidos por WhatsApp."),(0,i.Lk)("li",null,"✅ Código QR para el menú.")])])],-1))),cu={class:"col-md-12"},du={class:"mt-2 text-center"},uu={class:"border p-2 m-2 col-md-3"},pu=jd((()=>(0,i.Lk)("div",{class:"titulo-plan"}," 1 Mes ",-1))),mu=jd((()=>(0,i.Lk)("div",{class:"precio-plan"}," $2500 ",-1))),gu={class:"border p-2 m-2 col-md-3"},bu=jd((()=>(0,i.Lk)("div",{class:"titulo-plan"}," 6 Meses ",-1))),ku=jd((()=>(0,i.Lk)("div",{class:"precio-plan"}," $12500 ",-1))),vu={class:"border p-2 m-2 col-md-3"},hu=jd((()=>(0,i.Lk)("div",{class:"titulo-plan"}," 12 Meses ",-1))),fu=jd((()=>(0,i.Lk)("div",{class:"precio-plan"}," $20000 ",-1)));function Lu(o,a,e,r,t,n){const l=(0,i.g2)("NavbarPublicoComponent");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.bF)(l),(0,i.Lk)("div",Od,[(0,i.Lk)("div",Bd,[Gd,Hd,t.usuario?(0,i.Q3)("",!0):((0,i.uX)(),(0,i.CE)("div",Kd,[(0,i.Lk)("div",Yd,[(0,i.Lk)("div",Zd,[ou,(0,i.Lk)("div",au,[eu,ru,(0,i.Lk)("div",tu,[(0,i.eW)("⚠️ = 1 mes gratis "),iu,(0,i.Lk)("button",{class:"btn btn-menu mt-2",onClick:a[0]||(a[0]=o=>n.elegirPlan(""))},"REGISTRAR")])])])]),nu])),(0,i.Lk)("div",lu,[su,(0,i.Lk)("div",cu,[(0,i.Lk)("div",du,[(0,i.Lk)("div",uu,[pu,mu,(0,i.Lk)("button",{class:"btn btn-menu",onClick:a[1]||(a[1]=o=>n.elegirPlan(1))},"CONTRATAR")]),(0,i.Lk)("div",gu,[bu,ku,(0,i.Lk)("button",{class:"btn btn-menu",onClick:a[2]||(a[2]=o=>n.elegirPlan(6))},"CONTRATAR")]),(0,i.Lk)("div",vu,[hu,fu,(0,i.Lk)("button",{class:"btn btn-menu",onClick:a[3]||(a[3]=o=>n.elegirPlan(12))},"CONTRATAR")])])])])])])])}var Cu={data(){return{usuario:""}},components:{NavbarPublicoComponent:Dr},mounted(){this.usuario=localStorage.getItem("usuario")},methods:{elegirPlan(o){o?(localStorage.setItem("plan",o),console.log("PlanesComponent: ",localStorage.getItem("plan")),np.push("/u/registrar")):(console.log("plan nulo"),localStorage.clear(),np.push("/u/registrar"))}}};const yu=(0,m.A)(Cu,[["render",Lu],["__scopeId","data-v-4dc41fdd"]]);var xu=yu;const wu=o=>((0,i.Qi)("data-v-338346ac"),o=o(),(0,i.jt)(),o),Pu={key:0,class:"pantalla-carga text-center"},Eu=wu((()=>(0,i.Lk)("div",{class:"logo-carga"},[(0,i.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:""}),(0,i.Lk)("div",{class:"texto-carga"},"Cargando...")],-1))),Mu=[Eu],_u={key:1},Iu={class:"contenedor text-center"},Su={class:"caja"},Au=wu((()=>(0,i.Lk)("img",{src:"/recursos/approve.png",width:"100"},null,-1))),Tu=wu((()=>(0,i.Lk)("h1",null,"Pago Aprobado.",-1))),Nu=wu((()=>(0,i.Lk)("p",null," Ya puedes cerrar esta ventana. ",-1))),qu={key:2},Xu={class:"contenedor text-center"},Vu={class:"caja"},Uu=wu((()=>(0,i.Lk)("img",{src:"/recursos/decline.png",width:"100"},null,-1))),Fu=wu((()=>(0,i.Lk)("h1",null,"No se pudo realizar el pago.",-1))),Ru={key:3},Du={class:"contenedor text-center"},zu={class:"caja"},$u=wu((()=>(0,i.Lk)("img",{src:"/recursos/pending.png",width:"100"},null,-1))),Wu=wu((()=>(0,i.Lk)("h1",null,"Pago Pendiente.",-1)));function Ju(o,a,e,r,t,n){const l=(0,i.g2)("NavbarPublicoComponent"),s=(0,i.g2)("router-link");return(0,i.uX)(),(0,i.CE)("div",null,[(0,i.bF)(l),t.cargando?((0,i.uX)(),(0,i.CE)("div",Pu,Mu)):(0,i.Q3)("",!0),"approved"==t.estado?((0,i.uX)(),(0,i.CE)("div",_u,[(0,i.Lk)("div",Iu,[(0,i.Lk)("div",Su,[Au,Tu,Nu,(0,i.Lk)("button",{class:"btn btn-menu mt-2",onClick:a[0]||(a[0]=(...o)=>n.cerrarVentana&&n.cerrarVentana(...o))},"Cerrar")])])])):(0,i.Q3)("",!0),"failure"==t.estado||"null"==t.estado?((0,i.uX)(),(0,i.CE)("div",qu,[(0,i.Lk)("div",Xu,[(0,i.Lk)("div",Vu,[Uu,Fu,(0,i.bF)(s,{class:"btn btn-menu mt-3",to:"/u/login"},{default:(0,i.k6)((()=>[(0,i.eW)("Volver")])),_:1})])])])):(0,i.Q3)("",!0),"pending"==t.estado?((0,i.uX)(),(0,i.CE)("div",Ru,[(0,i.Lk)("div",Du,[(0,i.Lk)("div",zu,[$u,Wu,(0,i.bF)(s,{class:"btn btn-menu mt-3",to:"/u/login"},{default:(0,i.k6)((()=>[(0,i.eW)("Volver")])),_:1})])])])):(0,i.Q3)("",!0)])}var Qu={components:{NavbarPublicoComponent:Dr},data(){return{estado:"",ref:"",cargando:!0}},mounted(){this.guardarPago()},methods:{cerrarVentana(){window.close()},async guardarPago(){const o=this.$route.query;try{const a=await r.A.post("/facturar/webhook",o);this.estado=a.data}catch(a){console.log(a)}finally{this.cargando=!1}}}};const ju=(0,m.A)(Qu,[["render",Ju],["__scopeId","data-v-338346ac"]]);var Ou=ju;const Bu={class:"container mt-2 col-md-6"},Gu=(0,i.Lk)("h3",null,"Calcular el % entre 2 números:",-1),Hu=(0,i.Lk)("hr",null,null,-1),Ku=(0,i.Lk)("h5",null,"Número Mayor",-1),Yu=(0,i.Lk)("h5",null,"Número Menor",-1),Zu={key:0,class:"text-center mt-2"};function op(o,a,e,r,n,l){return(0,i.uX)(),(0,i.CE)("div",Bu,[Gu,Hu,Ku,(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"number","onUpdate:modelValue":a[0]||(a[0]=o=>n.primerValor=o)},null,512),[[t.Jo,n.primerValor]]),Yu,(0,i.bo)((0,i.Lk)("input",{class:"form-control",type:"number","onUpdate:modelValue":a[1]||(a[1]=o=>n.segundoValor=o)},null,512),[[t.Jo,n.segundoValor]]),(0,i.Lk)("div",null,[(0,i.Lk)("button",{class:"btn btn-success mt-2",onClick:a[2]||(a[2]=(...o)=>l.calcular&&l.calcular(...o))},"Calcular")]),(0,i.Lk)("div",null,[n.resultado?((0,i.uX)(),(0,i.CE)("h4",Zu,"El porcentaje que existe entre los números es el "+(0,L.v_)(n.resultado)+"%",1)):(0,i.Q3)("",!0)])])}var ap={data(){return{primerValor:"",segundoValor:"",resultado:""}},methods:{calcular(){this.resultado=100*(this.primerValor-this.segundoValor)/this.segundoValor}}};const ep=(0,m.A)(ap,[["render",op]]);var rp=ep;const tp=[{path:"/",component:se,meta:{requiresAuth:!1}},{path:"/u/calcular",component:rp,meta:{requiresAuth:!1}},{path:"/u/home",component:ra,meta:{requiresAuth:!0}},{path:"/u/login",component:Me},{path:"/u/registrar",component:Jr,meta:{requiresAuth:!1}},{path:"/u/planes",component:xu,meta:{requiresAuth:!1}},{path:"/u/registrar/return",component:Ou,meta:{requiresAuth:!1}},{path:"/u/negocios",component:Vt,meta:{requiresAuth:!0}},{path:"/u/modificar",component:Qd,meta:{requiresAuth:!0}},{path:"/u/nuevoProducto",component:Ni,meta:{requiresAuth:!0}},{path:"/u/productos",component:vl,meta:{requiresAuth:!0}},{path:"/u/categorias",component:Cl,meta:{requiresAuth:!0}},{path:"/:nombreNegocio",component:pc,meta:{requiresAuth:!1}}],ip=(0,f.aE)({history:(0,f.LA)(),routes:tp,linkActiveClass:"active",linkExactActiveClass:"active"});ip.beforeEach(((o,a,e)=>{const r=localStorage.getItem("token");o.matched.some((o=>o.meta.requiresAuth))?r?e():e("/u/login"):e()}));var np=ip,lp=e(4679);const sp="prod";r.A.defaults.baseURL="dev"==sp?"http://192.168.1.235:3500":"https://puestito.online:3500";const cp=(0,t.Ef)(h);cp.use(np),cp.use(lp.Ay,{load:{key:"AIzaSyC8vrGiWbmnS138WURJk2odQ9HU_BIEz9s"}}),cp.mount("#app")}},a={};function e(r){var t=a[r];if(void 0!==t)return t.exports;var i=a[r]={exports:{}};return o[r].call(i.exports,i,i.exports,e),i.exports}e.m=o,function(){var o=[];e.O=function(a,r,t,i){if(!r){var n=1/0;for(d=0;d<o.length;d++){r=o[d][0],t=o[d][1],i=o[d][2];for(var l=!0,s=0;s<r.length;s++)(!1&i||n>=i)&&Object.keys(e.O).every((function(o){return e.O[o](r[s])}))?r.splice(s--,1):(l=!1,i<n&&(n=i));if(l){o.splice(d--,1);var c=t();void 0!==c&&(a=c)}}return a}i=i||0;for(var d=o.length;d>0&&o[d-1][2]>i;d--)o[d]=o[d-1];o[d]=[r,t,i]}}(),function(){e.n=function(o){var a=o&&o.__esModule?function(){return o["default"]}:function(){return o};return e.d(a,{a:a}),a}}(),function(){e.d=function(o,a){for(var r in a)e.o(a,r)&&!e.o(o,r)&&Object.defineProperty(o,r,{enumerable:!0,get:a[r]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){e.o=function(o,a){return Object.prototype.hasOwnProperty.call(o,a)}}(),function(){e.r=function(o){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}(),function(){var o={524:0};e.O.j=function(a){return 0===o[a]};var a=function(a,r){var t,i,n=r[0],l=r[1],s=r[2],c=0;if(n.some((function(a){return 0!==o[a]}))){for(t in l)e.o(l,t)&&(e.m[t]=l[t]);if(s)var d=s(e)}for(a&&a(r);c<n.length;c++)i=n[c],e.o(o,i)&&o[i]&&o[i][0](),o[i]=0;return e.O(d)},r=self["webpackChunkmenu"]=self["webpackChunkmenu"]||[];r.forEach(a.bind(null,0)),r.push=a.bind(null,r.push.bind(r))}();var r=e.O(void 0,[504],(function(){return e(5206)}));r=e.O(r)})();
//# sourceMappingURL=app.3fe7af27.js.map