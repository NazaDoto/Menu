(function(){"use strict";var o={6264:function(o,e,a){var t=a(8355),i=a(5130),r=a(6768);function n(o,e,a,t,i,n){const s=(0,r.g2)("router-view"),c=(0,r.g2)("PieComponent");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(s),(0,r.bF)(c)])}const s=o=>((0,r.Qi)("data-v-ed97399a"),o=o(),(0,r.jt)(),o),c={class:"text-center"},l=s((()=>(0,r.Lk)("div",{class:"text-center p-3",style:{"background-color":"rgba(0, 0, 0, 0.2)"}},[(0,r.eW)(" © 2024 "),(0,r.Lk)("a",{class:"text-dark",href:"https://www.linkedin.com/in/nazadoto/"},"Nazareno Navarrete")],-1))),d=[l];function u(o,e,a,t,i,n){return(0,r.uX)(),(0,r.CE)("footer",c,d)}var m={},p=a(1241);const g=(0,p.A)(m,[["render",u],["__scopeId","data-v-ed97399a"]]);var b=g,k={name:"App",components:{PieComponent:b},methods:{},mounted(){}};const v=(0,p.A)(k,[["render",n]]);var f=v,h=a(1387),L=a(4232);const C=o=>((0,r.Qi)("data-v-8ffca77e"),o=o(),(0,r.jt)(),o),y={class:"todo"},_={class:"container mt-4 mb-2"},x={class:"text-center"},E={key:0,class:"container"},w={class:"col-md-6"},N={class:"col-md-6 mt-2"},P={key:1,class:"text-center"},S={class:"row g-3 div-forms border"},M={class:"col-md-6"},I=C((()=>(0,r.Lk)("h2",{class:"titulo-div-forms mb-2"},"Perfil",-1))),A={class:"row g-3 div-forms border mt-2"},q={class:"col-md-6"},X=C((()=>(0,r.Lk)("h2",{class:"titulo-div-forms mb-2"},"Productos",-1))),F=C((()=>(0,r.Lk)("br",null,null,-1))),T={class:"row g-3 div-forms border mt-2"},U={class:"col-md-6"},V=C((()=>(0,r.Lk)("h2",{class:"titulo-div-forms mb-2"}," Tu link ",-1))),D=["href"],$=C((()=>(0,r.Lk)("br",null,null,-1))),J={key:0,class:"row g-3 div-forms border mt-2"},Q={class:"col-md-6"},O=C((()=>(0,r.Lk)("h2",{class:"titulo-div-forms mb-2"},"Tu código QR",-1))),W=["href"],R=C((()=>(0,r.Lk)("br",null,null,-1)));function j(o,e,a,t,i,n){const s=(0,r.g2)("NavbarAdminComponent"),c=(0,r.g2)("NavbarComponent"),l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",y,[n.esAdmin()?((0,r.uX)(),(0,r.Wv)(s,{key:0})):((0,r.uX)(),(0,r.Wv)(c,{key:1})),(0,r.Lk)("div",_,[(0,r.Lk)("h1",x,"Bienvenid@, "+(0,L.v_)(i.nombreNegocio),1),n.esAdmin()?((0,r.uX)(),(0,r.CE)("div",E,[(0,r.Lk)("div",w,[(0,r.bF)(l,{class:"btn btn-success",to:"/register"},{default:(0,r.k6)((()=>[(0,r.eW)("Nuevo Negocio")])),_:1})]),(0,r.Lk)("div",N,[(0,r.bF)(l,{class:"btn btn-success",to:"/negocios"},{default:(0,r.k6)((()=>[(0,r.eW)("Listar Negocios")])),_:1})])])):((0,r.uX)(),(0,r.CE)("div",P,[(0,r.Lk)("div",S,[(0,r.Lk)("div",M,[I,(0,r.bF)(l,{class:"btn btn-success",to:"/modificar"},{default:(0,r.k6)((()=>[(0,r.eW)("Ver Información")])),_:1})])]),(0,r.Lk)("div",A,[(0,r.Lk)("div",q,[X,(0,r.bF)(l,{class:"btn btn-success",to:"/nuevoProducto"},{default:(0,r.k6)((()=>[(0,r.eW)("Nuevo Producto")])),_:1}),F,(0,r.bF)(l,{class:"btn btn-success",to:"/productos"},{default:(0,r.k6)((()=>[(0,r.eW)("Listar Productos")])),_:1})])]),(0,r.Lk)("div",T,[(0,r.Lk)("div",U,[V,(0,r.Lk)("a",{href:"http://192.168.0.7:8080/"+i.nombreUsuario,target:"_blank"},"http://192.168.0.7:8080/"+(0,L.v_)(i.nombreUsuario),9,D),$])]),"2100"!==i.fechaVence?((0,r.uX)(),(0,r.CE)("div",J,[(0,r.Lk)("div",Q,[O,(0,r.Lk)("a",{ref:"qrcode",href:"http://192.168.0.7:8080/"+i.nombreUsuario,target:"_blank"},null,8,W),R,(0,r.Lk)("button",{onClick:e[0]||(e[0]=(...o)=>n.descargarQR&&n.descargarQR(...o)),class:"btn btn-success margenbtn"},"Descargar QR")])])):(0,r.Q3)("",!0)]))])])}var z=a(852),B=a.n(z);const G=o=>((0,r.Qi)("data-v-12be3ca3"),o=o(),(0,r.jt)(),o),K={class:""},H={class:"navbar navbar-expand-lg navbar-dark bg-dark"},Y={class:"container-fluid"},Z=G((()=>(0,r.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDarkDropdown","aria-controls":"navbarNavDarkDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,r.Lk)("span",{class:"navbar-toggler-icon"})],-1))),oo={class:"collapse navbar-collapse",id:"navbarNavDarkDropdown"},eo={class:"navbar-nav"},ao={class:"test nav-item"},to={class:"test nav-item"},io={class:"test nav-item dropdown"},ro={class:"dropdown-menu dropdown-menu-dark"},no={class:"test nav-item"},so=G((()=>(0,r.Lk)("button",{class:"nav-link","data-bs-toggle":"modal","data-bs-target":"#exampleModal"}," Salir ",-1))),co={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},lo={class:"modal-dialog"},uo={class:"modal-content"},mo=G((()=>(0,r.Lk)("div",{class:"modal-header text-center"},[(0,r.Lk)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"¿Cerrar sesión?"),(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),po={class:"modal-footer text-center"},go=G((()=>(0,r.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"No",-1)));function bo(o,e,a,t,i,n){const s=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",K,[(0,r.Lk)("nav",H,[(0,r.Lk)("div",Y,[(0,r.bF)(s,{class:"navbar-brand",to:"/home"},{default:(0,r.k6)((()=>[(0,r.eW)((0,L.v_)(n.leerUsuario())+" | ",1)])),_:1}),Z,(0,r.Lk)("div",oo,[(0,r.Lk)("ul",eo,[(0,r.Lk)("li",ao,[(0,r.bF)(s,{class:"nav-link",to:"/home"},{default:(0,r.k6)((()=>[(0,r.eW)("Inicio ")])),_:1})]),(0,r.Lk)("li",to,[(0,r.bF)(s,{class:"nav-link",to:"/modificar"},{default:(0,r.k6)((()=>[(0,r.eW)("Pefil")])),_:1})]),(0,r.Lk)("li",io,[(0,r.Lk)("button",{class:(0,L.C4)([{active:n.isActiveProductos()},"dropdown-toggle nav-link"]),"data-bs-toggle":"dropdown","aria-expanded":"false"}," Productos ",2),(0,r.Lk)("ul",ro,[(0,r.Lk)("li",null,[(0,r.bF)(s,{class:"dropdown-item",to:"/nuevoProducto"},{default:(0,r.k6)((()=>[(0,r.eW)("Nuevo Producto")])),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(s,{class:"dropdown-item",to:"/productos"},{default:(0,r.k6)((()=>[(0,r.eW)("Listar Productos")])),_:1})])])]),(0,r.Lk)("li",no,[so,(0,r.Lk)("div",co,[(0,r.Lk)("div",lo,[(0,r.Lk)("div",uo,[mo,(0,r.Lk)("div",po,[go,(0,r.Lk)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:e[0]||(e[0]=(...o)=>n.cerrarSesion&&n.cerrarSesion(...o))},"Sí, cerrar sesión")])])])])])])])])])])}a(4114);var ko={mounted(){},methods:{isActiveProductos(){return"/nuevoProducto"==this.$route.path||"/productos"==this.$route.path},isActiveCategorias(){return"/nuevaCategoria"==this.$route.path||"/categorias"==this.$route.path},leerUsuario(){return localStorage.getItem("nombre")},cerrarSesion(){localStorage.clear(),Is.push("/")}},components:{"router-link":h.Wk}};const vo=(0,p.A)(ko,[["render",bo],["__scopeId","data-v-12be3ca3"]]);var fo=vo;const ho=o=>((0,r.Qi)("data-v-5ad97571"),o=o(),(0,r.jt)(),o),Lo={class:""},Co={class:"navbar navbar-expand-lg navbar-dark bg-dark"},yo={class:"container-fluid"},_o=ho((()=>(0,r.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDarkDropdown","aria-controls":"navbarNavDarkDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,r.Lk)("span",{class:"navbar-toggler-icon"})],-1))),xo={class:"collapse navbar-collapse",id:"navbarNavDarkDropdown"},Eo={class:"navbar-nav"},wo={class:"test nav-item"},No={class:"test nav-item"},Po={class:"test nav-item"},So={class:"test nav-item"},Mo=ho((()=>(0,r.Lk)("button",{class:"nav-link","data-bs-toggle":"modal","data-bs-target":"#exampleModal"}," Salir ",-1))),Io={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Ao={class:"modal-dialog"},qo={class:"modal-content"},Xo=ho((()=>(0,r.Lk)("div",{class:"modal-header text-center"},[(0,r.Lk)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"¿Cerrar sesión?"),(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Fo={class:"modal-footer text-center"},To=ho((()=>(0,r.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"No",-1)));function Uo(o,e,a,t,i,n){const s=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",Lo,[(0,r.Lk)("nav",Co,[(0,r.Lk)("div",yo,[(0,r.bF)(s,{class:"navbar-brand",to:"/home"},{default:(0,r.k6)((()=>[(0,r.eW)((0,L.v_)(n.leerUsuario())+" | ",1)])),_:1}),_o,(0,r.Lk)("div",xo,[(0,r.Lk)("ul",Eo,[(0,r.Lk)("li",wo,[(0,r.bF)(s,{class:"nav-link",to:"/home"},{default:(0,r.k6)((()=>[(0,r.eW)("Inicio")])),_:1})]),(0,r.Lk)("li",No,[(0,r.bF)(s,{class:"nav-link",to:"/register"},{default:(0,r.k6)((()=>[(0,r.eW)("Nuevo Negocio")])),_:1})]),(0,r.Lk)("li",Po,[(0,r.bF)(s,{class:"nav-link",to:"/negocios"},{default:(0,r.k6)((()=>[(0,r.eW)("Listar Negocios")])),_:1})]),(0,r.Lk)("li",So,[Mo,(0,r.Lk)("div",Io,[(0,r.Lk)("div",Ao,[(0,r.Lk)("div",qo,[Xo,(0,r.Lk)("div",Fo,[To,(0,r.Lk)("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:e[0]||(e[0]=(...o)=>n.cerrarSesion&&n.cerrarSesion(...o))},"Sí, cerrar sesión")])])])])])])])])])])}var Vo={methods:{leerUsuario(){return localStorage.getItem("nombre")},cerrarSesion(){localStorage.clear(),Is.push("/")}},components:{"router-link":h.Wk}};const Do=(0,p.A)(Vo,[["render",Uo],["__scopeId","data-v-5ad97571"]]);var $o=Do,Jo=a(788),Qo={data(){return{nombreUsuario:"",nombreNegocio:"",fechaVence:""}},components:{NavbarComponent:fo,NavbarAdminComponent:$o,"router-link":h.Wk},mounted(){this.leerUsuario(),"admin"!=this.nombreUsuario&&this.generarQR()},methods:{generarQR(){const o=localStorage.getItem("nombre");if(o){const e=B()(0,"L"),a=9;e.size=a;const t="http://192.168.0.5:8080/"+o;e.addData(t),e.make(),this.renderQRCode(e.createImgTag(a,0))}},renderQRCode(o){const e=this.$refs.qrcode;e.innerHTML=o},leerUsuario(){this.nombreUsuario=localStorage.getItem("usuario"),this.nombreNegocio=localStorage.getItem("nombre"),this.fechaVence=localStorage.getItem("año")},esAdmin(){return"admin"==localStorage.getItem("usuario")},descargarQR(){const o=this.$refs.qrcode.firstChild,e=document.createElement("canvas"),a=e.getContext("2d");e.width=o.width,e.height=o.height,a.drawImage(o,0,0),e.toBlob((o=>{(0,Jo.saveAs)(o,"codigoQR-"+this.nombreUsuario+".jpg")}),"image/jpeg")}}};const Oo=(0,p.A)(Qo,[["render",j],["__scopeId","data-v-8ffca77e"]]);var Wo=Oo;const Ro=o=>((0,r.Qi)("data-v-28ff2a0e"),o=o(),(0,r.jt)(),o),jo={class:"container2 mt-4"},zo={key:0,class:"pantalla-carga text-center"},Bo=Ro((()=>(0,r.Lk)("div",{class:"logo-carga"},[(0,r.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:""}),(0,r.Lk)("div",{class:"texto-carga"}," Buscando negocios ")],-1))),Go=[Bo],Ko={key:1},Ho={class:"mt-2"},Yo=Ro((()=>(0,r.Lk)("h1",null,"¿Qué estás buscando?",-1))),Zo={class:"izquierda ancho-busqueda"},oe={class:"negocios-body"},ee={class:"modalMapa"},ae=Ro((()=>(0,r.Lk)("div",{id:"map"},null,-1))),te=[ae],ie={class:"item-imagen"},re={key:0},ne=["src"],se={class:"item-texto-block"},ce={class:"item-nombre"},le={key:0,class:"item-descripcion"},de={class:"item-btn"},ue=Ro((()=>(0,r.Lk)("img",{src:"/favicon.ico",width:"30",alt:""},null,-1))),me={key:0,class:"text-center mt-3"};function pe(o,e,a,t,n,s){const c=(0,r.g2)("NavbarPublicoComponent"),l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(c),(0,r.Lk)("div",jo,[n.cargando?((0,r.uX)(),(0,r.CE)("div",zo,Go)):((0,r.uX)(),(0,r.CE)("div",Ko,[(0,r.Lk)("div",Ho,[Yo,(0,r.Lk)("div",Zo,[(0,r.bo)((0,r.Lk)("input",{class:"form-control barra-busqueda","onUpdate:modelValue":e[0]||(e[0]=o=>n.busqueda=o),type:"text",name:"busqueda",id:"",placeholder:"Buscar",title:"Ingrese una palabra clave..."},null,512),[[i.Jo,n.busqueda]])]),(0,r.Lk)("button",{class:"btn btn-success derecha",onClick:e[1]||(e[1]=(...o)=>s.mostrarMapa&&s.mostrarMapa(...o))},(0,L.v_)(n.mapaMostrado2?"Ocultar\n                        Mapa":"Ver Mapa"),1)]),(0,r.Lk)("div",oe,[(0,r.bo)((0,r.Lk)("div",ee,te,512),[[i.aG,n.mapaMostrado2]]),(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.negociosFiltrados,((o,e)=>((0,r.uX)(),(0,r.CE)("li",{class:"item-container mt-2",key:e},[(0,r.Lk)("div",ie,[o.imagen?((0,r.uX)(),(0,r.CE)("div",re,[(0,r.Lk)("img",{class:"imagen",src:o.imagen,alt:" "},null,8,ne)])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",se,[(0,r.Lk)("div",ce,(0,L.v_)(o.nombre),1),o.descripcion?((0,r.uX)(),(0,r.CE)("div",le,' "'+(0,L.v_)(o.descripcion)+'" ',1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",de,[(0,r.bF)(l,{class:"item-texto-block-end",to:"/"+o.usuario},{default:(0,r.k6)((()=>[ue])),_:2},1032,["to"])])])))),128))]),0===s.negociosFiltrados.length?((0,r.uX)(),(0,r.CE)("div",me," No se encontraron resultados para esa búsqueda. ")):(0,r.Q3)("",!0)])]))])])}var ge=a(6886),be=a.n(ge);const ke=o=>((0,r.Qi)("data-v-aa524790"),o=o(),(0,r.jt)(),o),ve={class:"navbar navbar-light bg-light"},fe=ke((()=>(0,r.Lk)("img",{src:"/favicon.ico",width:"30",height:"30",class:"d-inline-block align-top",alt:""},null,-1)));function he(o,e,a,t,i,n){const s=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("nav",ve,[(0,r.bF)(s,{class:"navbar-brand",to:"/"},{default:(0,r.k6)((()=>[fe,(0,r.eW)(" Puestito Online ")])),_:1}),""!=i.usuario?((0,r.uX)(),(0,r.Wv)(s,{key:0,to:"/home"},{default:(0,r.k6)((()=>[(0,r.eW)("Mi Negocio")])),_:1})):((0,r.uX)(),(0,r.Wv)(s,{key:1,to:"/login"},{default:(0,r.k6)((()=>[(0,r.eW)("Login")])),_:1}))])}var Le={data(){return{usuario:""}},mounted(){this.obtenerUsuario()},methods:{obtenerUsuario(){this.usuario=localStorage.getItem("usuario"),console.log(this.usuario)}}};const Ce=(0,p.A)(Le,[["render",he],["__scopeId","data-v-aa524790"]]);var ye=Ce,_e={components:{NavbarPublicoComponent:ye},name:"MapaComponent",data(){return{negocios:[],busqueda:"",mapaMostrado:!1,mapaMostrado2:!1,cargando:!0}},created(){this.fetchNegocios()},computed:{negociosFiltrados(){return this.negocios.filter((o=>{const e=o.nombre||"",a=o.descripcion||"";return e.toLowerCase().includes(this.busqueda.toLowerCase())||a.toLowerCase().includes(this.busqueda.toLowerCase())}))}},methods:{async fetchNegocios(){try{const o=await t.A.get("/negocios");this.negocios=o.data}catch(o){console.error("Error al obtener los datos de los negocios:",o)}finally{this.cargando=!1}},async inicializarMapa(){const o=be().map("map");be().tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{enableRetina:!0,maxZoom:19,attribution:'&copy; <a href="https://linkedin.com/in/nazadoto">Nazareno Navarrete</a>'}).addTo(o),navigator.geolocation?navigator.geolocation.getCurrentPosition((e=>{const a=e.coords.latitude,t=e.coords.longitude;o.setView([a,t],14),be().marker([a,t]).addTo(o).bindPopup("Estás aquí.").bindTooltip("<b>Estás aquí</b>",{direction:"bottom",offset:be().point(-15,30)})}),(e=>{o.setView([-27.7876,-64.2596],14),console.log("Error al geolocalizar. Inicializando en Plaza Libertad. ",e)})):console.log("No funciona geolocation.");const e=be().icon({iconUrl:"/recursos/pin.png",iconSize:[38,38],iconAnchor:[19,38],popupAnchor:[0,-38]});try{this.negocios.forEach((a=>{be().marker([a.latitud,a.longitud],{icon:e}).addTo(o).bindPopup(`<div style="max-width: 150px;">\n                <b style="font-size:20px;">${a.nombre}</b><br>\n                <a style="text-decoration:none;color:white;font-size:12px;padding:4px 6px;" href="https://nazadoto.com:8080/${a.usuario}" target="_blank"><img src="/favicon.ico" width="20" alt=""></a>\n                <p style="margin:5px 0px"><b>Dirección:</b> ${a.direccion}</p>\n                <p style="margin:5px 0px"><b>Correo:</b> ${a.correo}</p>\n                <p style="margin:5px 0px"><b>Teléfono:</b> ${a.telefono}</p>\n                <p style="text-align:center;margin:7px 0px">"${a.descripcion}"</p>\n                <div style="text-align:center;"> ${a.instagram?`<a href="${a.instagram}" target="blank"><img style="margin:0px 10px" width='20' src="/recursos/instagram.png"></a>`:""}\n                            ${a.facebook?`<a href="${a.facebook}" target="blank"><img style="margin:0px 10px" width='20' src="/recursos/facebook.png"></a>`:""}</div>\n                </div>`).bindTooltip(`<b>${a.nombre}</b>`,{direction:"bottom",offset:be().point(0,10)})})),document.getElementById("map").classList.add("show")}catch(a){console.error("Error al obtener los datos de los negocios:",a)}},mostrarMapa(){this.mapaMostrado2?this.mapaMostrado2=!1:this.mapaMostrado?this.mapaMostrado2=!0:(this.mapaMostrado=!0,this.mapaMostrado2=!0,this.$nextTick((()=>{this.inicializarMapa()})))}}};const xe=(0,p.A)(_e,[["render",pe],["__scopeId","data-v-28ff2a0e"]]);var Ee=xe;const we=o=>((0,r.Qi)("data-v-a24062e4"),o=o(),(0,r.jt)(),o),Ne={class:"total"},Pe={class:"fondo text-center"},Se=we((()=>(0,r.Lk)("img",{src:"/favicon.ico",width:"100",alt:"logo",class:"mb-4"},null,-1))),Me=we((()=>(0,r.Lk)("h1",{class:"titulo"},"Puestito Online",-1))),Ie={class:"width-size"},Ae=we((()=>(0,r.Lk)("label",{for:"usuario"},"Usuario",-1))),qe={class:"width-size"},Xe=we((()=>(0,r.Lk)("label",{for:"contraseña"},"Contraseña",-1))),Fe=we((()=>(0,r.Lk)("div",{class:"col-md-8"},[(0,r.Lk)("button",{type:"submit",class:"btn btn-entrar"},"Entrar")],-1))),Te=we((()=>(0,r.Lk)("div",{class:"derecha"},null,-1)));function Ue(o,e,a,t,n,s){const c=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("div",Ne,[(0,r.Lk)("div",Pe,[Se,Me,(0,r.Lk)("form",{class:"row g-3",onSubmit:e[2]||(e[2]=(0,i.D$)(((...o)=>s.login&&s.login(...o)),["prevent"]))},[(0,r.Lk)("div",Ie,[Ae,(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-3",type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>n.usuario=o),required:""},null,512),[[i.Jo,n.usuario]])]),(0,r.Lk)("div",qe,[Xe,(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-4",type:"password","onUpdate:modelValue":e[1]||(e[1]=o=>n.contraseña=o),required:""},null,512),[[i.Jo,n.contraseña]])]),Fe,(0,r.bF)(c,{to:"/planes"},{default:(0,r.k6)((()=>[(0,r.eW)("Registrar Negocio")])),_:1}),(0,r.bF)(c,{to:"/"},{default:(0,r.k6)((()=>[(0,r.eW)("Volver")])),_:1})],32)]),Te])])}var Ve=a(4874),De=a.n(Ve),$e={components:{},data(){return{usuario:"","contraseña":""}},methods:{checkAuthentication(){const o=!!localStorage.getItem("token");o&&this.$router.push("/home")},async login(){try{const o=await t.A.post("/login",{usuario:this.usuario,"contraseña":this.contraseña});if(200===o.status){localStorage.setItem("token",o.data.token),localStorage.setItem("nombre",o.data.nombre),localStorage.setItem("usuario",o.data.nomUsuario);const e=new Date(o.data.fechaVence);localStorage.setItem("año",e.getFullYear()),this.$router.push("/home");const a=De().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",De().stopTimer),o.addEventListener("mouseleave",De().resumeTimer)}});a.fire({icon:"success",title:"Inicio de sesión exitoso."})}}catch(o){De().fire({icon:"error",text:"Usuario/contraseña incorrectos."})}}},mounted(){this.checkAuthentication()}};const Je=(0,p.A)($e,[["render",Ue],["__scopeId","data-v-a24062e4"]]);var Qe=Je;const Oe=o=>((0,r.Qi)("data-v-3421ab90"),o=o(),(0,r.jt)(),o),We={key:0,class:"pantalla-carga text-center"},Re=Oe((()=>(0,r.Lk)("div",{class:"logo-carga"},[(0,r.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:""}),(0,r.Lk)("div",{class:"texto-carga"}," Cargando datos de facturación ")],-1))),je=[Re],ze={key:1},Be={class:"container mt-4 mb-2"},Ge={class:"row g-3 mt-4 border"},Ke=(0,r.Fv)('<div class="row g-3 border" data-v-3421ab90><h4 class="titulo- mb-2" data-v-3421ab90>Información de facturación</h4><div class="col-md-6" data-v-3421ab90><div id="form-checkout__cardNumber" class="form-control form-control-fact" data-v-3421ab90></div></div><div class="col-md-6" data-v-3421ab90><div id="form-checkout__expirationDate" class="form-control form-control-fact" data-v-3421ab90></div></div><div class="col-md-6" data-v-3421ab90><div id="form-checkout__securityCode" class="form-control form-control-fact" data-v-3421ab90></div></div><div class="col-md-6" data-v-3421ab90><input class="form-control" type="text" id="form-checkout__cardholderName" data-v-3421ab90></div><div class="col-md-6" data-v-3421ab90><select class="form-control form-select" id="form-checkout__issuer" disabled data-v-3421ab90></select></div><div class="col-md-6" data-v-3421ab90><select class="form-control form-select" id="form-checkout__installments" data-v-3421ab90></select></div><div class="col-md-6" data-v-3421ab90><select class="form-control form-select" id="form-checkout__identificationType" data-v-3421ab90></select></div><div class="col-md-6" data-v-3421ab90><input class="form-control" type="text" id="form-checkout__identificationNumber" data-v-3421ab90></div><div class="col-md-6" data-v-3421ab90><input class="form-control" type="email" id="form-checkout__cardholderEmail" data-v-3421ab90></div><div data-v-3421ab90><button class="btn btn-success botones mt-3 mb-3" type="submit" data-v-3421ab90>Contratar</button></div></div>',1),He=[Ke];function Ye(o,e,a,t,n,s){const c=(0,r.g2)("NavbarAdminComponent"),l=(0,r.g2)("NavbarPublicoComponent");return(0,r.uX)(),(0,r.CE)("div",null,[n.cargando?((0,r.uX)(),(0,r.CE)("div",We,je)):((0,r.uX)(),(0,r.CE)("div",ze,["admin"==n.usuario?((0,r.uX)(),(0,r.Wv)(c,{key:0})):((0,r.uX)(),(0,r.Wv)(l,{key:1})),(0,r.Lk)("div",Be,[(0,r.Lk)("div",Ge,[(0,r.Lk)("form",{onSubmit:e[0]||(e[0]=(0,i.D$)(((...o)=>s.registrarNegocio&&s.registrarNegocio(...o)),["prevent"])),id:"form-checkout"},He,32)])])]))])}var Ze=a(1132),oa={components:{NavbarAdminComponent:$o,NavbarPublicoComponent:ye},data(){return{cargando:!0,plan:null,usuario:"",payment:{token:null,issuer_id:null,payment_method_id:null,amount:null,installments:null,email:null,identificationType:null,identificationNumber:null}}},created(){this.inicializarPago()},methods:{async inicializarPago(){this.plan=localStorage.getItem("plan"),this.usuario=localStorage.getItem("usuario"),console.log(this.plan,this.usuario),await(0,Ze.r)();const o=new window.MercadoPago("TEST-6f32dbe3-4ecc-480b-8634-e9b529272327"),e={1:1500,6:7500,12:15e3},a=e[this.plan]||0,t=o.cardForm({amount:Number(a),iframe:!0,form:{id:"form-checkout",cardNumber:{id:"form-checkout__cardNumber",placeholder:"Numero de tarjeta"},expirationDate:{id:"form-checkout__expirationDate",placeholder:"Vencimiento (MES/AÑO)"},securityCode:{id:"form-checkout__securityCode",placeholder:"Código de seguridad"},cardholderName:{id:"form-checkout__cardholderName",placeholder:"Titular de la tarjeta"},issuer:{id:"form-checkout__issuer",placeholder:"Banco emisor"},installments:{id:"form-checkout__installments",placeholder:"Cuotas"},identificationType:{id:"form-checkout__identificationType",placeholder:"Tipo de documento"},identificationNumber:{id:"form-checkout__identificationNumber",placeholder:"Número de documento"},cardholderEmail:{id:"form-checkout__cardholderEmail",placeholder:"Email"}},callbacks:{onFormMounted:o=>{if(o)return console.warn("Form Mounted handling error: ",o);console.log("Form mounted")},onSubmit:o=>{o.preventDefault(),console.log(t.getCardFormData()),this.payment={token:t.getCardFormData().token,issuer_id:t.getCardFormData().issuerId,payment_method_id:t.getCardFormData().paymentMethodId,amount:t.getCardFormData().amount,installments:t.getCardFormData().installments,email:t.getCardFormData().cardholderEmail,identificationType:t.getCardFormData().identificationType,identificationNumber:t.getCardFormData().identificationNumber}}}})},imagenSeleccionada(o){const e=o.target.files[0];if(e){const o=new FileReader;o.onload=o=>{this.negocio.imagen=o.target.result},o.readAsDataURL(e)}},registrarNegocio(){let o=new Date;const e=this.plan-1;o.setMonth(o.getMonth()+e);const a=o.toISOString().slice(0,19).replace("T"," ");t.A.post("/procesar_pago",this.payment).then((o=>{console.log("Pago procesado con éxito:",o.data),t.A.put("/modificarVencimiento",{negocio_usuario:this.usuario,fechaVence:a}).then((()=>{const o=De().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",De().stopTimer),o.addEventListener("mouseleave",De().resumeTimer)}});o.fire({icon:"success",title:"Registro exitoso."})})).catch((o=>{De().fire({icon:"error",text:"Error al registrar!"}),console.error("Error al registrar usuario:",o)}))})).catch((o=>{console.error("Error al procesar el pago:",o),De().fire({icon:"error",text:"Error al facturar!"})}))},verificarPlan(){localStorage.getItem("plan")?this.plan=localStorage.getItem("plan"):Is.push("/planes")}},mounted(){this.verificarPlan()}};const ea=(0,p.A)(oa,[["render",Ye],["__scopeId","data-v-3421ab90"]]);var aa=ea;const ta=o=>((0,r.Qi)("data-v-f3deb824"),o=o(),(0,r.jt)(),o),ia={class:"container mt-4 mb-2"},ra={class:"row g-3 mt-4 border"},na={class:"row g-3 border"},sa=ta((()=>(0,r.Lk)("h4",{class:"titulo- mb-2"},"Información de acceso",-1))),ca=ta((()=>(0,r.Lk)("h4",{class:"subtitulo"},"Cómo ingresarás a la plataforma.",-1))),la={class:"col-md-6"},da={class:"col-md-6"},ua=ta((()=>(0,r.Lk)("h4",{class:"titulo- mb-2"},"Información del negocio",-1))),ma=ta((()=>(0,r.Lk)("h4",{class:"subtitulo"},"Más adelante podés modificar esta información.",-1))),pa={class:"col-md-6"},ga={class:"col-md-6"},ba={class:"col-md-6"},ka={class:"col-md-6"},va={class:"col-md-6"},fa={class:"col-md-6"},ha={class:"col-md-6"},La={class:"col-md-6"},Ca=ta((()=>(0,r.Lk)("label",{class:"form-label text-center",for:"imagen"},"Logo (JPG)",-1))),ya=ta((()=>(0,r.Lk)("button",{class:"btn btn-success botones m-auto mb-2",type:"submit"},"Contratar",-1)));function _a(o,e,a,t,n,s){const c=(0,r.g2)("NavbarAdminComponent"),l=(0,r.g2)("NavbarPublicoComponent");return(0,r.uX)(),(0,r.CE)("div",null,["admin"==o.usuario?((0,r.uX)(),(0,r.Wv)(c,{key:0})):((0,r.uX)(),(0,r.Wv)(l,{key:1})),(0,r.Lk)("div",ia,[(0,r.Lk)("div",ra,[(0,r.Lk)("form",{onSubmit:e[10]||(e[10]=(0,i.D$)(((...o)=>s.registrarNegocio&&s.registrarNegocio(...o)),["prevent"])),id:"form-checkout"},[(0,r.Lk)("div",na,[sa,ca,(0,r.Lk)("div",la,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=o=>n.negocio.usuario=o),placeholder:"Nombre de Usuario",required:""},null,512),[[i.Jo,n.negocio.usuario]])]),(0,r.Lk)("div",da,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=o=>n.negocio.contraseña=o),placeholder:"Contraseña",required:""},null,512),[[i.Jo,n.negocio.contraseña]])]),ua,ma,(0,r.Lk)("div",pa,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"nombre","onUpdate:modelValue":e[2]||(e[2]=o=>n.negocio.nombre=o),placeholder:"Nombre (Así aparecerás en la página)",required:""},null,512),[[i.Jo,n.negocio.nombre]])]),(0,r.Lk)("div",ga,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"descripcion","onUpdate:modelValue":e[3]||(e[3]=o=>n.negocio.descripcion=o),placeholder:"Descripción (Qué ofreces)"},null,512),[[i.Jo,n.negocio.descripcion]])]),(0,r.Lk)("div",ba,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"email",id:"email","onUpdate:modelValue":e[4]||(e[4]=o=>n.negocio.email=o),placeholder:"Email",required:""},null,512),[[i.Jo,n.negocio.email]])]),(0,r.Lk)("div",ka,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"direccion","onUpdate:modelValue":e[5]||(e[5]=o=>n.negocio.direccion=o),placeholder:"Dirección (por ej. Libertad 20, Santiago del Estero, Argentina)"},null,512),[[i.Jo,n.negocio.direccion]])]),(0,r.Lk)("div",va,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"number",id:"telefono","onUpdate:modelValue":e[6]||(e[6]=o=>n.negocio.telefono=o),placeholder:"Teléfono (por ej. +5493855223287)"},null,512),[[i.Jo,n.negocio.telefono]])]),(0,r.Lk)("div",fa,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"instagram","onUpdate:modelValue":e[7]||(e[7]=o=>n.negocio.instagram=o),placeholder:"Link de Instagram"},null,512),[[i.Jo,n.negocio.instagram]])]),(0,r.Lk)("div",ha,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"facebook","onUpdate:modelValue":e[8]||(e[8]=o=>n.negocio.facebook=o),placeholder:"Link de Facebook"},null,512),[[i.Jo,n.negocio.facebook]])]),(0,r.Lk)("div",La,[Ca,(0,r.Lk)("input",{class:"form-control",type:"file",name:"imagen",id:"imagen",accept:".jpg",onChange:e[9]||(e[9]=o=>s.imagenSeleccionada(o)),required:""},null,32)]),ya])],32)])])])}var xa={components:{NavbarAdminComponent:$o,NavbarPublicoComponent:ye},data(){return{plan:null,negocio:{usuario:"pepopa","contraseña":"pepopa",nombre:"Pepopa",fechaVence:"",email:"pepopa@gmail.com",imagen:"1",direccion:"Tucumán 100, Santiago del Estero, Argentina",telefono:"3855223288",descripcion:"Esposisima",instagram:"igpepopa",facebook:"facepepopa"}}},mounted(){this.obtenerPlan()},methods:{async obtenerPlan(){this.plan=localStorage.getItem("plan"),console.log("RegistrarComponent: ",this.plan)},imagenSeleccionada(o){const e=o.target.files[0];if(e){const o=new FileReader;o.onload=o=>{this.negocio.imagen=o.target.result},o.readAsDataURL(e)}},resetForm(){this.negocio.usuario="",this.negocio.contraseña="",this.negocio.nombre="",this.negocio.fechaVence="",this.negocio.email="",this.negocio.imagen="",this.negocio.direccion="",this.negocio.telefono="",this.negocio.direccion="",this.negocio.instagram="",this.negocio.facebook=""},registrarNegocio(){let o=new Date;o.setYear(2100),this.negocio.fechaVence=o.toISOString().slice(0,19).replace("T"," "),t.A.post("/register",this.negocio).then((()=>{if(this.plan)console.log("Entro a la parte de facturar"),localStorage.setItem("usuario",this.negocio.usuario),Is.push("/facturar");else{Is.push("/login");const o=De().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",De().stopTimer),o.addEventListener("mouseleave",De().resumeTimer)}});o.fire({icon:"success",title:"Registro exitoso."})}})).catch((o=>{De().fire({icon:"error",text:"Error al registrar!"}),console.error("Error al registrar usuario:",o)}))}}};const Ea=(0,p.A)(xa,[["render",_a],["__scopeId","data-v-f3deb824"]]);var wa=Ea;const Na=o=>((0,r.Qi)("data-v-a96cf68c"),o=o(),(0,r.jt)(),o),Pa={class:"container mt-4 mb-2"},Sa=Na((()=>(0,r.Lk)("h1",null,"Negocios",-1))),Ma={class:"izquierda ancho-busqueda"},Ia={key:0},Aa=["src"],qa={class:"item-texto-block m-2"},Xa={key:0,class:"item-descripcion"},Fa=Na((()=>(0,r.Lk)("b",null,"Nombre de usuario:",-1))),Ta={class:"item-descripcion"},Ua=Na((()=>(0,r.Lk)("b",null,"Nombre del negocio:",-1))),Va={key:1,class:"item-descripcion"},Da=Na((()=>(0,r.Lk)("b",null,"Descripción:",-1))),$a={key:2,class:"item-descripcion"},Ja=Na((()=>(0,r.Lk)("b",null,"Fecha de Vencimiento:",-1))),Qa=["onClick"],Oa={class:"item-texto-block-end"},Wa=["href"],Ra=Na((()=>(0,r.Lk)("img",{width:"40",src:"/recursos/instagram.png"},null,-1))),ja=[Ra],za={key:1},Ba=["href"],Ga=Na((()=>(0,r.Lk)("img",{width:"36",src:"/recursos/facebook.png"},null,-1))),Ka=[Ga],Ha={key:3},Ya={class:"item-btn"},Za=Na((()=>(0,r.Lk)("img",{src:"/favicon.ico",width:"30",alt:""},null,-1))),ot={class:"modal fade",id:"modificarProducto",tabindex:"-1","aria-labelledby":"modificarProductoLabel","aria-hidden":"true",ref:"modalModificar"},et={class:"modal-dialog modal-dialog-centered"},at={class:"modal-content"},tt=Na((()=>(0,r.Lk)("div",{class:"modal-header"},[(0,r.Lk)("h1",{class:"modal-title fs-5",id:"modificarProductoLabel"},"Modificar Datos"),(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),it={class:"modal-body"},rt={class:"row g-3 div-forms border"},nt=Na((()=>(0,r.Lk)("h4",{class:"titulo-div-forms mb-2"},"Información del Usuario",-1))),st=Na((()=>(0,r.Lk)("h4",{class:"titulo-div-forms mb-2"},"Información del Negocio",-1))),ct=Na((()=>(0,r.Lk)("label",{class:"form-label mr-2",for:"imagen"},"Imagen (JPG)",-1))),lt=Na((()=>(0,r.Lk)("div",{class:"text-end"},[(0,r.Lk)("button",{class:"btn btn-success botones mt-3",type:"submit","aria-label":"Close"},"Modificar")],-1)));function dt(o,e,a,t,n,s){const c=(0,r.g2)("NavbarAdminComponent"),l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(c),(0,r.Lk)("div",Pa,[Sa,(0,r.Lk)("div",Ma,[(0,r.bo)((0,r.Lk)("input",{class:"form-control barra-busqueda","onUpdate:modelValue":e[0]||(e[0]=o=>n.busqueda=o),type:"text",name:"busqueda",id:"",placeholder:"Buscar",title:"Ingrese una palabra clave..."},null,512),[[i.Jo,n.busqueda]])]),(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.negociosFiltrados,((o,e)=>((0,r.uX)(),(0,r.CE)("li",{class:"item-container mt-2",key:e},[o.imagen?((0,r.uX)(),(0,r.CE)("div",Ia,[(0,r.Lk)("img",{class:"imagen",src:o.imagen,alt:" "},null,8,Aa)])):(0,r.Q3)("",!0),(0,r.Lk)("div",qa,[o.usuario?((0,r.uX)(),(0,r.CE)("div",Xa,[Fa,(0,r.eW)(' "'+(0,L.v_)(o.usuario)+'" ',1)])):(0,r.Q3)("",!0),(0,r.Lk)("div",Ta,[Ua,(0,r.eW)(" "+(0,L.v_)(o.nombre),1)]),o.descripcion?((0,r.uX)(),(0,r.CE)("div",Va,[Da,(0,r.eW)(' "'+(0,L.v_)(o.descripcion)+'" ',1)])):(0,r.Q3)("",!0),o.fechaVence?((0,r.uX)(),(0,r.CE)("div",$a,[Ja,(0,r.eW)(' "'+(0,L.v_)(s.formatear(o.fechaVence))+'" ',1)])):(0,r.Q3)("",!0),(0,r.Lk)("button",{class:"btn btn-success derecha mt-2 mb-2",title:"Modificar","data-bs-toggle":"modal","data-bs-target":"#modificarProducto",onClick:e=>s.modificarNegocio(o)},"Modificar",8,Qa)]),(0,r.Lk)("div",Oa,[o.instagram?((0,r.uX)(),(0,r.CE)("a",{key:0,class:"m-2",href:o.instagram,target:"blank"},ja,8,Wa)):((0,r.uX)(),(0,r.CE)("div",za,"Sin Instagram")),o.facebook?((0,r.uX)(),(0,r.CE)("a",{key:2,class:"m-2",href:o.facebook,target:"blank"},Ka,8,Ba)):((0,r.uX)(),(0,r.CE)("div",Ha,"Sin Facebook"))]),(0,r.Lk)("div",Ya,[(0,r.bF)(l,{class:"item-texto-block-end",to:"/"+o.usuario},{default:(0,r.k6)((()=>[Za])),_:2},1032,["to"])])])))),128))])]),(0,r.Lk)("div",ot,[(0,r.Lk)("div",et,[(0,r.Lk)("div",at,[tt,(0,r.Lk)("div",it,[(0,r.Lk)("form",{onSubmit:e[12]||(e[12]=(0,i.D$)((o=>s.modificarPerfil(n.negocioModificar)),["prevent"]))},[(0,r.Lk)("div",rt,[nt,(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"nombre","onUpdate:modelValue":e[1]||(e[1]=o=>n.negocioModificar.usuario=o),placeholder:"Nombre de Usuario",required:""},null,512),[[i.Jo,n.negocioModificar.usuario]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"password",id:"nombre","onUpdate:modelValue":e[2]||(e[2]=o=>n.negocioModificar.contraseña=o),placeholder:"Contraseña"},null,512),[[i.Jo,n.negocioModificar.contraseña]])]),st,(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"nombre","onUpdate:modelValue":e[3]||(e[3]=o=>n.negocioModificar.nombre=o),placeholder:"Nombre del Negocio",required:""},null,512),[[i.Jo,n.negocioModificar.nombre]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"email",id:"correo","onUpdate:modelValue":e[4]||(e[4]=o=>n.negocioModificar.correo=o),placeholder:"Correo"},null,512),[[i.Jo,n.negocioModificar.correo]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"number",id:"telefono","onUpdate:modelValue":e[5]||(e[5]=o=>n.negocioModificar.telefono=o),placeholder:"Teléfono"},null,512),[[i.Jo,n.negocioModificar.telefono]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"direccion","onUpdate:modelValue":e[6]||(e[6]=o=>n.negocioModificar.direccion=o),placeholder:"Dirección",required:""},null,512),[[i.Jo,n.negocioModificar.direccion]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"descripcion","onUpdate:modelValue":e[7]||(e[7]=o=>n.negocioModificar.descripcion=o),placeholder:"Descripción"},null,512),[[i.Jo,n.negocioModificar.descripcion]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"date",id:"fechaVence","onUpdate:modelValue":e[8]||(e[8]=o=>n.negocioModificar.fechaVence=o),placeholder:"Fecha de Vencimiento"},null,512),[[i.Jo,n.negocioModificar.fechaVence]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"instagram","onUpdate:modelValue":e[9]||(e[9]=o=>n.negocioModificar.instagram=o),placeholder:"Instagram"},null,512),[[i.Jo,n.negocioModificar.instagram]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"facebook","onUpdate:modelValue":e[10]||(e[10]=o=>n.negocioModificar.facebook=o),placeholder:"Facebook"},null,512),[[i.Jo,n.negocioModificar.facebook]])]),(0,r.Lk)("div",null,[ct,(0,r.Lk)("input",{class:"form-control",type:"file",name:"imagen",id:"imagen",accept:".jpg",onChange:e[11]||(e[11]=(...e)=>o.imagenSeleccionada&&o.imagenSeleccionada(...e))},null,32)])]),lt],32)])])])],512)])}var ut=a(5768),mt={components:{NavbarAdminComponent:$o},data(){return{negocios:[],busqueda:"",negocioModificar:{usuario:"","contraseña":"",nombre:"",descripcion:"",correo:"",direccion:"",telefono:"",instagram:"",facebook:"",imagen:"",fechaVence:""}}},mounted(){this.fetchNegocios()},methods:{modificarPerfil(o){t.A.put("/modificarPerfilAdmin",{negocio:o}).then((()=>{console.log("enviado");const o=De().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",De().stopTimer),o.addEventListener("mouseleave",De().resumeTimer)}});o.fire({icon:"success",title:"Datos modificados."}),setTimeout((function(){Is.push("/negocios")}),2e3)})).catch((o=>{console.log("error"),console.error("Error al actualizar la información en la base de datos:",o)}))},modificarNegocio(o){this.negocioModificar.usuario=o.usuario,this.negocioModificar.contraseña=o.contraseña,this.negocioModificar.nombre=o.nombre,this.negocioModificar.descripcion=o.descripcion,this.negocioModificar.correo=o.correo,this.negocioModificar.direccion=o.direccion,this.negocioModificar.telefono=o.telefono,this.negocioModificar.instagram=o.instagram,this.negocioModificar.facebook=o.facebook,this.negocioModificar.imagen=o.imagen,this.negocioModificar.fechaVence=(0,ut.GP)(new Date(o.fechaVence),"yyyy-MM-dd"),console.log(this.negocioModificar)},formatear(o){return(0,ut.GP)(new Date(o),"dd/MM/yyyy")},async fetchNegocios(){try{const o=await t.A.get("/listarNegocios");this.negocios=o.data}catch(o){console.error("Error al obtener los datos de los negocios:",o)}finally{this.cargando=!1}}},computed:{negociosFiltrados(){return this.negocios.filter((o=>{const e=o.nombre||"",a=o.descripcion||"";return e.toLowerCase().includes(this.busqueda.toLowerCase())||a.toLowerCase().includes(this.busqueda.toLowerCase())}))}}};const pt=(0,p.A)(mt,[["render",dt],["__scopeId","data-v-a96cf68c"]]);var gt=pt;const bt=o=>((0,r.Qi)("data-v-a9f3d72e"),o=o(),(0,r.jt)(),o),kt={class:"container mt-4 mb-2"},vt=bt((()=>(0,r.Lk)("h1",{class:"text-center"},"Nuevo Producto",-1))),ft={class:"row g-3 div-forms border mt-2"},ht=bt((()=>(0,r.Lk)("h4",{class:"titulo-div-forms mb-2"},"Información del Producto",-1))),Lt={class:"col-md-6"},Ct={class:"col-md-12 mt-3"},yt={class:"col-md-6"},_t=bt((()=>(0,r.Lk)("option",{selected:"",disabled:""},"Categoría",-1))),xt=["value"],Et=bt((()=>(0,r.Lk)("div",{class:"col-md-6 izq"},[(0,r.Lk)("button",{type:"button",class:"btn btn-agregar","data-bs-toggle":"modal","data-bs-target":"#agregarCategoria"}," Agregar Categoría ")],-1))),wt={class:"col-md-6"},Nt={class:"col-md-6"},Pt=bt((()=>(0,r.Lk)("label",{class:"form-label mr-2",for:"imagen"},"Imagen (JPG)",-1))),St=bt((()=>(0,r.Lk)("div",null,[(0,r.Lk)("button",{class:"btn btn-success botones mt-3",type:"submit"},"Registrar")],-1))),Mt={class:"modal fade",id:"agregarCategoria",tabindex:"-1","aria-labelledby":"agregarCategoriaLabel","aria-hidden":"true"},It={class:"modal-dialog modal-dialog-centered"},At={class:"modal-content"},qt=bt((()=>(0,r.Lk)("div",{class:"modal-header"},[(0,r.Lk)("h1",{class:"modal-title fs-5",id:"agregarCategoriaLabel"},"Nueva Categoría"),(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Xt={class:"modal-body"},Ft=bt((()=>(0,r.Lk)("div",{class:"modal-footer"},[(0,r.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cerrar"),(0,r.Lk)("button",{class:"btn btn-primary",type:"submit","data-bs-dismiss":"modal"},"Agregar")],-1)));function Tt(o,e,a,t,n,s){const c=(0,r.g2)("NavbarComponent");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(c),(0,r.Lk)("div",kt,[vt,(0,r.Lk)("form",{onSubmit:e[5]||(e[5]=(0,i.D$)((o=>s.nuevoProducto(this.producto)),["prevent"])),enctype:"multipart/form-data"},[(0,r.Lk)("div",ft,[ht,(0,r.Lk)("div",Lt,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"nombre","onUpdate:modelValue":e[0]||(e[0]=o=>n.producto.nombre=o),placeholder:"Nombre del Producto",required:""},null,512),[[i.Jo,n.producto.nombre]])]),(0,r.Lk)("div",Ct,[(0,r.bo)((0,r.Lk)("textarea",{class:"form-control",type:"text",id:"descripcion","onUpdate:modelValue":e[1]||(e[1]=o=>n.producto.descripcion=o),placeholder:"Descripción"},null,512),[[i.Jo,n.producto.descripcion]])]),(0,r.Lk)("div",yt,[(0,r.bo)((0,r.Lk)("select",{class:"form-select","onUpdate:modelValue":e[2]||(e[2]=o=>n.producto.categoria=o),id:"",required:""},[_t,((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.categorias,(o=>((0,r.uX)(),(0,r.CE)("option",{key:o.id,value:o.categoria_nombre},(0,L.v_)(o.categoria_nombre),9,xt)))),128))],512),[[i.u1,n.producto.categoria]])]),Et,(0,r.Lk)("div",wt,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"number",id:"precio","onUpdate:modelValue":e[3]||(e[3]=o=>n.producto.precio=o),placeholder:"Precio (sin $)"},null,512),[[i.Jo,n.producto.precio]])]),(0,r.Lk)("div",Nt,[Pt,(0,r.Lk)("input",{class:"form-control",type:"file",name:"imagen",id:"imagen",accept:".jpg",onChange:e[4]||(e[4]=o=>s.imagenSeleccionada(o))},null,32)])]),St],32),(0,r.Lk)("div",Mt,[(0,r.Lk)("div",It,[(0,r.Lk)("div",At,[qt,(0,r.Lk)("div",Xt,[(0,r.Lk)("form",{onSubmit:e[7]||(e[7]=(0,i.D$)(((...o)=>s.agregarCategoria&&s.agregarCategoria(...o)),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"nombre","onUpdate:modelValue":e[6]||(e[6]=o=>n.categoria_nombre=o),placeholder:"Nombre de la Categoría",required:""},null,512),[[i.Jo,n.categoria_nombre]]),Ft],32)])])])])])])}var Ut={components:{NavbarComponent:fo},data(){return{producto:{nombre:"",descripcion:"",categoria:"Categoría",precio:"",imagen:"",usuario:""},categoria_nombre:"",categorias:[],modalAbierto:!1}},created(){this.obtenerCategorias(),this.obtenerUsuario()},methods:{obtenerUsuario(){this.producto.usuario=localStorage.getItem("usuario")},obtenerCategorias(){t.A.get(`/categorias?usuario=${localStorage.getItem("usuario")}`).then((o=>{this.categorias=o.data})).catch((o=>{console.error("Error al obtener las categorías:",o)}))},imagenSeleccionada(o){const e=o.target.files[0];if(e){const o=new FileReader;o.onload=o=>{this.producto.imagen=o.target.result},o.readAsDataURL(e)}},nuevoProducto(o){t.A.post("/nuevoProducto",{producto:o}).then((()=>{const o=De().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",De().stopTimer),o.addEventListener("mouseleave",De().resumeTimer)}});o.fire({icon:"success",title:"Producto agregado."}),this.modalAbierto=!0,setTimeout((function(){Is.push("/nuevoProducto")}),2e3)})).catch((()=>{De().fire({icon:"error",text:"No se pudo agregar el producto."})}))},agregarCategoria(){t.A.post("nuevaCategoria",{categoria_nombre:this.categoria_nombre,usuario_nombre:localStorage.getItem("usuario")}).then((()=>{this.obtenerCategorias(),this.producto.categoria=this.categoria_nombre,this.categoria_nombre="";const o=De().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",De().stopTimer),o.addEventListener("mouseleave",De().resumeTimer)}});o.fire({icon:"success",title:"Categoría agregada."}),this.modalAbierto=!0})).catch((()=>{De().fire({icon:"error",text:"No se pudo agregar la categoría."})}))}}};const Vt=(0,p.A)(Ut,[["render",Tt],["__scopeId","data-v-a9f3d72e"]]);var Dt=Vt;const $t=o=>((0,r.Qi)("data-v-608c28a2"),o=o(),(0,r.jt)(),o),Jt={class:"container mt-4 mb-2"},Qt=$t((()=>(0,r.Lk)("h1",{class:"text-center"},"Listado de Productos",-1))),Ot={class:"flex"},Wt={class:"izquierda ancho-busqueda"},Rt={class:"ancho border border-2 mt-2"},jt={class:"table table-light table-striped text-center",id:"informe-table"},zt=$t((()=>(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Nombre del Producto"),(0,r.Lk)("th",null,"Descripción"),(0,r.Lk)("th",null,"Categoría"),(0,r.Lk)("th",null,"Precio"),(0,r.Lk)("th",null,"¿Disponible?"),(0,r.Lk)("th",null,"Imagen"),(0,r.Lk)("th"),(0,r.Lk)("th")])],-1))),Bt={class:"form-check form-switch"},Gt=["onChange","checked"],Kt=["src"],Ht={key:1},Yt=$t((()=>(0,r.Lk)("img",{class:"imagen",src:"/recursos/missing-img.png",alt:""},null,-1))),Zt=[Yt],oi=["onClick"],ei=["onClick"],ai={key:0,class:"text-center mt-3"},ti={class:"modal fade",id:"modificarProducto",tabindex:"-1","aria-labelledby":"modificarProductoLabel","aria-hidden":"true",ref:"modalModificar"},ii={class:"modal-dialog modal-dialog-centered"},ri={class:"modal-content"},ni=$t((()=>(0,r.Lk)("div",{class:"modal-header"},[(0,r.Lk)("h1",{class:"modal-title fs-5",id:"modificarProductoLabel"},"Modificar Producto"),(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),si={class:"modal-body"},ci={class:"row g-3 div-forms border"},li=$t((()=>(0,r.Lk)("h4",{class:"titulo-div-forms mb-2"},"Información del Producto",-1))),di=$t((()=>(0,r.Lk)("option",{selected:"",disabled:""},"Categoría",-1))),ui=["value"],mi=$t((()=>(0,r.Lk)("div",null,[(0,r.Lk)("button",{type:"button",class:"btn btn-agregar","data-bs-toggle":"modal","data-bs-target":"#agregarCategoria"}," Agregar Categoría ")],-1))),pi=$t((()=>(0,r.Lk)("label",{class:"form-label mr-2",for:"imagen"},"Imagen (JPG)",-1))),gi=$t((()=>(0,r.Lk)("div",{class:"text-end"},[(0,r.Lk)("button",{class:"btn btn-success botones mt-3",type:"submit","data-bs-dismiss":"modal","aria-label":"Close"},"Modificar")],-1))),bi={class:"modal fade",id:"agregarCategoria",tabindex:"-1","aria-labelledby":"agregarCategoriaLabel","aria-hidden":"true"},ki={class:"modal-dialog modal-dialog-centered"},vi={class:"modal-content"},fi=$t((()=>(0,r.Lk)("div",{class:"modal-header"},[(0,r.Lk)("h1",{class:"modal-title fs-5",id:"agregarCategoriaLabel"},"Nueva Categoría"),(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),hi={class:"modal-body"},Li=$t((()=>(0,r.Lk)("div",{class:"modal-footer"},[(0,r.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-target":"#modificarProducto","data-bs-toggle":"modal","data-bs-dismiss":"modal"},"Cerrar"),(0,r.Lk)("button",{class:"btn btn-primary",type:"submit","data-bs-target":"#modificarProducto","data-bs-toggle":"modal","data-bs-dismiss":"modal"},"Agregar")],-1)));function Ci(o,e,a,t,n,s){const c=(0,r.g2)("NavbarComponent");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(c),(0,r.Lk)("div",Jt,[Qt,(0,r.Lk)("div",Ot,[(0,r.Lk)("div",Wt,[(0,r.bo)((0,r.Lk)("input",{class:"form-control barra-busqueda","onUpdate:modelValue":e[0]||(e[0]=o=>n.busqueda=o),type:"text",name:"busqueda",id:"",placeholder:"Buscar",title:"Ingrese una palabra clave..."},null,512),[[i.Jo,n.busqueda]])])]),(0,r.Lk)("div",Rt,[(0,r.Lk)("table",jt,[zt,(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.productosFiltrados,((o,e)=>((0,r.uX)(),(0,r.CE)("tr",{class:"mauto",key:e},[(0,r.Lk)("td",null,(0,L.v_)(o.producto_nombre),1),(0,r.Lk)("td",null,(0,L.v_)(o.producto_descripcion),1),(0,r.Lk)("td",null,(0,L.v_)(o.producto_categoria),1),(0,r.Lk)("td",null,(0,L.v_)(o.producto_precio),1),(0,r.Lk)("td",null,[(0,r.Lk)("div",Bt,[(0,r.Lk)("input",{type:"checkbox",onChange:e=>s.actualizarEstadoProducto(o),class:"form-check-input",name:"",id:"productoDisponible",checked:1===o.producto_disponibilidad},null,40,Gt)])]),(0,r.Lk)("td",null,[o.producto_imagen?((0,r.uX)(),(0,r.CE)("img",{key:0,class:"imagen",src:o.producto_imagen,alt:""},null,8,Kt)):((0,r.uX)(),(0,r.CE)("div",Ht,Zt))]),(0,r.Lk)("td",null,[(0,r.Lk)("button",{class:"btn btn-success",title:"Modificar","data-bs-toggle":"modal","data-bs-target":"#modificarProducto",onClick:e=>s.modificar(o)},"Modificar",8,oi)]),(0,r.Lk)("td",null,[(0,r.Lk)("button",{class:"btn btn-danger",title:"Eliminar",onClick:e=>s.eliminar(o.producto_id)},"Eliminar",8,ei)])])))),128))])]),0===s.productosFiltrados.length?((0,r.uX)(),(0,r.CE)("div",ai," No se encontraron resultados para esa búsqueda. ")):(0,r.Q3)("",!0)]),(0,r.Lk)("div",ti,[(0,r.Lk)("div",ii,[(0,r.Lk)("div",ri,[ni,(0,r.Lk)("div",si,[(0,r.Lk)("form",{onSubmit:e[6]||(e[6]=(0,i.D$)((o=>s.modificarProducto(this.productoModificar)),["prevent"]))},[(0,r.Lk)("div",ci,[li,(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"nombre","onUpdate:modelValue":e[1]||(e[1]=o=>n.productoModificar.producto_nombre=o),required:""},null,512),[[i.Jo,n.productoModificar.producto_nombre]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("textarea",{class:"form-control",type:"text",id:"descripcion","onUpdate:modelValue":e[2]||(e[2]=o=>n.productoModificar.producto_descripcion=o),placeholder:"Descripción"},null,512),[[i.Jo,n.productoModificar.producto_descripcion]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("select",{class:"form-select","onUpdate:modelValue":e[3]||(e[3]=o=>n.productoModificar.producto_categoria=o),id:"",required:""},[di,((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.categorias,(o=>((0,r.uX)(),(0,r.CE)("option",{key:o.id,value:o.categoria_nombre},(0,L.v_)(o.categoria_nombre),9,ui)))),128))],512),[[i.u1,n.productoModificar.producto_categoria]])]),mi,(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"number",id:"precio","onUpdate:modelValue":e[4]||(e[4]=o=>n.productoModificar.producto_precio=o),placeholder:"Precio (sin $)"},null,512),[[i.Jo,n.productoModificar.producto_precio]])]),(0,r.Lk)("div",null,[pi,(0,r.Lk)("input",{class:"form-control",type:"file",name:"imagen",id:"imagen",accept:".jpg",onChange:e[5]||(e[5]=(...o)=>s.imagenSeleccionada&&s.imagenSeleccionada(...o))},null,32)])]),gi],32)])])])],512),(0,r.Lk)("div",bi,[(0,r.Lk)("div",ki,[(0,r.Lk)("div",vi,[fi,(0,r.Lk)("div",hi,[(0,r.Lk)("form",{onSubmit:e[8]||(e[8]=(0,i.D$)(((...o)=>s.agregarCategoria&&s.agregarCategoria(...o)),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"nombre","onUpdate:modelValue":e[7]||(e[7]=o=>n.categoria_nombre=o),placeholder:"Nombre de la Categoría",required:""},null,512),[[i.Jo,n.categoria_nombre]]),Li],32)])])])])])])}var yi={components:{NavbarComponent:fo},data(){return{productos:[],productoModificar:"",busqueda:"",usuario:localStorage.getItem("usuario"),producto:{nombre:"",descripcion:"",categoria:"Categoría",precio:"",imagen:"",usuario:""},categoria_nombre:"",categorias:[],modalAbierto:!1}},created(){this.fetchProductos()},computed:{productosFiltrados(){return this.productos.filter((o=>{const e=o.producto_nombre||"",a=o.producto_descripcion||"",t=o.producto_categoria||"",i=o.producto_precio||"";return e.toLowerCase().includes(this.busqueda.toLowerCase())||a.toLowerCase().includes(this.busqueda.toLowerCase())||t.toLowerCase().includes(this.busqueda.toLowerCase())||i.toLowerCase().includes(this.busqueda.toLowerCase())}))}},methods:{async fetchCategorias(){t.A.get(`/categorias?usuario=${localStorage.getItem("usuario")}`).then((o=>{this.categorias=o.data})).catch((o=>{console.error("Error al obtener las categorías:",o)}))},modificar(o){this.fetchCategorias(),this.productoModificar=o},actualizarEstadoProducto(o){o.producto_disponibilidad?o.producto_disponibilidad=0:o.producto_disponibilidad=1,t.A.put("/actualizarDisponibilidad",{productoId:o.producto_id,nuevoEstado:o.producto_disponibilidad}).then((()=>{})).catch((e=>{console.error("Error al actualizar el estado en la base de datos:",e),o.producto_disponibilidad=!o.producto_disponibilidad}))},async fetchProductos(){try{const o=await t.A.get(`/productos?usuario=${this.usuario}`);this.productos=o.data}catch(o){console.error("Error al cargar los productos:",o)}},modificarProducto(o){t.A.put("/modificarProducto",{producto:o}).then((()=>{const o=De().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",De().stopTimer),o.addEventListener("mouseleave",De().resumeTimer)}});o.fire({icon:"success",title:"Producto modificado."})})).catch((o=>{console.error("Error al actualizar el estado en la base de datos:",o)}))},eliminar(o){De().fire({icon:"info",title:"<strong>¿Estas segur@?</strong>",html:"",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonText:"No, cancelar",confirmButtonText:"Sí, eliminar!"}).then((e=>{e.isConfirmed&&t.A.delete("/eliminarProducto",{data:{productoId:o}}).then((()=>{const e=this.productos.findIndex((e=>e.producto_id===o));-1!==e&&this.productos.splice(e,1);const a=De().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",De().stopTimer),o.addEventListener("mouseleave",De().resumeTimer)}});a.fire({icon:"success",title:"Producto eliminado."})})).catch((o=>{console.error("Error al eliminar el producto:",o),De().fire({icon:"error",title:"Error al eliminar",text:o.message})}))}))},agregarCategoria(){t.A.post("nuevaCategoria",{categoria_nombre:this.categoria_nombre,usuario_nombre:localStorage.getItem("usuario")}).then((()=>{this.productoModificar.producto_categoria=this.categoria_nombre,this.categoria_nombre="";const o=De().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",De().stopTimer),o.addEventListener("mouseleave",De().resumeTimer)}});o.fire({icon:"success",title:"Categoría agregada."}),this.modalAbierto=!0})).catch((()=>{De().fire({icon:"error",text:"No se pudo agregar la categoría."})}))},imagenSeleccionada(o){const e=o.target.files[0];if(e){const o=new FileReader;o.onload=o=>{this.productoModificar.producto_imagen=o.target.result},o.readAsDataURL(e)}}}};const _i=(0,p.A)(yi,[["render",Ci],["__scopeId","data-v-608c28a2"]]);var xi=_i;function Ei(o,e,a,t,i,n){const s=(0,r.g2)("NavbarComponent");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(s)])}var wi={components:{NavbarComponent:fo}};const Ni=(0,p.A)(wi,[["render",Ei]]);var Pi=Ni;function Si(o,e,a,t,i,n){const s=(0,r.g2)("NavbarComponent");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(s)])}var Mi={components:{NavbarComponent:fo}};const Ii=(0,p.A)(Mi,[["render",Si]]);var Ai=Ii;const qi=o=>((0,r.Qi)("data-v-15f87e2a"),o=o(),(0,r.jt)(),o),Xi={key:0,class:"pantalla-carga text-center"},Fi=qi((()=>(0,r.Lk)("div",{class:"logo-carga"},[(0,r.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:""}),(0,r.Lk)("div",{class:"texto-carga"}," Cargando productos ")],-1))),Ti=[Fi],Ui={key:1},Vi={class:"navbar navbar-expand-lg navbar-light bg-light"},Di={class:"container-fluid"},$i=qi((()=>(0,r.Lk)("button",{class:"navbar-brand navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,r.Lk)("span",{class:"navbar-toggler-icon"})],-1))),Ji={class:"collapse navbar-collapse",id:"navbarSupportedContent"},Qi={class:"navbar-nav me-auto mb-2 mb-lg-0"},Oi={key:0,class:"nav-item"},Wi=["onClick"],Ri={class:"container2"},ji={key:0},zi={class:"presentacion"},Bi={class:"imagen-container"},Gi=["src"],Ki={class:"texto-superpuesto"},Hi={class:"texto-superpuesto2"},Yi={class:"text-center"},Zi=["href"],or=qi((()=>(0,r.Lk)("img",{width:"40",src:"/recursos/instagram.png"},null,-1))),er=[or],ar=["href"],tr=qi((()=>(0,r.Lk)("img",{width:"36",src:"/recursos/facebook.png"},null,-1))),ir=[tr],rr={class:"tarjeta-container"},nr={class:"ancho"},sr={class:"izquierda ancho-busqueda"},cr=["id"],lr={key:0},dr={class:"titulo-categoria"},ur={class:"p-2"},mr={key:0,class:"item-imagen"},pr=["src"],gr={class:"item-texto-block"},br={class:"item-texto-block-start"},kr={class:"item-nombre"},vr={class:"item-precio"},fr={key:0,class:"item-descripcion"},hr={key:1,class:"item-texto-block-end"},Lr=["onClick"],Cr={class:"cantidad"},yr=["onClick","disabled"],_r={key:0,class:"ver-carrito-btn"},xr={"data-bs-toggle":"modal","data-bs-target":"#modalCarrito"},Er={key:1,class:"text-center mt-3"},wr={key:1,class:"container text-center mt-4 no-negocio"},Nr=(0,r.Fv)('<div class="error-container" data-v-15f87e2a><div class="error-content" data-v-15f87e2a><h1 class="display-1 text-danger" data-v-15f87e2a>404</h1><h2 class="display-4" data-v-15f87e2a>Página no encontrada</h2><p class="lead" data-v-15f87e2a>Lo sentimos, la página que buscas no se encuentra disponible.</p></div></div>',1),Pr=[Nr],Sr={class:"modal fade",id:"modalCarrito",tabindex:"-1","aria-labelledby":"modalCarritoLabel","aria-hidden":"true"},Mr={class:"modal-dialog"},Ir={class:"modal-content"},Ar=qi((()=>(0,r.Lk)("div",{class:"modal-header"},[(0,r.Lk)("h5",{class:"modal-title"},"¿Todo listo para encargar?"),(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),qr={class:"modal-body"},Xr={key:0,class:"item-imagen"},Fr=["src"],Tr={class:"item-texto-block"},Ur={class:"item-texto-block-start"},Vr={class:"item-nombre"},Dr={class:"item-precio"},$r={key:0,class:"item-descripcion"},Jr={class:"item-texto-block-end"},Qr=["onClick"],Or={class:"cantidad"},Wr=["onClick","disabled"],Rr={class:"text-end mt-4"},jr={class:"modal-footer"},zr=["disabled"],Br={class:"modal fade",id:"modalPedido",tabindex:"-1","aria-labelledby":"modalPedidoLabel","aria-hidden":"true"},Gr={class:"modal-dialog"},Kr={class:"modal-content"},Hr=qi((()=>(0,r.Lk)("div",{class:"modal-header"},[(0,r.Lk)("h5",{class:"modal-title"},"Tus datos"),(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Yr={class:"modal-body"},Zr=qi((()=>(0,r.Lk)("option",{value:"Transferencia"},"Transferencia",-1))),on=qi((()=>(0,r.Lk)("option",{value:"Efectivo"},"Efectivo",-1))),en=[Zr,on],an={class:"modal-footer"},tn=["disabled"];function rn(o,e,a,t,n,s){return(0,r.uX)(),(0,r.CE)("div",null,[n.cargando?((0,r.uX)(),(0,r.CE)("div",Xi,Ti)):((0,r.uX)(),(0,r.CE)("div",Ui,[(0,r.Lk)("nav",Vi,[(0,r.Lk)("div",Di,[(0,r.Lk)("a",{class:"navbar-brand",onClick:e[0]||(e[0]=(...o)=>s.scrollToInicio&&s.scrollToInicio(...o)),href:"#"},"~ "+(0,L.v_)(n.nombreNegocio.toUpperCase())+" ~",1),$i,(0,r.Lk)("div",Ji,[(0,r.Lk)("ul",Qi,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.categoriasOrdenadas,((o,e)=>((0,r.uX)(),(0,r.CE)("div",{key:e},[s.categoriasConProductosFiltrados.includes(o)?((0,r.uX)(),(0,r.CE)("li",Oi,[(0,r.Lk)("a",{class:"nav-link",onClick:e=>{s.scrollToCategoria(o),s.collapseNavbar()}},(0,L.v_)(o),9,Wi)])):(0,r.Q3)("",!0)])))),128))])])])]),(0,r.Lk)("div",Ri,[n.productos.length?((0,r.uX)(),(0,r.CE)("div",ji,[(0,r.Lk)("div",zi,[(0,r.Lk)("div",Bi,[(0,r.Lk)("img",{src:n.negocio.imagen,alt:"",class:"img-negocio"},null,8,Gi),(0,r.Lk)("div",Ki,[(0,r.eW)("BIENVENIDOS "),(0,r.Lk)("div",Hi,'"'+(0,L.v_)(n.negocio.descripcion)+'"',1),(0,r.Lk)("div",Yi,[n.negocio.instagram?((0,r.uX)(),(0,r.CE)("a",{key:0,class:"mauto",href:n.negocio.instagram,target:"blank"},er,8,Zi)):(0,r.Q3)("",!0),n.negocio.facebook?((0,r.uX)(),(0,r.CE)("a",{key:1,class:"mauto",href:n.negocio.facebook,target:"blank"},ir,8,ar)):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",rr,[(0,r.Lk)("div",nr,[(0,r.Lk)("div",sr,[(0,r.bo)((0,r.Lk)("input",{class:"form-control barra-busqueda","onUpdate:modelValue":e[1]||(e[1]=o=>n.busqueda=o),type:"text",name:"busqueda",id:"",placeholder:"Buscar producto",title:"Ingrese una palabra clave..."},null,512),[[i.Jo,n.busqueda]])]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.categoriasOrdenadas,((o,e)=>((0,r.uX)(),(0,r.CE)("div",{class:"mt-2",key:e,id:o},[s.filteredProductos(o)?((0,r.uX)(),(0,r.CE)("div",lr,[(0,r.Lk)("div",dr,(0,L.v_)(o),1),(0,r.Lk)("div",ur,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.filteredProductos(o),((o,e)=>((0,r.uX)(),(0,r.CE)("div",{class:"item-container mt-2",key:e},[o.producto_imagen?((0,r.uX)(),(0,r.CE)("div",mr,[(0,r.Lk)("div",null,[(0,r.Lk)("img",{class:"imagen",src:o.producto_imagen,alt:" "},null,8,pr)])])):(0,r.Q3)("",!0),(0,r.Lk)("div",gr,[(0,r.Lk)("div",br,[(0,r.Lk)("div",kr,(0,L.v_)(o.producto_nombre),1),(0,r.Lk)("div",vr," $"+(0,L.v_)(o.producto_precio),1),o.producto_descripcion?((0,r.uX)(),(0,r.CE)("div",fr,' "'+(0,L.v_)(o.producto_descripcion)+'" ',1)):(0,r.Q3)("",!0)])]),2100!==n.negocio.fechaVence?((0,r.uX)(),(0,r.CE)("div",hr,[(0,r.Lk)("button",{class:"btn-mas",onClick:e=>s.agregarAlCarrito(o)}," + ",8,Lr),(0,r.Lk)("div",Cr,(0,L.v_)(o.cantidadSeleccionada),1),(0,r.Lk)("button",{class:"btn-menos",onClick:e=>s.quitarDelCarrito(o),disabled:!o.cantidadSeleccionada}," - ",8,yr)])):(0,r.Q3)("",!0)])))),128))])])):(0,r.Q3)("",!0)],8,cr)))),128)),n.carrito.length>0?((0,r.uX)(),(0,r.CE)("div",_r,[(0,r.Lk)("button",xr,"Ver Carrito $"+(0,L.v_)(n.total),1)])):(0,r.Q3)("",!0),0===s.productosFiltrados.length?((0,r.uX)(),(0,r.CE)("div",Er," No se encontraron resultados para esa búsqueda. ")):(0,r.Q3)("",!0)])])])):((0,r.uX)(),(0,r.CE)("div",wr,Pr))])])),(0,r.Lk)("div",Sr,[(0,r.Lk)("div",Mr,[(0,r.Lk)("div",Ir,[Ar,(0,r.Lk)("div",qr,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.carrito,((o,e)=>((0,r.uX)(),(0,r.CE)("div",{class:"item-container mt-2",key:e},[o.producto_imagen?((0,r.uX)(),(0,r.CE)("div",Xr,[(0,r.Lk)("div",null,[(0,r.Lk)("img",{class:"imagen",src:o.producto_imagen,alt:" "},null,8,Fr)])])):(0,r.Q3)("",!0),(0,r.Lk)("div",Tr,[(0,r.Lk)("div",Ur,[(0,r.Lk)("div",Vr,(0,L.v_)(o.producto_nombre),1),(0,r.Lk)("div",Dr," $"+(0,L.v_)(o.producto_precio),1),o.producto_descripcion?((0,r.uX)(),(0,r.CE)("div",$r,' "'+(0,L.v_)(o.producto_descripcion)+'" ',1)):(0,r.Q3)("",!0)])]),(0,r.Lk)("div",Jr,[(0,r.Lk)("button",{class:"btn-mas",onClick:e=>s.agregarAlCarrito(o)}," + ",8,Qr),(0,r.Lk)("div",Or,(0,L.v_)(o.cantidadSeleccionada),1),(0,r.Lk)("button",{class:"btn-menos",onClick:e=>s.quitarDelCarrito(o),disabled:!o.cantidadSeleccionada}," - ",8,Wr)])])))),128)),(0,r.Lk)("h4",Rr,"Total: $"+(0,L.v_)(n.total),1)]),(0,r.Lk)("div",jr,[(0,r.Lk)("button",{type:"button",class:"ver-carrito-btn2",disabled:!n.carrito.length>0,"data-bs-toggle":"modal","data-bs-target":"#modalPedido"},"Realizar pedido",8,zr)])])])]),(0,r.Lk)("div",Br,[(0,r.Lk)("div",Gr,[(0,r.Lk)("div",Kr,[Hr,(0,r.Lk)("form",{onSubmit:e[6]||(e[6]=(0,i.D$)(((...o)=>s.realizarPedido&&s.realizarPedido(...o)),["prevent"]))},[(0,r.Lk)("div",Yr,[(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",placeholder:"Nombre y Apellido","onUpdate:modelValue":e[2]||(e[2]=o=>n.pedido.nombre=o),required:""},null,512),[[i.Jo,n.pedido.nombre]]),(0,r.bo)((0,r.Lk)("select",{class:"form-control form-select mt-4",id:"","onUpdate:modelValue":e[3]||(e[3]=o=>n.pedido.medio=o),required:""},en,512),[[i.u1,n.pedido.medio]]),(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control mt-4",placeholder:"Dirección","onUpdate:modelValue":e[4]||(e[4]=o=>n.pedido.direccion=o),required:""},null,512),[[i.Jo,n.pedido.direccion]]),(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control mt-4",placeholder:"Detalle del pedido","onUpdate:modelValue":e[5]||(e[5]=o=>n.pedido.detalle=o)},null,512),[[i.Jo,n.pedido.detalle]])]),(0,r.Lk)("div",an,[(0,r.Lk)("button",{type:"submit",class:"ver-carrito-btn2",disabled:!n.carrito.length>0,"data-bs-dismiss":"modal"},"Realizar pedido",8,tn)])],32)])])])])}var nn={data(){return{mostrarModal:!0,nombreNegocio:"",productos:[],busqueda:"",negocio:{usuario:"",nombre:"",correo:"",telefono:"",direccion:"",descripcion:"",imagen:"",fechaVence:""},cargando:!0,carrito:[],total:0,pedido:{nombre:"",medio:"Transferencia",direccion:"",detalle:""}}},mounted(){this.nombreNegocio=this.$route.params.nombreNegocio,this.obtenerInformacionNegocio()},computed:{categoriasOrdenadas(){return[...new Set(this.productosFiltrados.map((o=>o.producto_categoria)))].sort()},productosFiltrados(){return this.productos.filter((o=>{const e=o.producto_nombre||"",a=o.producto_descripcion||"",t=o.producto_categoria||"",i=o.producto_precio||"";return e.toLowerCase().includes(this.busqueda.toLowerCase())||a.toLowerCase().includes(this.busqueda.toLowerCase())||t.toLowerCase().includes(this.busqueda.toLowerCase())||i.toLowerCase().includes(this.busqueda.toLowerCase())}))},categoriasConProductosFiltrados(){return[...new Set(this.productosFiltrados.map((o=>o.producto_categoria)))]}},methods:{async obtenerCarrito(){if(null!==sessionStorage.getItem("carrito")){this.carrito=JSON.parse(sessionStorage.getItem("carrito")),this.total=parseFloat(sessionStorage.getItem("total"));for(const o of this.productos){const e=this.carrito.findIndex((e=>e.producto_id===o.producto_id));-1!==e&&(o.cantidadSeleccionada=this.carrito[e].cantidadSeleccionada)}}null!==localStorage.getItem("pedido")&&(this.pedido=JSON.parse(localStorage.getItem("pedido")))},realizarPedido(){localStorage.setItem("pedido",JSON.stringify(this.pedido));const o=`¡Hola *${this.negocio.nombre}*! Quiero realizar un pedido:\n`,e=this.carrito.map((o=>`*${o.producto_nombre}:* $${o.producto_precio} (${o.cantidadSeleccionada})\n\n`)),a=`*Total: $${this.total}*\n\n`;let t=`*Nombre:* ${this.pedido.nombre}\n*Medio de pago:* ${this.pedido.medio}\n*Dirección:* ${this.pedido.direccion}\n`;this.pedido.detalle?t+=`*Detalle:* ${this.pedido.detalle}\n\n¡Muchas gracias!`:t+="\n¡Muchas gracias!";const i=o+e.join("")+a+t,r=navigator.userAgent||navigator.vendor||window.opera,n=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(r);let s=n?"whatsapp://send":"https://web.whatsapp.com/send";const c=`${s}?phone=${this.negocio.telefono}&text=${encodeURIComponent(i)}`;sessionStorage.clear(),window.open(c),Is.push("/"+this.negocio.usuario)},agregarAlCarrito(o){const e=this.carrito.findIndex((e=>e.producto_id===o.producto_id));-1!==e?(o.cantidadSeleccionada++,this.carrito[e].cantidadSeleccionada=o.cantidadSeleccionada,this.total+=Number(o.producto_precio)):(o.cantidadSeleccionada=1,this.carrito.push(o),this.total+=Number(o.producto_precio)),sessionStorage.setItem("carrito",JSON.stringify(this.carrito)),sessionStorage.setItem("total",JSON.stringify(this.total))},quitarDelCarrito(o){const e=this.carrito.findIndex((e=>e.producto_id===o.producto_id));-1!==e&&(o.cantidadSeleccionada--,this.carrito[e].cantidadSeleccionada=o.cantidadSeleccionada,this.total-=Number(o.producto_precio),0===this.carrito[e].cantidadSeleccionada&&this.carrito.splice(e,1)),sessionStorage.setItem("carrito",JSON.stringify(this.carrito)),sessionStorage.setItem("total",JSON.stringify(this.total))},async obtenerInformacionNegocio(){try{const o=await t.A.get(`/negocio?usuario=${this.nombreNegocio}`);this.negocio=o.data,this.fetchProductos()}catch(o){console.error("Error al cargar los productos:",o)}finally{this.cargando=!1}},scrollToCategoria(o){const e=document.getElementById(o);if(e){const o=document.querySelector(".navbar").offsetHeight,a=e.getBoundingClientRect().top;window.scrollTo({top:window.scrollY+a-o,behavior:"smooth"})}},scrollToInicio(){window.scrollTo({top:0,behavior:"smooth"})},collapseNavbar(){const o=document.querySelector(".navbar-toggler"),e=document.querySelector(".navbar-collapse");o&&e.classList.contains("show")&&o.click()},async fetchProductos(){try{const o=await t.A.get(`/productos?usuario=${this.nombreNegocio}`),e=o.data.filter((o=>o.producto_disponibilidad)),a=e.sort(((o,e)=>{const a=o.producto_nombre.toUpperCase(),t=e.producto_nombre.toUpperCase();return a<t?-1:a>t?1:0}));a.forEach((o=>{o.cantidadSeleccionada=0})),this.productos=a,this.obtenerCarrito()}catch(o){console.error("Error al cargar los productos:",o)}finally{this.cargando=!1}},filteredProductos(o){return this.productosFiltrados.filter((e=>e.producto_categoria===o&&1===e.producto_disponibilidad))}}};const sn=(0,p.A)(nn,[["render",rn],["__scopeId","data-v-15f87e2a"]]);var cn=sn;const ln=o=>((0,r.Qi)("data-v-390db8b8"),o=o(),(0,r.jt)(),o),dn={class:"container mt-2 mb-2"},un={key:0},mn={class:"tarjeta-container"},pn=ln((()=>(0,r.Lk)("div",{class:"titulo-categoria"},"Mi Perfil",-1))),gn={class:"p-2 text-center"},bn={class:"tarjetaProducto"},kn={key:0},vn=["src"],fn={class:"textoTarjeta"},hn={class:"flex mt-2"},Ln={class:"izquierda"},Cn=ln((()=>(0,r.Lk)("hr",{class:"mt-2 mb-2"},null,-1))),yn={class:"descripcion text-start"},_n=ln((()=>(0,r.Lk)("strong",null,"Correo:",-1))),xn=ln((()=>(0,r.Lk)("br",null,null,-1))),En=ln((()=>(0,r.Lk)("strong",null,"Teléfono:",-1))),wn=ln((()=>(0,r.Lk)("br",null,null,-1))),Nn=ln((()=>(0,r.Lk)("strong",null,"Dirección:",-1))),Pn=ln((()=>(0,r.Lk)("br",null,null,-1))),Sn=ln((()=>(0,r.Lk)("strong",null,"Descripción:",-1))),Mn=ln((()=>(0,r.Lk)("br",null,null,-1))),In={class:"text-center"},An=["href"],qn=ln((()=>(0,r.Lk)("img",{width:"40",src:"/recursos/instagram.png"},null,-1))),Xn=[qn],Fn={key:1},Tn=["href"],Un=ln((()=>(0,r.Lk)("img",{width:"36",src:"/recursos/facebook.png"},null,-1))),Vn=[Un],Dn={key:3},$n=ln((()=>(0,r.Lk)("button",{class:"btn btn-success derecha mt-2 mb-2",title:"Modificar","data-bs-toggle":"modal","data-bs-target":"#modificarProducto"},"Modificar",-1))),Jn={class:"modal fade",id:"modificarProducto",tabindex:"-1","aria-labelledby":"modificarProductoLabel","aria-hidden":"true",ref:"modalModificar"},Qn={class:"modal-dialog modal-dialog-centered"},On={class:"modal-content"},Wn=ln((()=>(0,r.Lk)("div",{class:"modal-header"},[(0,r.Lk)("h1",{class:"modal-title fs-5",id:"modificarProductoLabel"},"Modificar Datos"),(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Rn={class:"modal-body"},jn={class:"row g-3 div-forms border"},zn=ln((()=>(0,r.Lk)("h4",{class:"titulo-div-forms mb-2"},"Información del Negocio",-1))),Bn=ln((()=>(0,r.Lk)("label",{class:"form-label mr-2",for:"imagen"},"Imagen (JPG)",-1))),Gn=ln((()=>(0,r.Lk)("div",{class:"text-end"},[(0,r.Lk)("button",{class:"btn btn-success botones mt-3",type:"submit","data-bs-dismiss":"modal","aria-label":"Close"},"Modificar")],-1)));function Kn(o,e,a,t,n,s){const c=(0,r.g2)("NavbarComponent");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(c),(0,r.Lk)("div",dn,[n.negocio?((0,r.uX)(),(0,r.CE)("div",un,[(0,r.Lk)("div",mn,[(0,r.Lk)("div",null,[pn,(0,r.Lk)("div",gn,[(0,r.Lk)("div",bn,[n.negocio.imagen?((0,r.uX)(),(0,r.CE)("div",kn,[(0,r.Lk)("img",{class:"imagen",src:n.negocio.imagen,alt:" "},null,8,vn)])):(0,r.Q3)("",!0),(0,r.Lk)("div",fn,[(0,r.Lk)("div",hn,[(0,r.Lk)("h3",Ln,(0,L.v_)(n.negocio.nombre),1)]),Cn,(0,r.Lk)("div",yn,[_n,(0,r.eW)(" "+(0,L.v_)(n.negocio.correo)+" ",1),xn,En,(0,r.eW)(" "+(0,L.v_)(n.negocio.telefono)+" ",1),wn,Nn,(0,r.eW)(" "+(0,L.v_)(n.negocio.direccion)+" ",1),Pn,Sn,(0,r.eW)(" "+(0,L.v_)(n.negocio.descripcion)+" ",1),Mn,(0,r.Lk)("div",In,[n.negocio.instagram?((0,r.uX)(),(0,r.CE)("a",{key:0,class:"mauto",href:n.negocio.instagram,target:"blank"},Xn,8,An)):((0,r.uX)(),(0,r.CE)("div",Fn,"Sin Instagram")),n.negocio.facebook?((0,r.uX)(),(0,r.CE)("a",{key:2,class:"mauto",href:n.negocio.facebook,target:"blank"},Vn,8,Tn)):((0,r.uX)(),(0,r.CE)("div",Dn,"Sin Facebook"))])]),$n])])])])]),(0,r.Lk)("div",Jn,[(0,r.Lk)("div",Qn,[(0,r.Lk)("div",On,[Wn,(0,r.Lk)("div",Rn,[(0,r.Lk)("form",{onSubmit:e[8]||(e[8]=(0,i.D$)((o=>s.modificarPerfil(this.negocio)),["prevent"]))},[(0,r.Lk)("div",jn,[zn,(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"nombre","onUpdate:modelValue":e[0]||(e[0]=o=>n.negocio.nombre=o),placeholder:"Nombre del Negocio",required:""},null,512),[[i.Jo,n.negocio.nombre]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"email",id:"correo","onUpdate:modelValue":e[1]||(e[1]=o=>n.negocio.correo=o),placeholder:"Correo"},null,512),[[i.Jo,n.negocio.correo]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"number",id:"telefono","onUpdate:modelValue":e[2]||(e[2]=o=>n.negocio.telefono=o),placeholder:"Teléfono"},null,512),[[i.Jo,n.negocio.telefono]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"direccion","onUpdate:modelValue":e[3]||(e[3]=o=>n.negocio.direccion=o),placeholder:"Dirección",required:""},null,512),[[i.Jo,n.negocio.direccion]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"descripcion","onUpdate:modelValue":e[4]||(e[4]=o=>n.negocio.descripcion=o),placeholder:"Descripción"},null,512),[[i.Jo,n.negocio.descripcion]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"instagram","onUpdate:modelValue":e[5]||(e[5]=o=>n.negocio.instagram=o),placeholder:"Instagram"},null,512),[[i.Jo,n.negocio.instagram]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"facebook","onUpdate:modelValue":e[6]||(e[6]=o=>n.negocio.facebook=o),placeholder:"Facebook"},null,512),[[i.Jo,n.negocio.facebook]])]),(0,r.Lk)("div",null,[Bn,(0,r.Lk)("input",{class:"form-control",type:"file",name:"imagen",id:"imagen",accept:".jpg",onChange:e[7]||(e[7]=(...o)=>s.imagenSeleccionada&&s.imagenSeleccionada(...o))},null,32)])]),Gn],32)])])])],512)])):(0,r.Q3)("",!0)])])}var Hn={components:{NavbarComponent:fo},data(){return{negocio:{usuario:"",nombre:"",correo:"",telefono:"",direccion:"",descripcion:"",imagen:"",instagram:"",facebook:""}}},mounted(){},created(){this.obtenerInformacionNegocio()},methods:{modificarPerfil(o){t.A.put("/modificarPerfil",{negocio:o}).then((()=>{localStorage.setItem("nombre",this.negocio.nombre);const o=De().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",De().stopTimer),o.addEventListener("mouseleave",De().resumeTimer)}});o.fire({icon:"success",title:"Datos modificados."}),setTimeout((function(){Is.push("/productos")}),2e3)})).catch((o=>{console.error("Error al actualizar la información en la base de datos:",o)}))},async obtenerInformacionNegocio(){try{const o=await t.A.get(`/miNegocio?usuario=${localStorage.getItem("usuario")}`);this.negocio=o.data}catch(o){console.error("Error al cargar los productos:",o)}},imagenSeleccionada(o){const e=o.target.files[0];if(e){const o=new FileReader;o.onload=o=>{this.negocio.imagen=o.target.result},o.readAsDataURL(e)}}}};const Yn=(0,p.A)(Hn,[["render",Kn],["__scopeId","data-v-390db8b8"]]);var Zn=Yn;const os=o=>((0,r.Qi)("data-v-709d53aa"),o=o(),(0,r.jt)(),o),es={class:"contenedor"},as={class:"mt-4 mb-4"},ts=os((()=>(0,r.Lk)("h1",{class:"text-center"},"¡Potenciá tu negocio!",-1))),is=os((()=>(0,r.Lk)("hr",null,null,-1))),rs={class:"row justify-content-center text-center mb-4"},ns={class:"col-md-6"},ss=os((()=>(0,r.Lk)("div",{class:"titulo-plan"},[(0,r.Lk)("h3",null,"Plan Básico")],-1))),cs={class:"border mt-2 p-2 text-center"},ls=os((()=>(0,r.Lk)("div",{class:"titulo-plan"}," Gratis ",-1))),ds=os((()=>(0,r.Lk)("ul",{class:"text-start"},[(0,r.Lk)("li",null,"✅Menú online autoadministrable."),(0,r.Lk)("li",null,"❌Visualización en nuestra plataforma."),(0,r.Lk)("li",null,"❌Carrito y pedidos por WhatsApp."),(0,r.Lk)("li",null,"❌Código QR para el menú.")],-1))),us=os((()=>(0,r.Lk)("hr",null,null,-1))),ms={class:"row justify-content-center text-center"},ps=os((()=>(0,r.Lk)("div",{class:"col-md-6"},[(0,r.Lk)("div",{class:"titulo-plan"},[(0,r.Lk)("h3",null,"Plan Completo")]),(0,r.Lk)("div",{class:"mt-2 p-2 text-center"},[(0,r.Lk)("ul",{class:"text-start"},[(0,r.Lk)("li",null,"✅Menú online autoadministrable."),(0,r.Lk)("li",null,"✅Visualización en nuestra plataforma."),(0,r.Lk)("li",null,"✅Carrito y pedidos por WhatsApp."),(0,r.Lk)("li",null,"✅Código QR para el menú.")])])],-1))),gs={class:"col-md-12"},bs={class:"mt-2 text-center"},ks={class:"border p-2 m-2 col-md-3"},vs=os((()=>(0,r.Lk)("div",{class:"titulo-plan"}," 1 Mes ",-1))),fs=os((()=>(0,r.Lk)("div",{class:"precio-plan"}," $1500 ",-1))),hs={class:"border p-2 m-2 col-md-3"},Ls=os((()=>(0,r.Lk)("div",{class:"titulo-plan"}," 6 Meses ",-1))),Cs=os((()=>(0,r.Lk)("div",{class:"precio-plan"}," $7500 ",-1))),ys={class:"border p-2 m-2 col-md-3"},_s=os((()=>(0,r.Lk)("div",{class:"titulo-plan"}," 12 Meses ",-1))),xs=os((()=>(0,r.Lk)("div",{class:"precio-plan"}," $15000 ",-1)));function Es(o,e,a,t,i,n){const s=(0,r.g2)("NavbarPublicoComponent"),c=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(s),(0,r.Lk)("div",es,[(0,r.Lk)("div",as,[ts,is,(0,r.Lk)("div",rs,[(0,r.Lk)("div",ns,[ss,(0,r.Lk)("div",cs,[ls,ds,(0,r.bF)(c,{class:"btn btn-success",to:"/registrar"},{default:(0,r.k6)((()=>[(0,r.eW)(" REGISTRAR ")])),_:1})])])]),us,(0,r.Lk)("div",ms,[ps,(0,r.Lk)("div",gs,[(0,r.Lk)("div",bs,[(0,r.Lk)("div",ks,[vs,fs,(0,r.Lk)("button",{class:"btn btn-success",onClick:e[0]||(e[0]=o=>n.elegirPlan(1))},"CONTRATAR")]),(0,r.Lk)("div",hs,[Ls,Cs,(0,r.Lk)("button",{class:"btn btn-success",onClick:e[1]||(e[1]=o=>n.elegirPlan(6))},"CONTRATAR")]),(0,r.Lk)("div",ys,[_s,xs,(0,r.Lk)("button",{class:"btn btn-success",onClick:e[2]||(e[2]=o=>n.elegirPlan(12))},"CONTRATAR")])])])])])])])}var ws={components:{NavbarPublicoComponent:ye},methods:{elegirPlan(o){localStorage.setItem("plan",o),console.log("PlanesComponent: ",localStorage.getItem("plan")),Is.push("/registrar")}}};const Ns=(0,p.A)(ws,[["render",Es],["__scopeId","data-v-709d53aa"]]);var Ps=Ns;const Ss=[{path:"/",component:Ee,meta:{requiresAuth:!1}},{path:"/home",component:Wo,meta:{requiresAuth:!0}},{path:"/login",component:Qe},{path:"/facturar",component:aa,meta:{requiresAuth:!1}},{path:"/registrar",component:wa,meta:{requiresAuth:!1}},{path:"/planes",component:Ps,meta:{requiresAuth:!1}},{path:"/negocios",component:gt,meta:{requiresAuth:!0}},{path:"/modificar",component:Zn,meta:{requiresAuth:!0}},{path:"/nuevoProducto",component:Dt,meta:{requiresAuth:!0}},{path:"/productos",component:xi,meta:{requiresAuth:!0}},{path:"/nuevaCategoria",component:Pi,meta:{requiresAuth:!0}},{path:"/categorias",component:Ai,meta:{requiresAuth:!0}},{path:"/:nombreNegocio",component:cn,meta:{requiresAuth:!1}}],Ms=(0,h.aE)({history:(0,h.LA)(),routes:Ss,linkActiveClass:"active",linkExactActiveClass:"active"});Ms.beforeEach(((o,e,a)=>{const t=localStorage.getItem("token");o.matched.some((o=>o.meta.requiresAuth))?t?a():a("/login"):a()}));var Is=Ms;const As="prod";t.A.defaults.baseURL="dev"==As?"http://192.168.1.235:3500":"https://nazadoto.com:3500";const qs=(0,i.Ef)(f);qs.use(Is),qs.mount("#app")}},e={};function a(t){var i=e[t];if(void 0!==i)return i.exports;var r=e[t]={exports:{}};return o[t].call(r.exports,r,r.exports,a),r.exports}a.m=o,function(){var o=[];a.O=function(e,t,i,r){if(!t){var n=1/0;for(d=0;d<o.length;d++){t=o[d][0],i=o[d][1],r=o[d][2];for(var s=!0,c=0;c<t.length;c++)(!1&r||n>=r)&&Object.keys(a.O).every((function(o){return a.O[o](t[c])}))?t.splice(c--,1):(s=!1,r<n&&(n=r));if(s){o.splice(d--,1);var l=i();void 0!==l&&(e=l)}}return e}r=r||0;for(var d=o.length;d>0&&o[d-1][2]>r;d--)o[d]=o[d-1];o[d]=[t,i,r]}}(),function(){a.n=function(o){var e=o&&o.__esModule?function(){return o["default"]}:function(){return o};return a.d(e,{a:e}),e}}(),function(){a.d=function(o,e){for(var t in e)a.o(e,t)&&!a.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:e[t]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){a.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)}}(),function(){a.r=function(o){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}(),function(){var o={524:0};a.O.j=function(e){return 0===o[e]};var e=function(e,t){var i,r,n=t[0],s=t[1],c=t[2],l=0;if(n.some((function(e){return 0!==o[e]}))){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(c)var d=c(a)}for(e&&e(t);l<n.length;l++)r=n[l],a.o(o,r)&&o[r]&&o[r][0](),o[r]=0;return a.O(d)},t=self["webpackChunkmenu"]=self["webpackChunkmenu"]||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))}();var t=a.O(void 0,[504],(function(){return a(6264)}));t=a.O(t)})();
//# sourceMappingURL=app.5839b4b1.js.map