(function(){"use strict";var o={4175:function(o,e,a){var t=a(8355),i=a(5130),r=a(6768);function n(o,e,a,t,i,n){const s=(0,r.g2)("router-view"),c=(0,r.g2)("PieComponent");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(s),(0,r.bF)(c)])}const s=o=>((0,r.Qi)("data-v-ed97399a"),o=o(),(0,r.jt)(),o),c={class:"text-center"},l=s((()=>(0,r.Lk)("div",{class:"text-center p-3",style:{"background-color":"rgba(0, 0, 0, 0.2)"}},[(0,r.eW)(" © 2024 "),(0,r.Lk)("a",{class:"text-dark",href:"https://www.linkedin.com/in/nazadoto/"},"Nazareno Navarrete")],-1))),d=[l];function u(o,e,a,t,i,n){return(0,r.uX)(),(0,r.CE)("footer",c,d)}var m={},p=a(1241);const g=(0,p.A)(m,[["render",u],["__scopeId","data-v-ed97399a"]]);var b=g,k={name:"App",components:{PieComponent:b},methods:{},mounted(){}};const v=(0,p.A)(k,[["render",n]]);var f=v,h=a(1387),L=a(4232);const C=o=>((0,r.Qi)("data-v-4de2e8af"),o=o(),(0,r.jt)(),o),y={class:"todo"},_={class:"container mt-4 mb-2"},x={class:"text-center"},w={key:0,class:"container"},E={class:"col-md-6"},P={class:"col-md-6 mt-2"},S={key:1,class:"text-center"},I={class:"row g-3 div-forms border"},N={class:"col-md-6"},M=C((()=>(0,r.Lk)("h2",{class:"titulo-div-forms mb-2"},"Perfil",-1))),A={class:"row g-3 div-forms border mt-2"},X={class:"col-md-6"},q=C((()=>(0,r.Lk)("h2",{class:"titulo-div-forms mb-2"},"Productos",-1))),U=C((()=>(0,r.Lk)("br",null,null,-1))),F={class:"row g-3 div-forms border mt-2"},V={class:"col-md-6"},T=C((()=>(0,r.Lk)("h2",{class:"titulo-div-forms mb-2"}," Tu link ",-1))),W=["href"],D=C((()=>(0,r.Lk)("br",null,null,-1))),Q={key:0,class:"row g-3 div-forms border mt-2"},J={class:"col-md-6"},$=C((()=>(0,r.Lk)("h2",{class:"titulo-div-forms mb-2"},"Tu código QR",-1))),O=["href"],z=C((()=>(0,r.Lk)("br",null,null,-1)));function j(o,e,a,t,i,n){const s=(0,r.g2)("NavbarAdminComponent"),c=(0,r.g2)("NavbarComponent"),l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",y,[n.esAdmin()?((0,r.uX)(),(0,r.Wv)(s,{key:0})):((0,r.uX)(),(0,r.Wv)(c,{key:1})),(0,r.Lk)("div",_,[(0,r.Lk)("h1",x,"Bienvenid@, "+(0,L.v_)(i.nombreNegocio),1),n.esAdmin()?((0,r.uX)(),(0,r.CE)("div",w,[(0,r.Lk)("div",E,[(0,r.bF)(l,{class:"btn btn-menu",to:"/register"},{default:(0,r.k6)((()=>[(0,r.eW)("Nuevo Negocio")])),_:1})]),(0,r.Lk)("div",P,[(0,r.bF)(l,{class:"btn btn-menu",to:"/u/negocios"},{default:(0,r.k6)((()=>[(0,r.eW)("Listar Negocios")])),_:1})])])):((0,r.uX)(),(0,r.CE)("div",S,[(0,r.Lk)("div",I,[(0,r.Lk)("div",N,[M,(0,r.bF)(l,{class:"btn btn-menu",to:"/u/modificar"},{default:(0,r.k6)((()=>[(0,r.eW)("Ver Información")])),_:1})])]),(0,r.Lk)("div",A,[(0,r.Lk)("div",X,[q,(0,r.bF)(l,{class:"btn btn-menu",to:"/u/nuevoProducto"},{default:(0,r.k6)((()=>[(0,r.eW)("Nuevo Producto")])),_:1}),U,(0,r.bF)(l,{class:"btn btn-menu",to:"/u/productos"},{default:(0,r.k6)((()=>[(0,r.eW)("Listar Productos")])),_:1})])]),(0,r.Lk)("div",F,[(0,r.Lk)("div",V,[T,(0,r.Lk)("a",{href:"http://192.168.0.7:8080/"+i.nombreUsuario,target:"_blank"},"http://192.168.0.7:8080/"+(0,L.v_)(i.nombreUsuario),9,W),D])]),"2100"!==i.fechaVence?((0,r.uX)(),(0,r.CE)("div",Q,[(0,r.Lk)("div",J,[$,(0,r.Lk)("a",{ref:"qrcode",href:"http://192.168.0.7:8080/"+i.nombreUsuario,target:"_blank"},null,8,O),z,(0,r.Lk)("button",{onClick:e[0]||(e[0]=(...o)=>n.descargarQR&&n.descargarQR(...o)),class:"btn btn-menu margenbtn"},"Descargar QR")])])):(0,r.Q3)("",!0)]))])])}var R=a(852),B=a.n(R);const G=o=>((0,r.Qi)("data-v-6ee14e69"),o=o(),(0,r.jt)(),o),K={class:""},H={class:"navbar navbar-expand-lg navbar-dark bg-dark"},Y={class:"container-fluid"},Z=G((()=>(0,r.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDarkDropdown","aria-controls":"navbarNavDarkDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,r.Lk)("span",{class:"navbar-toggler-icon"})],-1))),oo={class:"collapse navbar-collapse",id:"navbarNavDarkDropdown"},eo={class:"navbar-nav"},ao={class:"test nav-item"},to={class:"test nav-item"},io={class:"test nav-item dropdown"},ro={class:"dropdown-menu dropdown-menu-dark"},no={class:"test nav-item"},so=G((()=>(0,r.Lk)("button",{class:"nav-link","data-bs-toggle":"modal","data-bs-target":"#exampleModal"}," Salir ",-1))),co={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},lo={class:"modal-dialog"},uo={class:"modal-content"},mo=G((()=>(0,r.Lk)("div",{class:"modal-header text-center"},[(0,r.Lk)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"¿Cerrar sesión?"),(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),po={class:"modal-footer text-center"},go=G((()=>(0,r.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"No",-1)));function bo(o,e,a,t,i,n){const s=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",K,[(0,r.Lk)("nav",H,[(0,r.Lk)("div",Y,[(0,r.bF)(s,{class:"navbar-brand",to:"/u/home"},{default:(0,r.k6)((()=>[(0,r.eW)((0,L.v_)(n.leerUsuario())+" | ",1)])),_:1}),Z,(0,r.Lk)("div",oo,[(0,r.Lk)("ul",eo,[(0,r.Lk)("li",ao,[(0,r.bF)(s,{class:"nav-link",to:"/u/home"},{default:(0,r.k6)((()=>[(0,r.eW)("Inicio ")])),_:1})]),(0,r.Lk)("li",to,[(0,r.bF)(s,{class:"nav-link",to:"/u/modificar"},{default:(0,r.k6)((()=>[(0,r.eW)("Pefil")])),_:1})]),(0,r.Lk)("li",io,[(0,r.Lk)("button",{class:(0,L.C4)([{active:n.isActiveProductos()},"dropdown-toggle nav-link"]),"data-bs-toggle":"dropdown","aria-expanded":"false"}," Productos ",2),(0,r.Lk)("ul",ro,[(0,r.Lk)("li",null,[(0,r.bF)(s,{class:"dropdown-item",to:"/u/nuevoProducto"},{default:(0,r.k6)((()=>[(0,r.eW)("Nuevo Producto")])),_:1})]),(0,r.Lk)("li",null,[(0,r.bF)(s,{class:"dropdown-item",to:"/u/productos"},{default:(0,r.k6)((()=>[(0,r.eW)("Listar Productos")])),_:1})])])]),(0,r.Lk)("li",no,[so,(0,r.Lk)("div",co,[(0,r.Lk)("div",lo,[(0,r.Lk)("div",uo,[mo,(0,r.Lk)("div",po,[go,(0,r.Lk)("button",{type:"button",class:"btn btn-menu-danger","data-bs-dismiss":"modal",onClick:e[0]||(e[0]=(...o)=>n.cerrarSesion&&n.cerrarSesion(...o))},"Sí, cerrar sesión")])])])])])])])])])])}a(4114);var ko={mounted(){},methods:{isActiveProductos(){return"/u/nuevoProducto"==this.$route.path||"/u/productos"==this.$route.path},isActiveCategorias(){return"/u/nuevaCategoria"==this.$route.path||"/u/categorias"==this.$route.path},leerUsuario(){return localStorage.getItem("nombre")},cerrarSesion(){localStorage.clear(),ac.push("/")}},components:{"router-link":h.Wk}};const vo=(0,p.A)(ko,[["render",bo],["__scopeId","data-v-6ee14e69"]]);var fo=vo;const ho=o=>((0,r.Qi)("data-v-0eddee93"),o=o(),(0,r.jt)(),o),Lo={class:""},Co={class:"navbar navbar-expand-lg navbar-dark bg-dark"},yo={class:"container-fluid"},_o=ho((()=>(0,r.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavDarkDropdown","aria-controls":"navbarNavDarkDropdown","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,r.Lk)("span",{class:"navbar-toggler-icon"})],-1))),xo={class:"collapse navbar-collapse",id:"navbarNavDarkDropdown"},wo={class:"navbar-nav"},Eo={class:"test nav-item"},Po={class:"test nav-item"},So={class:"test nav-item"},Io={class:"test nav-item"},No=ho((()=>(0,r.Lk)("button",{class:"nav-link","data-bs-toggle":"modal","data-bs-target":"#exampleModal"}," Salir ",-1))),Mo={class:"modal fade",id:"exampleModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},Ao={class:"modal-dialog"},Xo={class:"modal-content"},qo=ho((()=>(0,r.Lk)("div",{class:"modal-header text-center"},[(0,r.Lk)("h1",{class:"modal-title fs-5",id:"exampleModalLabel"},"¿Cerrar sesión?"),(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Uo={class:"modal-footer text-center"},Fo=ho((()=>(0,r.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"No",-1)));function Vo(o,e,a,t,i,n){const s=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",Lo,[(0,r.Lk)("nav",Co,[(0,r.Lk)("div",yo,[(0,r.bF)(s,{class:"navbar-brand",to:"/u/home"},{default:(0,r.k6)((()=>[(0,r.eW)((0,L.v_)(n.leerUsuario())+" | ",1)])),_:1}),_o,(0,r.Lk)("div",xo,[(0,r.Lk)("ul",wo,[(0,r.Lk)("li",Eo,[(0,r.bF)(s,{class:"nav-link",to:"/u/home"},{default:(0,r.k6)((()=>[(0,r.eW)("Inicio")])),_:1})]),(0,r.Lk)("li",Po,[(0,r.bF)(s,{class:"nav-link",to:"/u/registrar"},{default:(0,r.k6)((()=>[(0,r.eW)("Nuevo Negocio")])),_:1})]),(0,r.Lk)("li",So,[(0,r.bF)(s,{class:"nav-link",to:"/u/negocios"},{default:(0,r.k6)((()=>[(0,r.eW)("Listar Negocios")])),_:1})]),(0,r.Lk)("li",Io,[No,(0,r.Lk)("div",Mo,[(0,r.Lk)("div",Ao,[(0,r.Lk)("div",Xo,[qo,(0,r.Lk)("div",Uo,[Fo,(0,r.Lk)("button",{type:"button",class:"btn btn-menu-danger","data-bs-dismiss":"modal",onClick:e[0]||(e[0]=(...o)=>n.cerrarSesion&&n.cerrarSesion(...o))},"Sí, cerrar sesión")])])])])])])])])])])}var To={methods:{leerUsuario(){return localStorage.getItem("nombre")},cerrarSesion(){localStorage.clear(),ac.push("/")}},components:{"router-link":h.Wk}};const Wo=(0,p.A)(To,[["render",Vo],["__scopeId","data-v-0eddee93"]]);var Do=Wo,Qo=a(788),Jo={data(){return{nombreUsuario:"",nombreNegocio:"",fechaVence:""}},components:{NavbarComponent:fo,NavbarAdminComponent:Do,"router-link":h.Wk},mounted(){this.leerUsuario(),"admin"!=this.nombreUsuario&&this.generarQR()},methods:{generarQR(){const o=localStorage.getItem("nombre");if(o){const e=B()(0,"L"),a=9;e.size=a;const t="http://192.168.0.5:8080/"+o;e.addData(t),e.make(),this.renderQRCode(e.createImgTag(a,0))}},renderQRCode(o){const e=this.$refs.qrcode;e.innerHTML=o},leerUsuario(){this.nombreUsuario=localStorage.getItem("usuario"),this.nombreNegocio=localStorage.getItem("nombre"),this.fechaVence=localStorage.getItem("año")},esAdmin(){return"admin"==localStorage.getItem("usuario")},descargarQR(){const o=this.$refs.qrcode.firstChild,e=document.createElement("canvas"),a=e.getContext("2d");e.width=o.width,e.height=o.height,a.drawImage(o,0,0),e.toBlob((o=>{(0,Qo.saveAs)(o,"codigoQR-"+this.nombreUsuario+".jpg")}),"image/jpeg")}}};const $o=(0,p.A)(Jo,[["render",j],["__scopeId","data-v-4de2e8af"]]);var Oo=$o;const zo=o=>((0,r.Qi)("data-v-045417cd"),o=o(),(0,r.jt)(),o),jo={class:"container2 mt-4"},Ro={key:0,class:"pantalla-carga text-center"},Bo=zo((()=>(0,r.Lk)("div",{class:"logo-carga"},[(0,r.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:""}),(0,r.Lk)("div",{class:"texto-carga"}," Buscando negocios ")],-1))),Go=[Bo],Ko={key:1},Ho={class:"mt-2"},Yo=zo((()=>(0,r.Lk)("h1",null,"¿Qué estás buscando?",-1))),Zo={class:"izquierda ancho-busqueda"},oe={class:"negocios-body"},ee={class:"modalMapa mt-2",style:{height:"400px"}},ae={style:{"max-width":"150px"}},te={style:{"font-size":"20px"}},ie=zo((()=>(0,r.Lk)("br",null,null,-1))),re={style:{"text-align":"center"}},ne=zo((()=>(0,r.Lk)("a",{style:{"text-decoration":"none",color:"white","font-size":"12px",padding:"4px 6px"},href:"https://nazadoto.com:8080/${punto.usuario}",target:"_blank"},[(0,r.Lk)("img",{src:"/favicon.ico",width:"20",alt:""})],-1))),se=["href"],ce=zo((()=>(0,r.Lk)("img",{style:{margin:"0px 10px"},width:"20",src:"/recursos/instagram.png"},null,-1))),le=[ce],de=["href"],ue=zo((()=>(0,r.Lk)("img",{style:{margin:"0px 10px"},width:"20",src:"/recursos/facebook.png"},null,-1))),me=[ue],pe={style:{margin:"5px 0px"}},ge=zo((()=>(0,r.Lk)("b",null,"Dirección:",-1))),be={style:{margin:"5px 0px"}},ke=zo((()=>(0,r.Lk)("b",null,"Correo:",-1))),ve={style:{margin:"5px 0px"}},fe=zo((()=>(0,r.Lk)("b",null,"Teléfono:",-1))),he={style:{"text-align":"center",margin:"7px 0px"}},Le={class:"item-imagen"},Ce={key:0},ye=["src"],_e={class:"item-texto-block"},xe={class:"item-nombre"},we={key:0,class:"item-descripcion"},Ee={class:"item-btn"},Pe=zo((()=>(0,r.Lk)("img",{src:"/favicon.ico",width:"30",alt:""},null,-1))),Se={key:0,class:"text-center mt-3"};function Ie(o,e,a,t,n,s){const c=(0,r.g2)("NavbarPublicoComponent"),l=(0,r.g2)("GMapInfoWindow"),d=(0,r.g2)("GMapMarker"),u=(0,r.g2)("GMapMap"),m=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(c),(0,r.Lk)("div",jo,[n.cargando?((0,r.uX)(),(0,r.CE)("div",Ro,Go)):((0,r.uX)(),(0,r.CE)("div",Ko,[(0,r.Lk)("div",Ho,[Yo,(0,r.Lk)("div",Zo,[(0,r.bo)((0,r.Lk)("input",{class:"form-control barra-busqueda","onUpdate:modelValue":e[0]||(e[0]=o=>n.busqueda=o),type:"text",name:"busqueda",id:"",placeholder:"Buscar",title:"Ingrese una palabra clave..."},null,512),[[i.Jo,n.busqueda]])]),(0,r.Lk)("button",{class:"btn btn-menu derecha",onClick:e[1]||(e[1]=(...o)=>s.mostrarMapa&&s.mostrarMapa(...o))},(0,L.v_)(n.mapaMostrado2?"Ocultar\n                        Mapa":"Ver Mapa"),1)]),(0,r.Lk)("div",oe,[(0,r.bo)((0,r.Lk)("div",ee,[(0,r.bF)(u,{style:{height:"400px"},center:n.mapCenter,zoom:n.zoom,options:n.options},{default:(0,r.k6)((()=>[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.negocios,((o,a)=>((0,r.uX)(),(0,r.Wv)(d,{key:a,position:o.location,title:o.nombre,onClick:o=>s.openInfoWindow(a)},{default:(0,r.k6)((()=>[n.infoWindowOpened==a?((0,r.uX)(),(0,r.Wv)(l,{key:0,options:n.infoWindow[a].options,closeclick:!0,onCloseclick:e[2]||(e[2]=o=>s.openInfoWindow(null))},{default:(0,r.k6)((()=>[(0,r.Lk)("div",ae,[(0,r.Lk)("b",te,(0,L.v_)(o.nombre),1),ie,(0,r.Lk)("div",re,[ne,o.instagram?((0,r.uX)(),(0,r.CE)("a",{key:0,href:o.instagram,target:"blank"},le,8,se)):(0,r.Q3)("",!0),o.facebook?((0,r.uX)(),(0,r.CE)("a",{key:1,href:o.facebook,target:"blank"},me,8,de)):(0,r.Q3)("",!0)]),(0,r.Lk)("p",pe,[ge,(0,r.eW)(" "+(0,L.v_)(o.direccion),1)]),(0,r.Lk)("p",be,[ke,(0,r.eW)(" "+(0,L.v_)(o.correo),1)]),(0,r.Lk)("p",ve,[fe,(0,r.eW)(" "+(0,L.v_)(o.telefono),1)]),(0,r.Lk)("p",he,'"'+(0,L.v_)(o.descripcion)+'"',1)])])),_:2},1032,["options"])):(0,r.Q3)("",!0)])),_:2},1032,["position","title","onClick"])))),128))])),_:1},8,["center","zoom","options"])],512),[[i.aG,n.mapaMostrado2]]),(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.negociosFiltrados,((o,e)=>((0,r.uX)(),(0,r.CE)("li",{class:"item-container mt-2",key:e},[(0,r.Lk)("div",Le,[o.imagen?((0,r.uX)(),(0,r.CE)("div",Ce,[(0,r.Lk)("img",{class:"imagen",src:o.imagen,alt:" "},null,8,ye)])):(0,r.Q3)("",!0)]),(0,r.Lk)("div",_e,[(0,r.Lk)("div",xe,(0,L.v_)(o.nombre),1),o.descripcion?((0,r.uX)(),(0,r.CE)("div",we,' "'+(0,L.v_)(o.descripcion)+'" ',1)):(0,r.Q3)("",!0)]),(0,r.Lk)("div",Ee,[(0,r.bF)(m,{class:"item-texto-block-end",to:"/"+o.usuario,target:"_blank"},{default:(0,r.k6)((()=>[Pe])),_:2},1032,["to"])])])))),128))]),0===s.negociosFiltrados.length?((0,r.uX)(),(0,r.CE)("div",Se," No se encontraron resultados para esa búsqueda. ")):(0,r.Q3)("",!0)])]))])])}const Ne=o=>((0,r.Qi)("data-v-7a361c7e"),o=o(),(0,r.jt)(),o),Me={class:"navbar navbar-light bg-light"},Ae=Ne((()=>(0,r.Lk)("img",{src:"/favicon.ico",width:"30",height:"30",class:"d-inline-block align-top",alt:""},null,-1)));function Xe(o,e,a,t,i,n){const s=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("nav",Me,[(0,r.bF)(s,{class:"navbar-brand",to:"/"},{default:(0,r.k6)((()=>[Ae,(0,r.eW)(" Puestito Online ")])),_:1}),i.usuario?((0,r.uX)(),(0,r.Wv)(s,{key:0,to:"/u/home"},{default:(0,r.k6)((()=>[(0,r.eW)("Mi Negocio")])),_:1})):((0,r.uX)(),(0,r.Wv)(s,{key:1,to:"/u/login"},{default:(0,r.k6)((()=>[(0,r.eW)("Login")])),_:1}))])}var qe={data(){return{usuario:""}},mounted(){this.obtenerUsuario()},methods:{obtenerUsuario(){this.usuario=localStorage.getItem("usuario")}}};const Ue=(0,p.A)(qe,[["render",Xe],["__scopeId","data-v-7a361c7e"]]);var Fe=Ue,Ve={components:{NavbarPublicoComponent:Fe},name:"MapaComponent",data(){return{options:{disableDefaultUI:!0,styles:[{featureType:"poi.business",stylers:[{visibility:"off"}]},{featureType:"transit",elementType:"labels.icon",stylers:[{visibility:"off"}]}]},infoWindowOpened:null,infoWindow:[],mapCenter:{lat:-27.7876,lng:-64.2596},zoom:14,negocios:[],busqueda:"",mapaMostrado:!1,mapaMostrado2:!1,cargando:!0}},created(){this.fetchNegocios()},computed:{negociosFiltrados(){return this.negocios.filter((o=>{const e=o.nombre||"",a=o.descripcion||"";return e.toLowerCase().includes(this.busqueda.toLowerCase())||a.toLowerCase().includes(this.busqueda.toLowerCase())}))}},methods:{openInfoWindow(o){this.infoWindowOpened==o?this.infoWindowOpened=null:this.infoWindowOpened=o},async inicializarMapa(){try{navigator.geolocation?navigator.geolocation.getCurrentPosition((o=>{const e={lat:o.coords.latitude,lng:o.coords.longitude};this.mapCenter=e}),(o=>{console.log("Error al geolocalizar. Inicializando en Plaza Libertad. ",o)})):console.log("No funciona geolocation. Centrando mapa en Plaza Libertad.")}catch(o){console.error("Error al obtener la ubicación actual:",o)}},async fetchNegocios(){try{const o=await t.A.get("/negocios");this.negocios=o.data,this.infoWindow=Array(this.negocios.length).fill({open:!1,options:{pixelOffset:{width:0,height:-10},maxWidth:320,maxHeight:320}})}catch(o){console.error("Error al obtener los datos de los negocios:",o)}finally{this.cargando=!1}},mostrarMapa(){this.mapaMostrado2?this.mapaMostrado2=!1:this.mapaMostrado?this.mapaMostrado2=!0:(this.mapaMostrado=!0,this.mapaMostrado2=!0,this.$nextTick((()=>{this.inicializarMapa()})))}}};const Te=(0,p.A)(Ve,[["render",Ie],["__scopeId","data-v-045417cd"]]);var We=Te;const De=o=>((0,r.Qi)("data-v-b5985b94"),o=o(),(0,r.jt)(),o),Qe={class:"total"},Je={class:"fondo text-center"},$e=De((()=>(0,r.Lk)("img",{src:"/favicon.ico",width:"100",alt:"logo",class:"mb-4"},null,-1))),Oe=De((()=>(0,r.Lk)("h1",{class:"titulo"},"Puestito Online",-1))),ze={class:"width-size"},je=De((()=>(0,r.Lk)("label",{for:"usuario"},"Usuario",-1))),Re={class:"width-size"},Be=De((()=>(0,r.Lk)("label",{for:"contraseña"},"Contraseña",-1))),Ge=De((()=>(0,r.Lk)("div",{class:"col-md-8"},[(0,r.Lk)("button",{type:"submit",class:"btn btn-entrar"},"Entrar")],-1))),Ke=De((()=>(0,r.Lk)("div",{class:"derecha"},null,-1)));function He(o,e,a,t,n,s){const c=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("div",Qe,[(0,r.Lk)("div",Je,[$e,Oe,(0,r.Lk)("form",{class:"row g-3",onSubmit:e[2]||(e[2]=(0,i.D$)(((...o)=>s.login&&s.login(...o)),["prevent"]))},[(0,r.Lk)("div",ze,[je,(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-3",type:"text","onUpdate:modelValue":e[0]||(e[0]=o=>n.usuario=o),required:""},null,512),[[i.Jo,n.usuario]])]),(0,r.Lk)("div",Re,[Be,(0,r.bo)((0,r.Lk)("input",{class:"form-control mb-4",type:"password","onUpdate:modelValue":e[1]||(e[1]=o=>n.contraseña=o),required:""},null,512),[[i.Jo,n.contraseña]])]),Ge,(0,r.bF)(c,{to:"/u/planes"},{default:(0,r.k6)((()=>[(0,r.eW)("Registrar Negocio")])),_:1}),(0,r.bF)(c,{to:"/"},{default:(0,r.k6)((()=>[(0,r.eW)("Volver")])),_:1})],32)]),Ke])])}var Ye=a(4874),Ze=a.n(Ye),oa={components:{},data(){return{usuario:"","contraseña":""}},methods:{checkAuthentication(){const o=!!localStorage.getItem("token");o&&this.$router.push("/u/home")},async login(){try{const o=await t.A.post("/login",{usuario:this.usuario,"contraseña":this.contraseña});if(200===o.status){localStorage.setItem("token",o.data.token),localStorage.setItem("nombre",o.data.nombre),localStorage.setItem("usuario",o.data.nomUsuario);const e=new Date(o.data.fechaVence);localStorage.setItem("año",e.getFullYear()),this.$router.push("/u/home");const a=Ze().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",Ze().stopTimer),o.addEventListener("mouseleave",Ze().resumeTimer)}});a.fire({icon:"success",title:"Inicio de sesión exitoso."})}}catch(o){Ze().fire({icon:"error",text:"Usuario/contraseña incorrectos."})}}},mounted(){this.checkAuthentication()}};const ea=(0,p.A)(oa,[["render",He],["__scopeId","data-v-b5985b94"]]);var aa=ea;const ta=o=>((0,r.Qi)("data-v-3c84220c"),o=o(),(0,r.jt)(),o),ia={class:"container mt-4 mb-2"},ra={class:"row g-3 mt-4 border"},na={class:"row g-3 border"},sa=ta((()=>(0,r.Lk)("h4",{class:"titulo- mb-2"},"Información de acceso",-1))),ca=ta((()=>(0,r.Lk)("h4",{class:"subtitulo"},"Cómo ingresarás a la plataforma.",-1))),la={class:"col-md-6"},da={class:"col-md-6"},ua=ta((()=>(0,r.Lk)("h4",{class:"titulo- mb-2"},"Información del negocio",-1))),ma=ta((()=>(0,r.Lk)("h4",{class:"subtitulo"},"Más adelante podés modificar esta información.",-1))),pa={class:"col-md-6"},ga={class:"col-md-6"},ba={class:"col-md-6"},ka={class:"col-md-6"},va={class:"col-md-6"},fa={class:"col-md-6"},ha={class:"col-md-6"},La={class:"col-md-6"},Ca=ta((()=>(0,r.Lk)("label",{class:"form-label text-center",for:"imagen"},"Logo (JPG)",-1))),ya={key:0,class:"btn btn-menu botones m-auto mb-2",type:"submit"},_a={key:1,class:"btn btn-menu botones m-auto mb-2",type:"submit"};function xa(o,e,a,t,n,s){const c=(0,r.g2)("NavbarAdminComponent"),l=(0,r.g2)("NavbarPublicoComponent");return(0,r.uX)(),(0,r.CE)("div",null,["admin"==o.usuario?((0,r.uX)(),(0,r.Wv)(c,{key:0})):((0,r.uX)(),(0,r.Wv)(l,{key:1})),(0,r.Lk)("div",ia,[(0,r.Lk)("div",ra,[(0,r.Lk)("form",{onSubmit:e[10]||(e[10]=(0,i.D$)(((...o)=>s.registrarNegocio&&s.registrarNegocio(...o)),["prevent"])),id:"form-checkout"},[(0,r.Lk)("div",na,[sa,ca,(0,r.Lk)("div",la,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=o=>n.negocio.usuario=o),placeholder:"Nombre de Usuario",required:""},null,512),[[i.Jo,n.negocio.usuario]])]),(0,r.Lk)("div",da,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=o=>n.negocio.contraseña=o),placeholder:"Contraseña",required:""},null,512),[[i.Jo,n.negocio.contraseña]])]),ua,ma,(0,r.Lk)("div",pa,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"nombre","onUpdate:modelValue":e[2]||(e[2]=o=>n.negocio.nombre=o),placeholder:"Nombre (Así aparecerás en la página)",required:""},null,512),[[i.Jo,n.negocio.nombre]])]),(0,r.Lk)("div",ga,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"descripcion","onUpdate:modelValue":e[3]||(e[3]=o=>n.negocio.descripcion=o),placeholder:"Descripción (Qué ofreces)"},null,512),[[i.Jo,n.negocio.descripcion]])]),(0,r.Lk)("div",ba,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"email",id:"email","onUpdate:modelValue":e[4]||(e[4]=o=>n.negocio.email=o),placeholder:"Email",required:""},null,512),[[i.Jo,n.negocio.email]])]),(0,r.Lk)("div",ka,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"direccion","onUpdate:modelValue":e[5]||(e[5]=o=>n.negocio.direccion=o),placeholder:"Dirección (por ej. Libertad 20, Santiago del Estero, Argentina)"},null,512),[[i.Jo,n.negocio.direccion]])]),(0,r.Lk)("div",va,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"number",id:"telefono","onUpdate:modelValue":e[6]||(e[6]=o=>n.negocio.telefono=o),placeholder:"Teléfono (por ej. +5493855223287)"},null,512),[[i.Jo,n.negocio.telefono]])]),(0,r.Lk)("div",fa,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"instagram","onUpdate:modelValue":e[7]||(e[7]=o=>n.negocio.instagram=o),placeholder:"Link de Instagram"},null,512),[[i.Jo,n.negocio.instagram]])]),(0,r.Lk)("div",ha,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"facebook","onUpdate:modelValue":e[8]||(e[8]=o=>n.negocio.facebook=o),placeholder:"Link de Facebook"},null,512),[[i.Jo,n.negocio.facebook]])]),(0,r.Lk)("div",La,[Ca,(0,r.Lk)("input",{class:"form-control",type:"file",name:"imagen",id:"imagen",accept:".jpg",onChange:e[9]||(e[9]=o=>s.imagenSeleccionada(o)),required:""},null,32)]),n.plan?((0,r.uX)(),(0,r.CE)("button",_a,"Ir a Pagar")):((0,r.uX)(),(0,r.CE)("button",ya,"Contratar"))])],32)])])])}var wa={components:{NavbarAdminComponent:Do,NavbarPublicoComponent:Fe},data(){return{plan:null,negocio:{usuario:"pepopa","contraseña":"pepopa",nombre:"Pepopa",fechaVence:"",email:"pepopa@gmail.com",imagen:"1",direccion:"Tucumán 100, Santiago del Estero, Argentina",telefono:"3855223288",descripcion:"Esposisima",instagram:"igpepopa",facebook:"facepepopa"}}},mounted(){this.obtenerPlan()},methods:{async obtenerPlan(){this.plan=localStorage.getItem("plan"),console.log("RegistrarComponent: ",this.plan)},imagenSeleccionada(o){const e=o.target.files[0];if(e){const o=new FileReader;o.onload=o=>{this.negocio.imagen=o.target.result},o.readAsDataURL(e)}},resetForm(){this.negocio.usuario="",this.negocio.contraseña="",this.negocio.nombre="",this.negocio.fechaVence="",this.negocio.email="",this.negocio.imagen="",this.negocio.direccion="",this.negocio.telefono="",this.negocio.direccion="",this.negocio.instagram="",this.negocio.facebook=""},async registrarNegocio(){await t.A.post("/register",this.negocio).then((async()=>{if(this.plan){console.log("Entro a la parte de facturar"),localStorage.setItem("usuario",this.negocio.usuario);const o=await t.A.post("/facturar/crearOrden",{plan:this.plan}).then((async()=>{let e=new Date;const a=e.getMonth()-1;e.setMonth(a+this.plan),this.negocio.fechaVence=e.toISOString().slice(0,19).replace("T"," "),window.open(await o.data.init_point,"_blank"),await t.A.post("/register",this.negocio).then((()=>{}))})).catch((o=>{console.log(o)}))}else{ac.push("/u/login");const o=Ze().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",Ze().stopTimer),o.addEventListener("mouseleave",Ze().resumeTimer)}});o.fire({icon:"success",title:"Registro exitoso."})}})).catch((o=>{Ze().fire({icon:"error",text:o.response.data.message}),console.error("Error al registrar usuario:",o)}))}}};const Ea=(0,p.A)(wa,[["render",xa],["__scopeId","data-v-3c84220c"]]);var Pa=Ea;const Sa=o=>((0,r.Qi)("data-v-ce547948"),o=o(),(0,r.jt)(),o),Ia={class:"container mt-4 mb-2"},Na=Sa((()=>(0,r.Lk)("h1",null,"Negocios",-1))),Ma={class:"izquierda ancho-busqueda"},Aa={key:0},Xa=["src"],qa={class:"item-texto-block m-2"},Ua={key:0,class:"item-descripcion"},Fa=Sa((()=>(0,r.Lk)("b",null,"Nombre de usuario:",-1))),Va={class:"item-descripcion"},Ta=Sa((()=>(0,r.Lk)("b",null,"Nombre del negocio:",-1))),Wa={key:1,class:"item-descripcion"},Da=Sa((()=>(0,r.Lk)("b",null,"Descripción:",-1))),Qa={key:2,class:"item-descripcion"},Ja=Sa((()=>(0,r.Lk)("b",null,"Fecha de Vencimiento:",-1))),$a=["onClick"],Oa={class:"item-texto-block-end"},za=["href"],ja=Sa((()=>(0,r.Lk)("img",{width:"40",src:"/recursos/instagram.png"},null,-1))),Ra=[ja],Ba={key:1},Ga=["href"],Ka=Sa((()=>(0,r.Lk)("img",{width:"36",src:"/recursos/facebook.png"},null,-1))),Ha=[Ka],Ya={key:3},Za={class:"item-btn"},ot=Sa((()=>(0,r.Lk)("img",{src:"/favicon.ico",width:"30",alt:""},null,-1))),et={class:"modal fade",id:"modificarProducto",tabindex:"-1","aria-labelledby":"modificarProductoLabel","aria-hidden":"true",ref:"modalModificar"},at={class:"modal-dialog modal-dialog-centered"},tt={class:"modal-content"},it=Sa((()=>(0,r.Lk)("div",{class:"modal-header"},[(0,r.Lk)("h1",{class:"modal-title fs-5",id:"modificarProductoLabel"},"Modificar Datos"),(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),rt={class:"modal-body"},nt={class:"row g-3 div-forms border"},st=Sa((()=>(0,r.Lk)("h4",{class:"titulo-div-forms mb-2"},"Información del Usuario",-1))),ct=Sa((()=>(0,r.Lk)("h4",{class:"titulo-div-forms mb-2"},"Información del Negocio",-1))),lt=Sa((()=>(0,r.Lk)("label",{class:"form-label mr-2",for:"imagen"},"Imagen (JPG)",-1))),dt=Sa((()=>(0,r.Lk)("div",{class:"text-end"},[(0,r.Lk)("button",{class:"btn btn-menu botones mt-3",type:"submit","aria-label":"Close"},"Modificar")],-1)));function ut(o,e,a,t,n,s){const c=(0,r.g2)("NavbarAdminComponent"),l=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(c),(0,r.Lk)("div",Ia,[Na,(0,r.Lk)("div",Ma,[(0,r.bo)((0,r.Lk)("input",{class:"form-control barra-busqueda","onUpdate:modelValue":e[0]||(e[0]=o=>n.busqueda=o),type:"text",name:"busqueda",id:"",placeholder:"Buscar",title:"Ingrese una palabra clave..."},null,512),[[i.Jo,n.busqueda]])]),(0,r.Lk)("ul",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.negociosFiltrados,((o,e)=>((0,r.uX)(),(0,r.CE)("li",{class:"item-container mt-2",key:e},[o.imagen?((0,r.uX)(),(0,r.CE)("div",Aa,[(0,r.Lk)("img",{class:"imagen",src:o.imagen,alt:" "},null,8,Xa)])):(0,r.Q3)("",!0),(0,r.Lk)("div",qa,[o.usuario?((0,r.uX)(),(0,r.CE)("div",Ua,[Fa,(0,r.eW)(' "'+(0,L.v_)(o.usuario)+'" ',1)])):(0,r.Q3)("",!0),(0,r.Lk)("div",Va,[Ta,(0,r.eW)(" "+(0,L.v_)(o.nombre),1)]),o.descripcion?((0,r.uX)(),(0,r.CE)("div",Wa,[Da,(0,r.eW)(' "'+(0,L.v_)(o.descripcion)+'" ',1)])):(0,r.Q3)("",!0),o.fechaVence?((0,r.uX)(),(0,r.CE)("div",Qa,[Ja,(0,r.eW)(' "'+(0,L.v_)(s.formatear(o.fechaVence))+'" ',1)])):(0,r.Q3)("",!0),(0,r.Lk)("button",{class:"btn btn-menu derecha mt-2 mb-2",title:"Modificar","data-bs-toggle":"modal","data-bs-target":"#modificarProducto",onClick:e=>s.modificarNegocio(o)},"Modificar",8,$a)]),(0,r.Lk)("div",Oa,[o.instagram?((0,r.uX)(),(0,r.CE)("a",{key:0,class:"m-2",href:o.instagram,target:"blank"},Ra,8,za)):((0,r.uX)(),(0,r.CE)("div",Ba,"Sin Instagram")),o.facebook?((0,r.uX)(),(0,r.CE)("a",{key:2,class:"m-2",href:o.facebook,target:"blank"},Ha,8,Ga)):((0,r.uX)(),(0,r.CE)("div",Ya,"Sin Facebook"))]),(0,r.Lk)("div",Za,[(0,r.bF)(l,{class:"item-texto-block-end",to:"/"+o.usuario},{default:(0,r.k6)((()=>[ot])),_:2},1032,["to"])])])))),128))])]),(0,r.Lk)("div",et,[(0,r.Lk)("div",at,[(0,r.Lk)("div",tt,[it,(0,r.Lk)("div",rt,[(0,r.Lk)("form",{onSubmit:e[12]||(e[12]=(0,i.D$)((o=>s.modificarPerfil(n.negocioModificar)),["prevent"]))},[(0,r.Lk)("div",nt,[st,(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"nombre","onUpdate:modelValue":e[1]||(e[1]=o=>n.negocioModificar.usuario=o),placeholder:"Nombre de Usuario",required:""},null,512),[[i.Jo,n.negocioModificar.usuario]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"password",id:"nombre","onUpdate:modelValue":e[2]||(e[2]=o=>n.negocioModificar.contraseña=o),placeholder:"Contraseña"},null,512),[[i.Jo,n.negocioModificar.contraseña]])]),ct,(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"nombre","onUpdate:modelValue":e[3]||(e[3]=o=>n.negocioModificar.nombre=o),placeholder:"Nombre del Negocio",required:""},null,512),[[i.Jo,n.negocioModificar.nombre]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"email",id:"correo","onUpdate:modelValue":e[4]||(e[4]=o=>n.negocioModificar.correo=o),placeholder:"Correo"},null,512),[[i.Jo,n.negocioModificar.correo]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"number",id:"telefono","onUpdate:modelValue":e[5]||(e[5]=o=>n.negocioModificar.telefono=o),placeholder:"Teléfono"},null,512),[[i.Jo,n.negocioModificar.telefono]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"direccion","onUpdate:modelValue":e[6]||(e[6]=o=>n.negocioModificar.direccion=o),placeholder:"Dirección",required:""},null,512),[[i.Jo,n.negocioModificar.direccion]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"descripcion","onUpdate:modelValue":e[7]||(e[7]=o=>n.negocioModificar.descripcion=o),placeholder:"Descripción"},null,512),[[i.Jo,n.negocioModificar.descripcion]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"date",id:"fechaVence","onUpdate:modelValue":e[8]||(e[8]=o=>n.negocioModificar.fechaVence=o),placeholder:"Fecha de Vencimiento"},null,512),[[i.Jo,n.negocioModificar.fechaVence]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"instagram","onUpdate:modelValue":e[9]||(e[9]=o=>n.negocioModificar.instagram=o),placeholder:"Instagram"},null,512),[[i.Jo,n.negocioModificar.instagram]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"facebook","onUpdate:modelValue":e[10]||(e[10]=o=>n.negocioModificar.facebook=o),placeholder:"Facebook"},null,512),[[i.Jo,n.negocioModificar.facebook]])]),(0,r.Lk)("div",null,[lt,(0,r.Lk)("input",{class:"form-control",type:"file",name:"imagen",id:"imagen",accept:".jpg",onChange:e[11]||(e[11]=(...e)=>o.imagenSeleccionada&&o.imagenSeleccionada(...e))},null,32)])]),dt],32)])])])],512)])}var mt=a(5768),pt={components:{NavbarAdminComponent:Do},data(){return{negocios:[],busqueda:"",negocioModificar:{usuario:"","contraseña":"",nombre:"",descripcion:"",correo:"",direccion:"",telefono:"",instagram:"",facebook:"",imagen:"",fechaVence:""}}},mounted(){this.fetchNegocios()},methods:{modificarPerfil(o){t.A.put("/modificarPerfilAdmin",{negocio:o}).then((()=>{console.log("enviado");const o=Ze().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",Ze().stopTimer),o.addEventListener("mouseleave",Ze().resumeTimer)}});o.fire({icon:"success",title:"Datos modificados."}),setTimeout((function(){ac.push("/u/u/negocios")}),2e3)})).catch((o=>{console.log("error"),console.error("Error al actualizar la información en la base de datos:",o)}))},modificarNegocio(o){this.negocioModificar.usuario=o.usuario,this.negocioModificar.contraseña=o.contraseña,this.negocioModificar.nombre=o.nombre,this.negocioModificar.descripcion=o.descripcion,this.negocioModificar.correo=o.correo,this.negocioModificar.direccion=o.direccion,this.negocioModificar.telefono=o.telefono,this.negocioModificar.instagram=o.instagram,this.negocioModificar.facebook=o.facebook,this.negocioModificar.imagen=o.imagen,this.negocioModificar.fechaVence=(0,mt.GP)(new Date(o.fechaVence),"yyyy-MM-dd"),console.log(this.negocioModificar)},formatear(o){return(0,mt.GP)(new Date(o),"dd/MM/yyyy")},async fetchNegocios(){try{const o=await t.A.get("/listarNegocios");this.negocios=o.data}catch(o){console.error("Error al obtener los datos de los negocios:",o)}finally{this.cargando=!1}}},computed:{negociosFiltrados(){return this.negocios.filter((o=>{const e=o.nombre||"",a=o.descripcion||"";return e.toLowerCase().includes(this.busqueda.toLowerCase())||a.toLowerCase().includes(this.busqueda.toLowerCase())}))}}};const gt=(0,p.A)(pt,[["render",ut],["__scopeId","data-v-ce547948"]]);var bt=gt;const kt=o=>((0,r.Qi)("data-v-4becb255"),o=o(),(0,r.jt)(),o),vt={class:"container mt-4 mb-2"},ft=kt((()=>(0,r.Lk)("h1",{class:"text-center"},"Nuevo Producto",-1))),ht={class:"row g-3 div-forms border mt-2"},Lt=kt((()=>(0,r.Lk)("h4",{class:"titulo-div-forms mb-2"},"Información del Producto",-1))),Ct={class:"col-md-6"},yt={class:"col-md-12 mt-3"},_t={class:"col-md-6"},xt=kt((()=>(0,r.Lk)("option",{selected:"",disabled:""},"Categoría",-1))),wt=["value"],Et=kt((()=>(0,r.Lk)("div",{class:"col-md-6 izq"},[(0,r.Lk)("button",{type:"button",class:"btn btn-agregar","data-bs-toggle":"modal","data-bs-target":"#agregarCategoria"}," Agregar Categoría ")],-1))),Pt={class:"col-md-6"},St={class:"col-md-6"},It=kt((()=>(0,r.Lk)("label",{class:"form-label mr-2",for:"imagen"},"Imagen (JPG)",-1))),Nt=kt((()=>(0,r.Lk)("div",null,[(0,r.Lk)("button",{class:"btn btn-menu botones mt-3",type:"submit"},"Agregar")],-1))),Mt={class:"modal fade",id:"agregarCategoria",tabindex:"-1","aria-labelledby":"agregarCategoriaLabel","aria-hidden":"true"},At={class:"modal-dialog modal-dialog-centered"},Xt={class:"modal-content"},qt=kt((()=>(0,r.Lk)("div",{class:"modal-header"},[(0,r.Lk)("h1",{class:"modal-title fs-5",id:"agregarCategoriaLabel"},"Nueva Categoría"),(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Ut={class:"modal-body"},Ft=kt((()=>(0,r.Lk)("div",{class:"modal-footer"},[(0,r.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cerrar"),(0,r.Lk)("button",{class:"btn btn-primary",type:"submit","data-bs-dismiss":"modal"},"Agregar")],-1)));function Vt(o,e,a,t,n,s){const c=(0,r.g2)("NavbarComponent");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(c),(0,r.Lk)("div",vt,[ft,(0,r.Lk)("form",{onSubmit:e[5]||(e[5]=(0,i.D$)((o=>s.nuevoProducto(this.producto)),["prevent"])),enctype:"multipart/form-data"},[(0,r.Lk)("div",ht,[Lt,(0,r.Lk)("div",Ct,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"nombre","onUpdate:modelValue":e[0]||(e[0]=o=>n.producto.nombre=o),placeholder:"Nombre del Producto",required:""},null,512),[[i.Jo,n.producto.nombre]])]),(0,r.Lk)("div",yt,[(0,r.bo)((0,r.Lk)("textarea",{class:"form-control",type:"text",id:"descripcion","onUpdate:modelValue":e[1]||(e[1]=o=>n.producto.descripcion=o),placeholder:"Descripción"},null,512),[[i.Jo,n.producto.descripcion]])]),(0,r.Lk)("div",_t,[(0,r.bo)((0,r.Lk)("select",{class:"form-select","onUpdate:modelValue":e[2]||(e[2]=o=>n.producto.categoria=o),id:"",required:""},[xt,((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.categorias,(o=>((0,r.uX)(),(0,r.CE)("option",{key:o.id,value:o.categoria_nombre},(0,L.v_)(o.categoria_nombre),9,wt)))),128))],512),[[i.u1,n.producto.categoria]])]),Et,(0,r.Lk)("div",Pt,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"number",id:"precio","onUpdate:modelValue":e[3]||(e[3]=o=>n.producto.precio=o),placeholder:"Precio (sin $)"},null,512),[[i.Jo,n.producto.precio]])]),(0,r.Lk)("div",St,[It,(0,r.Lk)("input",{class:"form-control",type:"file",name:"imagen",id:"imagen",accept:".jpg",onChange:e[4]||(e[4]=o=>s.imagenSeleccionada(o))},null,32)])]),Nt],32),(0,r.Lk)("div",Mt,[(0,r.Lk)("div",At,[(0,r.Lk)("div",Xt,[qt,(0,r.Lk)("div",Ut,[(0,r.Lk)("form",{onSubmit:e[7]||(e[7]=(0,i.D$)(((...o)=>s.agregarCategoria&&s.agregarCategoria(...o)),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"nombre","onUpdate:modelValue":e[6]||(e[6]=o=>n.categoria_nombre=o),placeholder:"Nombre de la Categoría",required:""},null,512),[[i.Jo,n.categoria_nombre]]),Ft],32)])])])])])])}var Tt={components:{NavbarComponent:fo},data(){return{producto:{nombre:"",descripcion:"",categoria:"Categoría",precio:"",imagen:"",usuario:""},categoria_nombre:"",categorias:[],modalAbierto:!1}},created(){this.obtenerCategorias(),this.obtenerUsuario()},methods:{obtenerUsuario(){this.producto.usuario=localStorage.getItem("usuario")},obtenerCategorias(){t.A.get(`/categorias?usuario=${localStorage.getItem("usuario")}`).then((o=>{this.categorias=o.data})).catch((o=>{console.error("Error al obtener las categorías:",o)}))},imagenSeleccionada(o){const e=o.target.files[0];if(e){const o=new FileReader;o.onload=o=>{this.producto.imagen=o.target.result},o.readAsDataURL(e)}},nuevoProducto(o){t.A.post("/nuevoProducto",{producto:o}).then((()=>{const o=Ze().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",Ze().stopTimer),o.addEventListener("mouseleave",Ze().resumeTimer)}});o.fire({icon:"success",title:"Producto agregado."}),this.modalAbierto=!0,setTimeout((function(){ac.push("/u/nuevoProducto")}),2e3)})).catch((()=>{Ze().fire({icon:"error",text:"No se pudo agregar el producto."})}))},agregarCategoria(){t.A.post("nuevaCategoria",{categoria_nombre:this.categoria_nombre,usuario_nombre:localStorage.getItem("usuario")}).then((()=>{this.obtenerCategorias(),this.producto.categoria=this.categoria_nombre,this.categoria_nombre="";const o=Ze().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",Ze().stopTimer),o.addEventListener("mouseleave",Ze().resumeTimer)}});o.fire({icon:"success",title:"Categoría agregada."}),this.modalAbierto=!0})).catch((()=>{Ze().fire({icon:"error",text:"No se pudo agregar la categoría."})}))}}};const Wt=(0,p.A)(Tt,[["render",Vt],["__scopeId","data-v-4becb255"]]);var Dt=Wt;const Qt=o=>((0,r.Qi)("data-v-268193d0"),o=o(),(0,r.jt)(),o),Jt={class:"container mt-4 mb-2"},$t=Qt((()=>(0,r.Lk)("h1",{class:"text-center"},"Listado de Productos",-1))),Ot={class:"flex"},zt={class:"izquierda ancho-busqueda"},jt={class:"ancho border border-2 mt-2"},Rt={class:"table table-light table-striped text-center",id:"informe-table"},Bt=Qt((()=>(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Nombre del Producto"),(0,r.Lk)("th",null,"Descripción"),(0,r.Lk)("th",null,"Categoría"),(0,r.Lk)("th",null,"Precio"),(0,r.Lk)("th",null,"¿Disponible?"),(0,r.Lk)("th",null,"Imagen"),(0,r.Lk)("th"),(0,r.Lk)("th")])],-1))),Gt={class:"form-check form-switch"},Kt=["onChange","checked"],Ht=["src"],Yt={key:1},Zt=Qt((()=>(0,r.Lk)("img",{class:"imagen",src:"/recursos/missing-img.png",alt:""},null,-1))),oi=[Zt],ei=["onClick"],ai=["onClick"],ti={key:0,class:"text-center mt-3"},ii={class:"modal fade",id:"modificarProducto",tabindex:"-1","aria-labelledby":"modificarProductoLabel","aria-hidden":"true",ref:"modalModificar"},ri={class:"modal-dialog modal-dialog-centered"},ni={class:"modal-content"},si=Qt((()=>(0,r.Lk)("div",{class:"modal-header"},[(0,r.Lk)("h1",{class:"modal-title fs-5",id:"modificarProductoLabel"},"Modificar Producto"),(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),ci={class:"modal-body"},li={class:"row g-3 div-forms border"},di=Qt((()=>(0,r.Lk)("h4",{class:"titulo-div-forms mb-2"},"Información del Producto",-1))),ui=Qt((()=>(0,r.Lk)("option",{selected:"",disabled:""},"Categoría",-1))),mi=["value"],pi=Qt((()=>(0,r.Lk)("div",null,[(0,r.Lk)("button",{type:"button",class:"btn btn-agregar","data-bs-toggle":"modal","data-bs-target":"#agregarCategoria"}," Agregar Categoría ")],-1))),gi=Qt((()=>(0,r.Lk)("label",{class:"form-label mr-2",for:"imagen"},"Imagen (JPG)",-1))),bi=Qt((()=>(0,r.Lk)("div",{class:"text-end"},[(0,r.Lk)("button",{class:"btn btn-menu botones mt-3",type:"submit","data-bs-dismiss":"modal","aria-label":"Close"},"Modificar")],-1))),ki={class:"modal fade",id:"agregarCategoria",tabindex:"-1","aria-labelledby":"agregarCategoriaLabel","aria-hidden":"true"},vi={class:"modal-dialog modal-dialog-centered"},fi={class:"modal-content"},hi=Qt((()=>(0,r.Lk)("div",{class:"modal-header"},[(0,r.Lk)("h1",{class:"modal-title fs-5",id:"agregarCategoriaLabel"},"Nueva Categoría"),(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Li={class:"modal-body"},Ci=Qt((()=>(0,r.Lk)("div",{class:"modal-footer"},[(0,r.Lk)("button",{type:"button",class:"btn btn-secondary","data-bs-target":"#modificarProducto","data-bs-toggle":"modal","data-bs-dismiss":"modal"},"Cerrar"),(0,r.Lk)("button",{class:"btn btn-primary",type:"submit","data-bs-target":"#modificarProducto","data-bs-toggle":"modal","data-bs-dismiss":"modal"},"Agregar")],-1)));function yi(o,e,a,t,n,s){const c=(0,r.g2)("NavbarComponent");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(c),(0,r.Lk)("div",Jt,[$t,(0,r.Lk)("div",Ot,[(0,r.Lk)("div",zt,[(0,r.bo)((0,r.Lk)("input",{class:"form-control barra-busqueda","onUpdate:modelValue":e[0]||(e[0]=o=>n.busqueda=o),type:"text",name:"busqueda",id:"",placeholder:"Buscar",title:"Ingrese una palabra clave..."},null,512),[[i.Jo,n.busqueda]])])]),(0,r.Lk)("div",jt,[(0,r.Lk)("table",Rt,[Bt,(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.productosFiltrados,((o,e)=>((0,r.uX)(),(0,r.CE)("tr",{class:"mauto",key:e},[(0,r.Lk)("td",null,(0,L.v_)(o.producto_nombre),1),(0,r.Lk)("td",null,(0,L.v_)(o.producto_descripcion),1),(0,r.Lk)("td",null,(0,L.v_)(o.producto_categoria),1),(0,r.Lk)("td",null,(0,L.v_)(o.producto_precio),1),(0,r.Lk)("td",null,[(0,r.Lk)("div",Gt,[(0,r.Lk)("input",{type:"checkbox",onChange:e=>s.actualizarEstadoProducto(o),class:"form-check-input",name:"",id:"productoDisponible",checked:1===o.producto_disponibilidad},null,40,Kt)])]),(0,r.Lk)("td",null,[o.producto_imagen?((0,r.uX)(),(0,r.CE)("img",{key:0,class:"imagen",src:o.producto_imagen,alt:""},null,8,Ht)):((0,r.uX)(),(0,r.CE)("div",Yt,oi))]),(0,r.Lk)("td",null,[(0,r.Lk)("button",{class:"btn btn-menu",title:"Modificar","data-bs-toggle":"modal","data-bs-target":"#modificarProducto",onClick:e=>s.modificar(o)},"Modificar",8,ei)]),(0,r.Lk)("td",null,[(0,r.Lk)("button",{class:"btn btn-menu-danger",title:"Eliminar",onClick:e=>s.eliminar(o.producto_id)},"Eliminar",8,ai)])])))),128))])]),0===s.productosFiltrados.length?((0,r.uX)(),(0,r.CE)("div",ti," No se encontraron resultados para esa búsqueda. ")):(0,r.Q3)("",!0)]),(0,r.Lk)("div",ii,[(0,r.Lk)("div",ri,[(0,r.Lk)("div",ni,[si,(0,r.Lk)("div",ci,[(0,r.Lk)("form",{onSubmit:e[6]||(e[6]=(0,i.D$)((o=>s.modificarProducto(this.productoModificar)),["prevent"]))},[(0,r.Lk)("div",li,[di,(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"nombre","onUpdate:modelValue":e[1]||(e[1]=o=>n.productoModificar.producto_nombre=o),required:""},null,512),[[i.Jo,n.productoModificar.producto_nombre]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("textarea",{class:"form-control",type:"text",id:"descripcion","onUpdate:modelValue":e[2]||(e[2]=o=>n.productoModificar.producto_descripcion=o),placeholder:"Descripción"},null,512),[[i.Jo,n.productoModificar.producto_descripcion]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("select",{class:"form-select","onUpdate:modelValue":e[3]||(e[3]=o=>n.productoModificar.producto_categoria=o),id:"",required:""},[ui,((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.categorias,(o=>((0,r.uX)(),(0,r.CE)("option",{key:o.id,value:o.categoria_nombre},(0,L.v_)(o.categoria_nombre),9,mi)))),128))],512),[[i.u1,n.productoModificar.producto_categoria]])]),pi,(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"number",id:"precio","onUpdate:modelValue":e[4]||(e[4]=o=>n.productoModificar.producto_precio=o),placeholder:"Precio (sin $)"},null,512),[[i.Jo,n.productoModificar.producto_precio]])]),(0,r.Lk)("div",null,[gi,(0,r.Lk)("input",{class:"form-control",type:"file",name:"imagen",id:"imagen",accept:".jpg",onChange:e[5]||(e[5]=(...o)=>s.imagenSeleccionada&&s.imagenSeleccionada(...o))},null,32)])]),bi],32)])])])],512),(0,r.Lk)("div",ki,[(0,r.Lk)("div",vi,[(0,r.Lk)("div",fi,[hi,(0,r.Lk)("div",Li,[(0,r.Lk)("form",{onSubmit:e[8]||(e[8]=(0,i.D$)(((...o)=>s.agregarCategoria&&s.agregarCategoria(...o)),["prevent"]))},[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"nombre","onUpdate:modelValue":e[7]||(e[7]=o=>n.categoria_nombre=o),placeholder:"Nombre de la Categoría",required:""},null,512),[[i.Jo,n.categoria_nombre]]),Ci],32)])])])])])])}var _i={components:{NavbarComponent:fo},data(){return{productos:[],productoModificar:"",busqueda:"",usuario:localStorage.getItem("usuario"),producto:{nombre:"",descripcion:"",categoria:"Categoría",precio:"",imagen:"",usuario:""},categoria_nombre:"",categorias:[],modalAbierto:!1}},created(){this.fetchProductos()},computed:{productosFiltrados(){return this.productos.filter((o=>{const e=o.producto_nombre||"",a=o.producto_descripcion||"",t=o.producto_categoria||"",i=o.producto_precio||"";return e.toLowerCase().includes(this.busqueda.toLowerCase())||a.toLowerCase().includes(this.busqueda.toLowerCase())||t.toLowerCase().includes(this.busqueda.toLowerCase())||i.toLowerCase().includes(this.busqueda.toLowerCase())}))}},methods:{async fetchCategorias(){t.A.get(`/categorias?usuario=${localStorage.getItem("usuario")}`).then((o=>{this.categorias=o.data})).catch((o=>{console.error("Error al obtener las categorías:",o)}))},modificar(o){this.fetchCategorias(),this.productoModificar=o},actualizarEstadoProducto(o){o.producto_disponibilidad?o.producto_disponibilidad=0:o.producto_disponibilidad=1,t.A.put("/actualizarDisponibilidad",{productoId:o.producto_id,nuevoEstado:o.producto_disponibilidad}).then((()=>{})).catch((e=>{console.error("Error al actualizar el estado en la base de datos:",e),o.producto_disponibilidad=!o.producto_disponibilidad}))},async fetchProductos(){try{const o=await t.A.get(`/productos?usuario=${this.usuario}`);this.productos=o.data}catch(o){console.error("Error al cargar los productos:",o)}},modificarProducto(o){t.A.put("/modificarProducto",{producto:o}).then((()=>{const o=Ze().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",Ze().stopTimer),o.addEventListener("mouseleave",Ze().resumeTimer)}});o.fire({icon:"success",title:"Producto modificado."})})).catch((o=>{console.error("Error al actualizar el estado en la base de datos:",o)}))},eliminar(o){Ze().fire({icon:"info",title:"<strong>¿Estas segur@?</strong>",html:"",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonText:"No, cancelar",confirmButtonText:"Sí, eliminar!"}).then((e=>{e.isConfirmed&&t.A.delete("/eliminarProducto",{data:{productoId:o}}).then((()=>{const e=this.productos.findIndex((e=>e.producto_id===o));-1!==e&&this.productos.splice(e,1);const a=Ze().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",Ze().stopTimer),o.addEventListener("mouseleave",Ze().resumeTimer)}});a.fire({icon:"success",title:"Producto eliminado."})})).catch((o=>{console.error("Error al eliminar el producto:",o),Ze().fire({icon:"error",title:"Error al eliminar",text:o.message})}))}))},agregarCategoria(){t.A.post("nuevaCategoria",{categoria_nombre:this.categoria_nombre,usuario_nombre:localStorage.getItem("usuario")}).then((()=>{this.productoModificar.producto_categoria=this.categoria_nombre,this.categoria_nombre="";const o=Ze().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",Ze().stopTimer),o.addEventListener("mouseleave",Ze().resumeTimer)}});o.fire({icon:"success",title:"Categoría agregada."}),this.modalAbierto=!0})).catch((()=>{Ze().fire({icon:"error",text:"No se pudo agregar la categoría."})}))},imagenSeleccionada(o){const e=o.target.files[0];if(e){const o=new FileReader;o.onload=o=>{this.productoModificar.producto_imagen=o.target.result},o.readAsDataURL(e)}}}};const xi=(0,p.A)(_i,[["render",yi],["__scopeId","data-v-268193d0"]]);var wi=xi;function Ei(o,e,a,t,i,n){const s=(0,r.g2)("NavbarComponent");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(s)])}var Pi={components:{NavbarComponent:fo}};const Si=(0,p.A)(Pi,[["render",Ei]]);var Ii=Si;function Ni(o,e,a,t,i,n){const s=(0,r.g2)("NavbarComponent");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(s)])}var Mi={components:{NavbarComponent:fo}};const Ai=(0,p.A)(Mi,[["render",Ni]]);var Xi=Ai;const qi=o=>((0,r.Qi)("data-v-f64b34b2"),o=o(),(0,r.jt)(),o),Ui={key:0,class:"pantalla-carga text-center"},Fi=qi((()=>(0,r.Lk)("div",{class:"logo-carga"},[(0,r.Lk)("img",{class:"logo-img",src:"/favicon.ico",width:"50",alt:""}),(0,r.Lk)("div",{class:"texto-carga"}," Cargando productos ")],-1))),Vi=[Fi],Ti={key:1},Wi={class:"navbar navbar-expand-lg navbar-light bg-light"},Di={class:"container-fluid"},Qi=qi((()=>(0,r.Lk)("button",{class:"navbar-brand navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,r.Lk)("span",{class:"navbar-toggler-icon"})],-1))),Ji={class:"collapse navbar-collapse",id:"navbarSupportedContent"},$i={class:"navbar-nav me-auto mb-2 mb-lg-0"},Oi={key:0,class:"nav-item"},zi=["onClick"],ji={class:"container2"},Ri={key:0},Bi={class:"presentacion"},Gi={class:"imagen-container"},Ki=["src"],Hi={class:"texto-superpuesto"},Yi={class:"texto-superpuesto2"},Zi={class:"text-center"},or=["href"],er=qi((()=>(0,r.Lk)("img",{width:"40",src:"/recursos/pin.png"},null,-1))),ar=[er],tr=qi((()=>(0,r.Lk)("br",null,null,-1))),ir=["href"],rr=qi((()=>(0,r.Lk)("img",{width:"40",src:"/recursos/instagram.png"},null,-1))),nr=[rr],sr=["href"],cr=qi((()=>(0,r.Lk)("img",{width:"36",src:"/recursos/facebook.png"},null,-1))),lr=[cr],dr={class:"tarjeta-container"},ur={class:"ancho"},mr={class:"izquierda ancho-busqueda"},pr=["id"],gr={key:0},br=["onClick"],kr={class:"p-2"},vr={key:0,class:"item-imagen"},fr=["src"],hr={class:"item-texto-block"},Lr={class:"item-texto-block-start"},Cr={class:"item-nombre"},yr={class:"item-precio"},_r={key:0,class:"item-descripcion"},xr={key:1,class:"item-texto-block-end"},wr=["onClick"],Er={class:"cantidad"},Pr=["onClick","disabled"],Sr={key:0,class:"ver-carrito-btn"},Ir={"data-bs-toggle":"modal","data-bs-target":"#modalCarrito"},Nr={key:1,class:"text-center mt-3"},Mr={key:1,class:"container text-center mt-4 no-negocio"},Ar=(0,r.Fv)('<div class="error-container" data-v-f64b34b2><div class="error-content" data-v-f64b34b2><h1 class="display-1 text-danger" data-v-f64b34b2>404</h1><h2 class="display-4" data-v-f64b34b2>Página no encontrada</h2><p class="lead" data-v-f64b34b2>Lo sentimos, la página que buscas no se encuentra disponible o no tiene productos disponibles.</p></div></div>',1),Xr=[Ar],qr={class:"modal fade",id:"modalCarrito",tabindex:"-1","aria-labelledby":"modalCarritoLabel","aria-hidden":"true"},Ur={class:"modal-dialog"},Fr={class:"modal-content"},Vr=qi((()=>(0,r.Lk)("div",{class:"modal-header"},[(0,r.Lk)("h5",{class:"modal-title"},"¿Todo listo para encargar?"),(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Tr={class:"modal-body"},Wr={key:0,class:"item-imagen"},Dr=["src"],Qr={class:"item-texto-block"},Jr={class:"item-texto-block-start"},$r={class:"item-nombre"},Or={class:"item-precio"},zr={key:0,class:"item-descripcion"},jr={class:"item-texto-block-end"},Rr=["onClick"],Br={class:"cantidad"},Gr=["onClick","disabled"],Kr={class:"text-end mt-4"},Hr={class:"modal-footer"},Yr=["disabled"],Zr={class:"modal fade",id:"modalPedido",tabindex:"-1","aria-labelledby":"modalPedidoLabel","aria-hidden":"true"},on={class:"modal-dialog"},en={class:"modal-content"},an=qi((()=>(0,r.Lk)("div",{class:"modal-header"},[(0,r.Lk)("h5",{class:"modal-title"},"Tus datos"),(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),tn={class:"modal-body"},rn=qi((()=>(0,r.Lk)("option",{value:"Transferencia"},"Transferencia",-1))),nn=qi((()=>(0,r.Lk)("option",{value:"Efectivo"},"Efectivo",-1))),sn=[rn,nn],cn={class:"modal-footer"},ln=["disabled"];function dn(o,e,a,t,n,s){return(0,r.uX)(),(0,r.CE)("div",null,[n.cargando?((0,r.uX)(),(0,r.CE)("div",Ui,Vi)):((0,r.uX)(),(0,r.CE)("div",Ti,[(0,r.Lk)("nav",Wi,[(0,r.Lk)("div",Di,[(0,r.Lk)("a",{class:"navbar-brand",onClick:e[0]||(e[0]=(...o)=>s.scrollToInicio&&s.scrollToInicio(...o)),href:"#"},"~ "+(0,L.v_)(n.nombreNegocio.toUpperCase())+" ~",1),Qi,(0,r.Lk)("div",Ji,[(0,r.Lk)("ul",$i,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.categoriasOrdenadas,((o,e)=>((0,r.uX)(),(0,r.CE)("div",{key:e},[s.categoriasConProductosFiltrados.includes(o)?((0,r.uX)(),(0,r.CE)("li",Oi,[(0,r.Lk)("a",{class:"nav-link",onClick:e=>{s.scrollToCategoria(o),s.collapseNavbar()}},(0,L.v_)(o),9,zi)])):(0,r.Q3)("",!0)])))),128))])])])]),(0,r.Lk)("div",ji,[n.productos.length?((0,r.uX)(),(0,r.CE)("div",Ri,[(0,r.Lk)("div",Bi,[(0,r.Lk)("div",Gi,[(0,r.Lk)("img",{src:n.negocio.imagen,alt:"",class:"img-negocio"},null,8,Ki),(0,r.Lk)("div",Hi,[(0,r.eW)("BIENVENIDOS "),(0,r.Lk)("div",Yi,'"'+(0,L.v_)(n.negocio.descripcion)+'"',1),(0,r.Lk)("div",Zi,[(0,r.Lk)("a",{href:"https://www.google.com/maps/search/"+encodeURIComponent(n.negocio.direccion),target:"_blank"},ar,8,or),(0,r.eW)(),tr,n.negocio.instagram?((0,r.uX)(),(0,r.CE)("a",{key:0,class:"mauto",href:n.negocio.instagram,target:"blank"},nr,8,ir)):(0,r.Q3)("",!0),n.negocio.facebook?((0,r.uX)(),(0,r.CE)("a",{key:1,class:"mauto",href:n.negocio.facebook,target:"blank"},lr,8,sr)):(0,r.Q3)("",!0)])])])]),(0,r.Lk)("div",dr,[(0,r.Lk)("div",ur,[(0,r.Lk)("div",mr,[(0,r.bo)((0,r.Lk)("input",{class:"form-control barra-busqueda","onUpdate:modelValue":e[1]||(e[1]=o=>n.busqueda=o),type:"text",name:"busqueda",id:"",placeholder:"Buscar producto",title:"Ingrese una palabra clave..."},null,512),[[i.Jo,n.busqueda]])]),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.categoriasOrdenadas,((o,e)=>((0,r.uX)(),(0,r.CE)("div",{class:"mt-2",key:e,id:o},[s.filteredProductos(o)?((0,r.uX)(),(0,r.CE)("div",gr,[(0,r.Lk)("div",{class:"titulo-categoria",onClick:e=>s.toggleCategoria(o)},(0,L.v_)(o),9,br),(0,r.Lk)("div",{class:(0,L.C4)({"categoria-productos":!0,"categoria-activa":n.categoriaSeleccionada===o})},[(0,r.Lk)("div",kr,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.filteredProductos(o),((o,e)=>((0,r.uX)(),(0,r.CE)("div",{class:"item-container mt-2",key:e},[o.producto_imagen?((0,r.uX)(),(0,r.CE)("div",vr,[(0,r.Lk)("div",null,[(0,r.Lk)("img",{class:"imagen",src:o.producto_imagen,alt:" "},null,8,fr)])])):(0,r.Q3)("",!0),(0,r.Lk)("div",hr,[(0,r.Lk)("div",Lr,[(0,r.Lk)("div",Cr,(0,L.v_)(o.producto_nombre),1),(0,r.Lk)("div",yr," $"+(0,L.v_)(o.producto_precio),1),o.producto_descripcion?((0,r.uX)(),(0,r.CE)("div",_r,' "'+(0,L.v_)(o.producto_descripcion)+'" ',1)):(0,r.Q3)("",!0)])]),2100!==n.negocio.fechaVence?((0,r.uX)(),(0,r.CE)("div",xr,[(0,r.Lk)("button",{class:"btn-mas",onClick:e=>s.agregarAlCarrito(o)}," + ",8,wr),(0,r.Lk)("div",Er,(0,L.v_)(o.cantidadSeleccionada),1),(0,r.Lk)("button",{class:"btn-menos",onClick:e=>s.quitarDelCarrito(o),disabled:!o.cantidadSeleccionada}," - ",8,Pr)])):(0,r.Q3)("",!0)])))),128))])],2)])):(0,r.Q3)("",!0)],8,pr)))),128)),n.carrito.length>0?((0,r.uX)(),(0,r.CE)("div",Sr,[(0,r.Lk)("button",Ir,"Ver Carrito $"+(0,L.v_)(n.total),1)])):(0,r.Q3)("",!0),0===s.productosFiltrados.length?((0,r.uX)(),(0,r.CE)("div",Nr," No se encontraron resultados para esa búsqueda. ")):(0,r.Q3)("",!0)])])])):((0,r.uX)(),(0,r.CE)("div",Mr,Xr))])])),(0,r.Lk)("div",qr,[(0,r.Lk)("div",Ur,[(0,r.Lk)("div",Fr,[Vr,(0,r.Lk)("div",Tr,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.carrito,((o,e)=>((0,r.uX)(),(0,r.CE)("div",{class:"item-container mt-2",key:e},[o.producto_imagen?((0,r.uX)(),(0,r.CE)("div",Wr,[(0,r.Lk)("div",null,[(0,r.Lk)("img",{class:"imagen",src:o.producto_imagen,alt:" "},null,8,Dr)])])):(0,r.Q3)("",!0),(0,r.Lk)("div",Qr,[(0,r.Lk)("div",Jr,[(0,r.Lk)("div",$r,(0,L.v_)(o.producto_nombre),1),(0,r.Lk)("div",Or," $"+(0,L.v_)(o.producto_precio),1),o.producto_descripcion?((0,r.uX)(),(0,r.CE)("div",zr,' "'+(0,L.v_)(o.producto_descripcion)+'" ',1)):(0,r.Q3)("",!0)])]),(0,r.Lk)("div",jr,[(0,r.Lk)("button",{class:"btn-mas",onClick:e=>s.agregarAlCarrito(o)}," + ",8,Rr),(0,r.Lk)("div",Br,(0,L.v_)(o.cantidadSeleccionada),1),(0,r.Lk)("button",{class:"btn-menos",onClick:e=>s.quitarDelCarrito(o),disabled:!o.cantidadSeleccionada}," - ",8,Gr)])])))),128)),(0,r.Lk)("h4",Kr,"Total: $"+(0,L.v_)(n.total),1)]),(0,r.Lk)("div",Hr,[(0,r.Lk)("button",{type:"button",class:"ver-carrito-btn2",disabled:!n.carrito.length>0,"data-bs-toggle":"modal","data-bs-target":"#modalPedido"},"Realizar pedido",8,Yr)])])])]),(0,r.Lk)("div",Zr,[(0,r.Lk)("div",on,[(0,r.Lk)("div",en,[an,(0,r.Lk)("form",{onSubmit:e[6]||(e[6]=(0,i.D$)(((...o)=>s.realizarPedido&&s.realizarPedido(...o)),["prevent"]))},[(0,r.Lk)("div",tn,[(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control",placeholder:"Nombre y Apellido (obligatorio)","onUpdate:modelValue":e[2]||(e[2]=o=>n.pedido.nombre=o),required:""},null,512),[[i.Jo,n.pedido.nombre]]),(0,r.bo)((0,r.Lk)("select",{class:"form-control form-select mt-4",id:"","onUpdate:modelValue":e[3]||(e[3]=o=>n.pedido.medio=o),required:""},sn,512),[[i.u1,n.pedido.medio]]),(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control mt-4",placeholder:"Dirección (opcional)","onUpdate:modelValue":e[4]||(e[4]=o=>n.pedido.direccion=o)},null,512),[[i.Jo,n.pedido.direccion]]),(0,r.bo)((0,r.Lk)("input",{type:"text",class:"form-control mt-4",placeholder:"Detalle del pedido (opcional)","onUpdate:modelValue":e[5]||(e[5]=o=>n.pedido.detalle=o)},null,512),[[i.Jo,n.pedido.detalle]])]),(0,r.Lk)("div",cn,[(0,r.Lk)("button",{type:"submit",class:"ver-carrito-btn2",disabled:!n.carrito.length>0},"Realizar pedido",8,ln)])],32)])])])])}var un={data(){return{categoriaSeleccionada:null,mostrarModal:!0,nombreNegocio:"",productos:[],busqueda:"",negocio:{usuario:"",nombre:"",correo:"",telefono:"",direccion:"",descripcion:"",imagen:"",fechaVence:""},cargando:!0,carrito:[],total:0,pedido:{nombre:"",medio:"Transferencia",direccion:"",detalle:""}}},mounted(){this.nombreNegocio=this.$route.params.nombreNegocio,this.obtenerInformacionNegocio()},computed:{categoriasOrdenadas(){return[...new Set(this.productosFiltrados.map((o=>o.producto_categoria)))].sort()},productosFiltrados(){const o=o=>o.normalize("NFD").replace(/[\u0300-\u036f]/g,"");return this.productos.filter((e=>{const a=e.producto_nombre||"",t=e.producto_descripcion||"",i=e.producto_categoria||"",r=e.producto_precio||"",n=o(this.busqueda.toLowerCase());return o(a.toLowerCase()).includes(n)||o(t.toLowerCase()).includes(n)||o(i.toLowerCase()).includes(n)||o(r.toString().toLowerCase()).includes(n)}))},categoriasConProductosFiltrados(){return[...new Set(this.productosFiltrados.map((o=>o.producto_categoria)))]}},methods:{toggleCategoria(o){this.categoriaSeleccionada===o?this.categoriaSeleccionada=null:this.categoriaSeleccionada=o},async obtenerCarrito(){if(null!==sessionStorage.getItem("carrito")){this.carrito=JSON.parse(sessionStorage.getItem("carrito")),this.total=parseFloat(sessionStorage.getItem("total"));for(const o of this.productos){const e=this.carrito.findIndex((e=>e.producto_id===o.producto_id));-1!==e&&(o.cantidadSeleccionada=this.carrito[e].cantidadSeleccionada)}}null!==localStorage.getItem("pedido")&&(this.pedido=JSON.parse(localStorage.getItem("pedido")))},realizarPedido(){localStorage.setItem("pedido",JSON.stringify(this.pedido));const o=`¡Hola *${this.negocio.nombre}*! Quiero realizar un pedido:\n`,e=this.carrito.map((o=>`*${o.producto_nombre}:* $${o.producto_precio} (${o.cantidadSeleccionada})\n\n`)),a=`*Total: $${this.total}*\n\n`;let t=`*Nombre:* ${this.pedido.nombre}\n*Medio de pago:* ${this.pedido.medio}\n`;this.pedido.direccion?t+=`*Dirección:* ${this.pedido.direccion}\n`:this.pedido.detalle?t+=`*Detalle:* ${this.pedido.detalle}\n\n¡Muchas gracias!`:t+="\n¡Muchas gracias!";const i=o+e.join("")+a+t,r=navigator.userAgent||navigator.vendor||window.opera,n=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(r);let s=n?"whatsapp://send":"https://web.whatsapp.com/send";const c=`${s}?phone=${this.negocio.telefono}&text=${encodeURIComponent(i)}`;sessionStorage.clear(),location.reload(1),window.open(c)},agregarAlCarrito(o){const e=this.carrito.findIndex((e=>e.producto_id===o.producto_id));-1!==e?(o.cantidadSeleccionada++,this.carrito[e].cantidadSeleccionada=o.cantidadSeleccionada,this.total+=Number(o.producto_precio)):(o.cantidadSeleccionada=1,this.carrito.push(o),this.total+=Number(o.producto_precio)),sessionStorage.setItem("carrito",JSON.stringify(this.carrito)),sessionStorage.setItem("total",JSON.stringify(this.total))},quitarDelCarrito(o){const e=this.carrito.findIndex((e=>e.producto_id===o.producto_id));-1!==e&&(o.cantidadSeleccionada--,this.carrito[e].cantidadSeleccionada=o.cantidadSeleccionada,this.total-=Number(o.producto_precio),0===this.carrito[e].cantidadSeleccionada&&this.carrito.splice(e,1)),sessionStorage.setItem("carrito",JSON.stringify(this.carrito)),sessionStorage.setItem("total",JSON.stringify(this.total))},async obtenerInformacionNegocio(){try{const o=await t.A.get(`/negocio?usuario=${this.nombreNegocio}`);this.negocio=o.data,this.fetchProductos()}catch(o){console.error("Error al cargar los productos:",o)}finally{this.cargando=!1}},scrollToCategoria(o){const e=document.getElementById(o);if(e){const o=document.querySelector(".navbar").offsetHeight,a=e.getBoundingClientRect().top;window.scrollTo({top:window.scrollY+a-o,behavior:"smooth"})}this.toggleCategoria(o)},scrollToInicio(){window.scrollTo({top:0,behavior:"smooth"})},collapseNavbar(){const o=document.querySelector(".navbar-toggler"),e=document.querySelector(".navbar-collapse");o&&e.classList.contains("show")&&o.click()},async fetchProductos(){try{const o=await t.A.get(`/productos?usuario=${this.nombreNegocio}`),e=o.data.filter((o=>o.producto_disponibilidad)),a=e.sort(((o,e)=>{const a=o.producto_nombre.toUpperCase(),t=e.producto_nombre.toUpperCase();return a<t?-1:a>t?1:0}));a.forEach((o=>{o.cantidadSeleccionada=0})),this.productos=a,this.obtenerCarrito()}catch(o){console.error("Error al cargar los productos:",o)}finally{this.cargando=!1}},filteredProductos(o){return this.productosFiltrados.filter((e=>e.producto_categoria===o&&1===e.producto_disponibilidad))}}};const mn=(0,p.A)(un,[["render",dn],["__scopeId","data-v-f64b34b2"]]);var pn=mn;const gn=o=>((0,r.Qi)("data-v-29d97268"),o=o(),(0,r.jt)(),o),bn={class:"container mt-2 mb-2"},kn={key:0},vn={class:"tarjeta-container"},fn=gn((()=>(0,r.Lk)("div",{class:"titulo-categoria"},"Mi Perfil",-1))),hn={class:"p-2 text-center"},Ln={class:"tarjetaProducto"},Cn={key:0},yn=["src"],_n={class:"textoTarjeta"},xn={class:"flex mt-2"},wn={class:"izquierda"},En=gn((()=>(0,r.Lk)("hr",{class:"mt-2 mb-2"},null,-1))),Pn={class:"descripcion text-start"},Sn=gn((()=>(0,r.Lk)("strong",null,"Correo:",-1))),In=gn((()=>(0,r.Lk)("br",null,null,-1))),Nn=gn((()=>(0,r.Lk)("strong",null,"Teléfono:",-1))),Mn=gn((()=>(0,r.Lk)("br",null,null,-1))),An=gn((()=>(0,r.Lk)("strong",null,"Dirección:",-1))),Xn=gn((()=>(0,r.Lk)("br",null,null,-1))),qn=gn((()=>(0,r.Lk)("strong",null,"Descripción:",-1))),Un=gn((()=>(0,r.Lk)("br",null,null,-1))),Fn={class:"text-center"},Vn=["href"],Tn=gn((()=>(0,r.Lk)("img",{width:"40",src:"/recursos/instagram.png"},null,-1))),Wn=[Tn],Dn={key:1},Qn=["href"],Jn=gn((()=>(0,r.Lk)("img",{width:"36",src:"/recursos/facebook.png"},null,-1))),$n=[Jn],On={key:3},zn=gn((()=>(0,r.Lk)("button",{class:"btn btn-menu derecha mt-2 mb-2",title:"Modificar","data-bs-toggle":"modal","data-bs-target":"#modificarProducto"},"Modificar",-1))),jn={class:"modal fade",id:"modificarProducto",tabindex:"-1","aria-labelledby":"modificarProductoLabel","aria-hidden":"true",ref:"modalModificar"},Rn={class:"modal-dialog modal-dialog-centered"},Bn={class:"modal-content"},Gn=gn((()=>(0,r.Lk)("div",{class:"modal-header"},[(0,r.Lk)("h1",{class:"modal-title fs-5",id:"modificarProductoLabel"},"Modificar Datos"),(0,r.Lk)("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1))),Kn={class:"modal-body"},Hn={class:"row g-3 div-forms border"},Yn=gn((()=>(0,r.Lk)("h4",{class:"titulo-div-forms mb-2"},"Información del Negocio",-1))),Zn=gn((()=>(0,r.Lk)("label",{class:"form-label mr-2",for:"imagen"},"Imagen (JPG)",-1))),os=gn((()=>(0,r.Lk)("div",{class:"text-end"},[(0,r.Lk)("button",{class:"btn btn-menu botones mt-3",type:"submit","data-bs-dismiss":"modal","aria-label":"Close"},"Modificar")],-1)));function es(o,e,a,t,n,s){const c=(0,r.g2)("NavbarComponent");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(c),(0,r.Lk)("div",bn,[n.negocio?((0,r.uX)(),(0,r.CE)("div",kn,[(0,r.Lk)("div",vn,[(0,r.Lk)("div",null,[fn,(0,r.Lk)("div",hn,[(0,r.Lk)("div",Ln,[n.negocio.imagen?((0,r.uX)(),(0,r.CE)("div",Cn,[(0,r.Lk)("img",{class:"imagen",src:n.negocio.imagen,alt:" "},null,8,yn)])):(0,r.Q3)("",!0),(0,r.Lk)("div",_n,[(0,r.Lk)("div",xn,[(0,r.Lk)("h3",wn,(0,L.v_)(n.negocio.nombre),1)]),En,(0,r.Lk)("div",Pn,[Sn,(0,r.eW)(" "+(0,L.v_)(n.negocio.correo)+" ",1),In,Nn,(0,r.eW)(" "+(0,L.v_)(n.negocio.telefono)+" ",1),Mn,An,(0,r.eW)(" "+(0,L.v_)(n.negocio.direccion)+" ",1),Xn,qn,(0,r.eW)(" "+(0,L.v_)(n.negocio.descripcion)+" ",1),Un,(0,r.Lk)("div",Fn,[n.negocio.instagram?((0,r.uX)(),(0,r.CE)("a",{key:0,class:"mauto",href:n.negocio.instagram,target:"blank"},Wn,8,Vn)):((0,r.uX)(),(0,r.CE)("div",Dn,"Sin Instagram")),n.negocio.facebook?((0,r.uX)(),(0,r.CE)("a",{key:2,class:"mauto",href:n.negocio.facebook,target:"blank"},$n,8,Qn)):((0,r.uX)(),(0,r.CE)("div",On,"Sin Facebook"))])]),zn])])])])]),(0,r.Lk)("div",jn,[(0,r.Lk)("div",Rn,[(0,r.Lk)("div",Bn,[Gn,(0,r.Lk)("div",Kn,[(0,r.Lk)("form",{onSubmit:e[8]||(e[8]=(0,i.D$)((o=>s.modificarPerfil(this.negocio)),["prevent"]))},[(0,r.Lk)("div",Hn,[Yn,(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"nombre","onUpdate:modelValue":e[0]||(e[0]=o=>n.negocio.nombre=o),placeholder:"Nombre del Negocio",required:""},null,512),[[i.Jo,n.negocio.nombre]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"email",id:"correo","onUpdate:modelValue":e[1]||(e[1]=o=>n.negocio.correo=o),placeholder:"Correo"},null,512),[[i.Jo,n.negocio.correo]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"number",id:"telefono","onUpdate:modelValue":e[2]||(e[2]=o=>n.negocio.telefono=o),placeholder:"Teléfono"},null,512),[[i.Jo,n.negocio.telefono]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"direccion","onUpdate:modelValue":e[3]||(e[3]=o=>n.negocio.direccion=o),placeholder:"Dirección",required:""},null,512),[[i.Jo,n.negocio.direccion]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"descripcion","onUpdate:modelValue":e[4]||(e[4]=o=>n.negocio.descripcion=o),placeholder:"Descripción"},null,512),[[i.Jo,n.negocio.descripcion]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"instagram","onUpdate:modelValue":e[5]||(e[5]=o=>n.negocio.instagram=o),placeholder:"Instagram"},null,512),[[i.Jo,n.negocio.instagram]])]),(0,r.Lk)("div",null,[(0,r.bo)((0,r.Lk)("input",{class:"form-control",type:"text",id:"facebook","onUpdate:modelValue":e[6]||(e[6]=o=>n.negocio.facebook=o),placeholder:"Facebook"},null,512),[[i.Jo,n.negocio.facebook]])]),(0,r.Lk)("div",null,[Zn,(0,r.Lk)("input",{class:"form-control",type:"file",name:"imagen",id:"imagen",accept:".jpg",onChange:e[7]||(e[7]=(...o)=>s.imagenSeleccionada&&s.imagenSeleccionada(...o))},null,32)])]),os],32)])])])],512)])):(0,r.Q3)("",!0)])])}var as={components:{NavbarComponent:fo},data(){return{negocio:{usuario:"",nombre:"",correo:"",telefono:"",direccion:"",descripcion:"",imagen:"",instagram:"",facebook:""}}},mounted(){},created(){this.obtenerInformacionNegocio()},methods:{modificarPerfil(o){t.A.put("/modificarPerfil",{negocio:o}).then((()=>{localStorage.setItem("nombre",this.negocio.nombre);const o=Ze().mixin({toast:!0,position:"bottom-end",showConfirmButton:!1,timer:2e3,timerProgressBar:!0,didOpen:o=>{o.addEventListener("mouseenter",Ze().stopTimer),o.addEventListener("mouseleave",Ze().resumeTimer)}});o.fire({icon:"success",title:"Datos modificados."}),setTimeout((function(){ac.push("/u/productos")}),2e3)})).catch((o=>{console.error("Error al actualizar la información en la base de datos:",o)}))},async obtenerInformacionNegocio(){try{const o=await t.A.get(`/miNegocio?usuario=${localStorage.getItem("usuario")}`);this.negocio=o.data}catch(o){console.error("Error al cargar los productos:",o)}},imagenSeleccionada(o){const e=o.target.files[0];if(e){const o=new FileReader;o.onload=o=>{this.negocio.imagen=o.target.result},o.readAsDataURL(e)}}}};const ts=(0,p.A)(as,[["render",es],["__scopeId","data-v-29d97268"]]);var is=ts;const rs=o=>((0,r.Qi)("data-v-67c506f2"),o=o(),(0,r.jt)(),o),ns={class:"contenedor"},ss={class:"mt-4 mb-4"},cs=rs((()=>(0,r.Lk)("h1",{class:"text-center"},"¡Potenciá tu negocio!",-1))),ls=rs((()=>(0,r.Lk)("hr",null,null,-1))),ds={class:"row justify-content-center text-center mb-4"},us={class:"col-md-6"},ms=rs((()=>(0,r.Lk)("div",{class:"titulo-plan"},[(0,r.Lk)("h3",null,"Plan Básico")],-1))),ps={class:"border mt-2 p-2 text-center"},gs=rs((()=>(0,r.Lk)("div",{class:"titulo-plan"}," Gratis ",-1))),bs=rs((()=>(0,r.Lk)("ul",{class:"text-start"},[(0,r.Lk)("li",null,"✅Menú online autoadministrable."),(0,r.Lk)("li",null,"❌Visualización en nuestra plataforma."),(0,r.Lk)("li",null,"❌Carrito y pedidos por WhatsApp."),(0,r.Lk)("li",null,"❌Código QR para el menú.")],-1))),ks=rs((()=>(0,r.Lk)("hr",null,null,-1))),vs={class:"row justify-content-center text-center"},fs=rs((()=>(0,r.Lk)("div",{class:"col-md-6"},[(0,r.Lk)("div",{class:"titulo-plan"},[(0,r.Lk)("h3",null,"Plan Completo")]),(0,r.Lk)("div",{class:"mt-2 p-2 text-center"},[(0,r.Lk)("ul",{class:"text-start"},[(0,r.Lk)("li",null,"✅Menú online autoadministrable."),(0,r.Lk)("li",null,"✅Visualización en nuestra plataforma."),(0,r.Lk)("li",null,"✅Carrito y pedidos por WhatsApp."),(0,r.Lk)("li",null,"✅Código QR para el menú.")])])],-1))),hs={class:"col-md-12"},Ls={class:"mt-2 text-center"},Cs={class:"border p-2 m-2 col-md-3"},ys=rs((()=>(0,r.Lk)("div",{class:"titulo-plan"}," 1 Mes ",-1))),_s=rs((()=>(0,r.Lk)("div",{class:"precio-plan"}," $1500 ",-1))),xs={class:"border p-2 m-2 col-md-3"},ws=rs((()=>(0,r.Lk)("div",{class:"titulo-plan"}," 6 Meses ",-1))),Es=rs((()=>(0,r.Lk)("div",{class:"precio-plan"}," $7500 ",-1))),Ps={class:"border p-2 m-2 col-md-3"},Ss=rs((()=>(0,r.Lk)("div",{class:"titulo-plan"}," 12 Meses ",-1))),Is=rs((()=>(0,r.Lk)("div",{class:"precio-plan"}," $15000 ",-1)));function Ns(o,e,a,t,i,n){const s=(0,r.g2)("NavbarPublicoComponent");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(s),(0,r.Lk)("div",ns,[(0,r.Lk)("div",ss,[cs,ls,(0,r.Lk)("div",ds,[(0,r.Lk)("div",us,[ms,(0,r.Lk)("div",ps,[gs,bs,(0,r.Lk)("button",{class:"btn btn-menu",onClick:e[0]||(e[0]=o=>n.elegirPlan(""))},"REGISTRAR")])])]),ks,(0,r.Lk)("div",vs,[fs,(0,r.Lk)("div",hs,[(0,r.Lk)("div",Ls,[(0,r.Lk)("div",Cs,[ys,_s,(0,r.Lk)("button",{class:"btn btn-menu",onClick:e[1]||(e[1]=o=>n.elegirPlan(1))},"CONTRATAR")]),(0,r.Lk)("div",xs,[ws,Es,(0,r.Lk)("button",{class:"btn btn-menu",onClick:e[2]||(e[2]=o=>n.elegirPlan(6))},"CONTRATAR")]),(0,r.Lk)("div",Ps,[Ss,Is,(0,r.Lk)("button",{class:"btn btn-menu",onClick:e[3]||(e[3]=o=>n.elegirPlan(12))},"CONTRATAR")])])])])])])])}var Ms={components:{NavbarPublicoComponent:Fe},methods:{elegirPlan(o){o?(localStorage.setItem("plan",o),console.log("PlanesComponent: ",localStorage.getItem("plan")),ac.push("/u/registrar")):(console.log("plan nulo"),localStorage.clear(),ac.push("/u/registrar"))}}};const As=(0,p.A)(Ms,[["render",Ns],["__scopeId","data-v-67c506f2"]]);var Xs=As;const qs=o=>((0,r.Qi)("data-v-33359f1f"),o=o(),(0,r.jt)(),o),Us={key:0},Fs={class:"contenedor text-center"},Vs={class:"caja"},Ts=qs((()=>(0,r.Lk)("img",{src:"/recursos/approve.png",width:"100"},null,-1))),Ws=qs((()=>(0,r.Lk)("h1",null,"Pago Aprobado.",-1))),Ds={key:1},Qs={class:"contenedor text-center"},Js={class:"caja"},$s=qs((()=>(0,r.Lk)("img",{src:"/recursos/decline.png",width:"100"},null,-1))),Os=qs((()=>(0,r.Lk)("h1",null,"No se pudo realizar el pago.",-1))),zs={key:2},js={class:"contenedor text-center"},Rs={class:"caja"},Bs=qs((()=>(0,r.Lk)("img",{src:"/recursos/pending.png",width:"100"},null,-1))),Gs=qs((()=>(0,r.Lk)("h1",null,"Pago Pendiente.",-1)));function Ks(o,e,a,t,i,n){const s=(0,r.g2)("NavbarPublicoComponent"),c=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.bF)(s),"approved"==i.estado?((0,r.uX)(),(0,r.CE)("div",Us,[(0,r.Lk)("div",Fs,[(0,r.Lk)("div",Vs,[Ts,Ws,(0,r.bF)(c,{class:"btn btn-menu mt-3",to:"/u/login"},{default:(0,r.k6)((()=>[(0,r.eW)("Ingresar")])),_:1})])])])):(0,r.Q3)("",!0),"failure"==i.estado||"null"==i.estado?((0,r.uX)(),(0,r.CE)("div",Ds,[(0,r.Lk)("div",Qs,[(0,r.Lk)("div",Js,[$s,Os,(0,r.bF)(c,{class:"btn btn-menu mt-3",to:"/u/login"},{default:(0,r.k6)((()=>[(0,r.eW)("Volver")])),_:1})])])])):(0,r.Q3)("",!0),"pending"==i.estado?((0,r.uX)(),(0,r.CE)("div",zs,[(0,r.Lk)("div",js,[(0,r.Lk)("div",Rs,[Bs,Gs,(0,r.bF)(c,{class:"btn btn-menu mt-3",to:"/u/login"},{default:(0,r.k6)((()=>[(0,r.eW)("Volver")])),_:1})])])])):(0,r.Q3)("",!0)])}var Hs={components:{NavbarPublicoComponent:Fe},data(){return{estado:""}},mounted(){this.getStatus()},methods:{getStatus(){this.estado=this.$route.query.status,console.log(this.estado)}}};const Ys=(0,p.A)(Hs,[["render",Ks],["__scopeId","data-v-33359f1f"]]);var Zs=Ys;const oc=[{path:"/",component:We,meta:{requiresAuth:!1}},{path:"/u/home",component:Oo,meta:{requiresAuth:!0}},{path:"/u/login",component:aa},{path:"/u/registrar",component:Pa,meta:{requiresAuth:!1}},{path:"/u/planes",component:Xs,meta:{requiresAuth:!1}},{path:"/u/registrar/return",component:Zs,meta:{requiresAuth:!1}},{path:"/u/negocios",component:bt,meta:{requiresAuth:!0}},{path:"/u/modificar",component:is,meta:{requiresAuth:!0}},{path:"/u/nuevoProducto",component:Dt,meta:{requiresAuth:!0}},{path:"/u/productos",component:wi,meta:{requiresAuth:!0}},{path:"/u/nuevaCategoria",component:Ii,meta:{requiresAuth:!0}},{path:"/u/categorias",component:Xi,meta:{requiresAuth:!0}},{path:"/:nombreNegocio",component:pn,meta:{requiresAuth:!1}}],ec=(0,h.aE)({history:(0,h.LA)(),routes:oc,linkActiveClass:"active",linkExactActiveClass:"active"});ec.beforeEach(((o,e,a)=>{const t=localStorage.getItem("token");o.matched.some((o=>o.meta.requiresAuth))?t?a():a("/u/login"):a()}));var ac=ec,tc=a(4679);const ic="prod";t.A.defaults.baseURL="dev"==ic?"http://192.168.1.235:3500":"https://nazadoto.com:3500";const rc=(0,i.Ef)(f);rc.use(ac),rc.use(tc.Ay,{load:{key:"AIzaSyC8vrGiWbmnS138WURJk2odQ9HU_BIEz9s"}}),rc.mount("#app")}},e={};function a(t){var i=e[t];if(void 0!==i)return i.exports;var r=e[t]={exports:{}};return o[t].call(r.exports,r,r.exports,a),r.exports}a.m=o,function(){var o=[];a.O=function(e,t,i,r){if(!t){var n=1/0;for(d=0;d<o.length;d++){t=o[d][0],i=o[d][1],r=o[d][2];for(var s=!0,c=0;c<t.length;c++)(!1&r||n>=r)&&Object.keys(a.O).every((function(o){return a.O[o](t[c])}))?t.splice(c--,1):(s=!1,r<n&&(n=r));if(s){o.splice(d--,1);var l=i();void 0!==l&&(e=l)}}return e}r=r||0;for(var d=o.length;d>0&&o[d-1][2]>r;d--)o[d]=o[d-1];o[d]=[t,i,r]}}(),function(){a.n=function(o){var e=o&&o.__esModule?function(){return o["default"]}:function(){return o};return a.d(e,{a:e}),e}}(),function(){a.d=function(o,e){for(var t in e)a.o(e,t)&&!a.o(o,t)&&Object.defineProperty(o,t,{enumerable:!0,get:e[t]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(o){if("object"===typeof window)return window}}()}(),function(){a.o=function(o,e){return Object.prototype.hasOwnProperty.call(o,e)}}(),function(){a.r=function(o){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})}}(),function(){var o={524:0};a.O.j=function(e){return 0===o[e]};var e=function(e,t){var i,r,n=t[0],s=t[1],c=t[2],l=0;if(n.some((function(e){return 0!==o[e]}))){for(i in s)a.o(s,i)&&(a.m[i]=s[i]);if(c)var d=c(a)}for(e&&e(t);l<n.length;l++)r=n[l],a.o(o,r)&&o[r]&&o[r][0](),o[r]=0;return a.O(d)},t=self["webpackChunkmenu"]=self["webpackChunkmenu"]||[];t.forEach(e.bind(null,0)),t.push=e.bind(null,t.push.bind(t))}();var t=a.O(void 0,[504],(function(){return a(4175)}));t=a.O(t)})();
//# sourceMappingURL=app.7b32af59.js.map